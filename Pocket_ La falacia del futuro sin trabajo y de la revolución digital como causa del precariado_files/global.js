function parseUri(e){for(var t=parseUri.options,n=t.parser[t.strictMode?"strict":"loose"].exec(e),i={},a=14;a--;)i[t.key[a]]=n[a]||"";return i[t.q.name]={},i[t.key[12]].replace(t.q.parser,function(e,n,a){n&&(i[t.q.name][n]=a)}),i}function OpenAdViewability(){var e=new OAVGeometryViewabilityCalculator,t={"percentObscured":0,"percentViewable":0,"acceptedViewablePercentage":50,"viewabiltyStatus":!1,"duration":0};this.DEBUG_MODE=!1,this.checkViewability=function(e,i){var a=0,s=this,o=setInterval(function(){n(e)?a++:a=0,t.duration=100*a,a>=9&&(t.viewabiltyStatus=!0,s.DEBUG_MODE||clearInterval(o)),i(t)},100)};var n=function(e){var n=e.getBoundingClientRect(),o=n.width*n.height;return o>=242500&&(t.acceptedViewablePercentage=30),a(e)===!0?!1:s(e)===!0?!1:(i(e),t.percentViewable&&t.percentViewable<t.acceptedViewablePercentage?!1:t.percentViewable?!0:!1)},i=function(n){t.percentObscured=t.percentObscured||0;var i=e.getViewabilityState(n,window);return i.error||(t.percentViewable=i.percentViewable-t.percentObscured),i},a=function(e){var t=window.getComputedStyle(e,null),n=t.getPropertyValue("visibility"),i=t.getPropertyValue("display");return"hidden"==n||"none"==i?!0:!1},s=function(e){var n=e.getBoundingClientRect(),i=12,a=n.left+i,s=n.right-i,r=n.top+i,l=n.bottom-i,c=Math.floor(n.left+n.width/2),u=Math.floor(n.top+n.height/2),d=[{"x":a,"y":r},{"x":c,"y":r},{"x":s,"y":r},{"x":a,"y":u},{"x":c,"y":u},{"x":s,"y":u},{"x":a,"y":l},{"x":c,"y":l},{"x":s,"y":l}];for(var h in d)if(d[h]&&d[h].x>=0&&d[h].y>=0&&(elem=document.elementFromPoint(d[h].x,d[h].y),null!=elem&&elem!=e&&!e.contains(elem)&&(overlappingArea=o(n,elem.getBoundingClientRect()),overlappingArea>0&&(t.percentObscured=100*o(n,elem.getBoundingClientRect()),t.percentObscured>t.acceptedViewablePercentage))))return t.percentViewable=100-t.percentObscured,!0;return!1},o=function(e,t){var n=e.width*e.height,i=Math.max(0,Math.min(e.right,t.right)-Math.max(e.left,t.left)),a=Math.max(0,Math.min(e.bottom,t.bottom)-Math.max(e.top,t.top));return i*a/n}}function OAVGeometryViewabilityCalculator(){this.getViewabilityState=function(i,a){var s,o=e();if(o.area==1/0)return{"error":"Failed to determine viewport"};var r=i.getBoundingClientRect(),l=r.width*r.height;if(o.area/l<.5)s=Math.floor(100*o.area/l);else{var c=t(window.top),u=n(i,a);u.bottom>c.height&&(u.height-=u.bottom-c.height),u.top<0&&(u.height+=u.top),u.left<0&&(u.width+=u.left),u.right>c.width&&(u.width-=u.right-c.width),s=Math.floor(100*u.width*u.height/l)}return{"clientWidth":c.width,"clientHeight":c.height,"objTop":r.top,"objBottom":r.bottom,"objLeft":r.left,"objRight":r.right,"percentViewable":s}};var e=function(){for(var e=t(window),n=e.area,i=window;i!=window.top;)i=i.parent,viewPortSize=t(i),viewPortSize.area<n&&(n=viewPortSize.area,e=viewPortSize);return e},t=function(e){var t={"width":1/0,"height":1/0,"area":1/0};return!isNaN(e.document.body.clientWidth)&&e.document.body.clientWidth>0&&(t.width=e.document.body.clientWidth),!isNaN(e.document.body.clientHeight)&&e.document.body.clientHeight>0&&(t.height=e.document.body.clientHeight),e.document.documentElement&&e.document.documentElement.clientWidth&&!isNaN(e.document.documentElement.clientWidth)&&(t.width=e.document.documentElement.clientWidth),e.document.documentElement&&e.document.documentElement.clientHeight&&!isNaN(e.document.documentElement.clientHeight)&&(t.height=e.document.documentElement.clientHeight),e.innerWidth&&!isNaN(e.innerWidth)&&(t.width=Math.min(t.width,e.innerWidth)),e.innerHeight&&!isNaN(e.innerHeight)&&(t.height=Math.min(t.height,e.innerHeight)),t.area=t.height*t.width,t},n=function(e,t){var a=t,s=t.parent,o={"width":0,"height":0,"left":0,"right":0,"top":0,"bottom":0};if(e){var r=i(e,t);if(r.width=r.right-r.left,r.height=r.bottom-r.top,o=r,a!=s){var l=n(a.frameElement,s);l.bottom<o.bottom&&(l.bottom<o.top&&(o.top=l.bottom),o.bottom=l.bottom),l.right<o.right&&(l.right<o.left&&(o.left=l.right),o.right=l.right),o.width=o.right-o.left,o.height=o.bottom-o.top}}return o},i=function(e,t){var n=t,a=t.parent,s={"left":0,"right":0,"top":0,"bottom":0};if(e){var o=e.getBoundingClientRect();n!=a&&(s=i(n.frameElement,a)),s={"left":o.left+s.left,"right":o.right+s.left,"top":o.top+s.top,"bottom":o.bottom+s.top}}return s}}function dsi(e,t){return{"value":e,"label":t}}function createTooltip(e,t,n,i,a,s,o,r){if("undefined"!=typeof e){"undefined"==typeof i&&(i=["bottom"]),"undefined"==typeof a&&(a=3);var l='<div class="detail"><a class="alt-tooltip-close" href="#"></a><div class="alt-tooltip-checkbox"></div>';if("string"==typeof t&&(l+="<h5>"+t+"</h5>"),"string"==typeof n)for(var c=n.split("|"),u=0;u<c.length;u++)l+="<p>"+c[u]+"</p>";l+="</div>";var d=new PopOver("alt-tooltip",l,$("#container"),{"positions":i,"disableHideOnScroll":!0,"smallArrow":!0,"xOffset":a,"noClickDismiss":!0,"confirmButton":s?!0:!1,"confirmCallback":o?o:null,"fixedPosition":r?!0:!1});return d.object.addClass("alt-tooltip"),d.show(e),d}}function createGSFTooltip(e){currentGSFTooltip.anchor=e.anchor,"undefined"==typeof e.position&&(e.position=["bottom"]),"undefined"==typeof e.offsetx&&(e.offsetx=0),"undefined"==typeof e.offsety&&(e.offsety=0),"bottomleft"==e.position[0]&&(e.offsetx-=14),"string"==typeof e.headline&&(dictJSON.manual.gsfheadline=e.headline),"string"==typeof e.body&&(dictJSON.manual.gsfbody=e.body),"undefined"==typeof e.progress&&(e.progress={"size":3,"selected":1}),"undefined"==typeof e.confirmdetail&&(e.confirmdetail={"button":!1,"text":"","callback":null});var t=new Array(e.progress.size);t[e.progress.selected-1]={"selected":1},dictJSON.manual.gsfprogresscount=t,dictJSON.manual.gsftooltipconfirm=e.confirmdetail.button?1:0,dictJSON.manual.gsftooltipconfirmtext=e.confirmdetail.text,e.noisolate||IsolateScreen.show(e.isolateall?null:e.anchor,e.isolatepadding?e.isolatepadding:null),currentGSFTooltip?(currentGSFTooltip.object.removeClass("popover-active"),currentGSFTooltip.positions=e.position,currentGSFTooltip.xOffset=e.offsetx,currentGSFTooltip.object.find(".gsf-tooltip-detail").remove(),currentGSFTooltip.object.append(Handlebars.templates.gsf_newtooltipdetail(dictJSON)),currentGSFTooltip.object.addClass("popover-active")):currentGSFTooltip=new PopOver("gsf-tooltip",Handlebars.templates.gsf_newtooltipdetail(dictJSON),$("body"),{"positions":e.position,"disableHideOnScroll":!0,"xOffset":e.offsetx,"noClickDismiss":!0,"sizingWithPadding":!0}),currentGSFTooltip.object.addClass("gsf-tooltip"),e.gamifymode&&currentGSFTooltip.object.addClass("gsf-tooltip-gamify"),e.anchor?(currentGSFTooltip.onlyCentered=!1,currentGSFTooltip.object.removeClass("gsf-tooltip-fluid"),currentGSFTooltip.show(e.anchor)):(currentGSFTooltip.onlyCentered=!0,currentGSFTooltip.object.addClass("gsf-tooltip-fluid"),currentGSFTooltip.show($("body")),currentGSFTooltip.anchor=$("body")),e.fixed?currentGSFTooltip.object.addClass("gsf-tooltip-fixed"):currentGSFTooltip.object.removeClass("gsf-tooltip-fixed"),e.noisolate?currentGSFTooltip.object.addClass("gsf-tooltip-noisolate"):currentGSFTooltip.object.removeClass("gsf-tooltip-noisolate");var n=currentGSFTooltip.object.attr("class").match(/popover-new-(\w+)/i);return n&&n.length>1&&currentGSFTooltip.object.removeClass("gsf-tooltip-bottom gsf-tooltip-bottomleft gsf-tooltip-right gsf-tooltip-top gsf-tooltip-left").addClass("gsf-tooltip-"+n[1]),e.confirmdetail.button&&"function"==typeof e.confirmdetail.callback&&currentGSFTooltip.object.find(".gsf-tooltip-confirm").click(function(t){t.preventDefault(),e.confirmdetail.callback()}),currentGSFTooltip}function closeGSFTooltip(){currentGSFTooltip&&currentGSFTooltip.object.removeClass("popover-active"),IsolateScreen.showing&&IsolateScreen.hide()}function createDialog(e){var t=$('<div class="confirmation_dialog"></div>'),n=new PopOver("confirmation",t,null,{"onHide":e.cancel?e.cancel.action:e.onHide?e.onHide:null,"onShow":e.onShow,"xOffset":e.xOffset?e.xOffset:0});e.title&&t.append("<h5>"+e.title+"</h5>"),e.message&&t.append("<p>"+e.message+"</p>"),e.cancel||(e.cancel={}),e.cancel&&e.cancel.title||(e.cancel.title=Templating.callTrans("cta.cancel"));var i=$('<a class="button button-small button-secondary" href="#">'+e.cancel.title+"</a>");i.click(function(t){t.stopPropagation(),t.preventDefault(),e.cancel.action&&e.cancel.action(),n.show(!1)}),t.append(i);var a;e.confirm&&(a=$('<a class="button button-small button-important" href="#">'+e.confirm.title+"</a>"),a.click(function(t){t.stopPropagation(),t.preventDefault(),e.confirm.action&&e.confirm.action(),n.show(!1)}),t.append(a)),t.append('<div class="clear"></div>'),n.show(e.anchor)}function createSimpleTooltip(e,t,n){"object"==typeof e&&("number"!=typeof t&&(t=0),"number"!=typeof n&&(n=0),e.hover(function(i){i.preventDefault();var a=$(".hint");a.length||(a=$('<div class="hint hint-bottom"></div>'),$("body").append(a));var s=e.data("title");s&&"string"!=typeof e.attr("title")||(s=e.attr("title"),e.removeAttr("title"),e.data("title",s)),a.text(s);var o=Math.floor(e.offset().left+e.width()/2-a.outerWidth()/2)+t,r="hint-bottom";0>o?(r="hint-bottomright",o=Math.floor(e.offset().left)):o+a.outerWidth()>$(window).width()&&(r="hint-bottomleft",o=Math.floor(e.offset().left-a.outerWidth()/2)),a.css({"left":o+"px","top":Math.floor(e.offset().top+e.height())+8+n+"px"}),a.removeClass("hint-bottom hint-bottomleft hint-bottomright").addClass(r+" "+r+"active")},function(e){e.preventDefault(),$(".hint").removeClass("hint-bottomactive hint-bottomleftactive hint-bottomrightactive")}),e.click(function(e){e.preventDefault(),$(".hint").removeClass("hint-bottomactive hint-bottomleftactive hint-bottomrightactive")}))}function isChromePackagedApp(){return"object"==typeof chrome&&chrome.storage?!0:!1}function scrollToTop(){$(window).scrollTop(0)}function setSetting(e,t){if(isChromePackagedApp()){var n={};n[e]=t,chrome.storage.local.set(n)}else Modernizr.localstorage&&localStorage.setItem(e,t)}function getSetting(e,t){if(isChromePackagedApp())chrome.storage.local.get(e,t);else if(Modernizr.localstorage){var n=localStorage[e],i={};i[e]=n,t(i)}else t({})}function removeSetting(e){isChromePackagedApp()?chrome.storage.local.remove(e):Modernizr.localstorage&&localStorage.removeItem(e)}function relativeDateString(e,t){e.getTime||(e=new Date(e));var n=1,i=60*n,a=60*i,s=24*a,o=new Date,r=(e.getTime()-o.getTime())/1e3*-1,l={};l.day=Math.floor(r/s),l.hour=Math.floor((r-l.day*s)/a),l.minute=Math.floor((r-l.day*s-l.hour*a)/i);var c;return c=0>r?"":1*i>r?Templating.callTrans("queue.justnow"):2*i>r?Templating.callTrans("queue.minago",null,null,"1"):45*i>r?Templating.callTrans("queue.minsago",null,null,l.minute):120*i>r?Templating.callTrans("queue.hourago",null,null,"1"):24*a>r?Templating.callTrans("queue.hoursago",null,null,l.hour):48*a>r?Templating.callTrans("queue.dayago",null,null,"1"):7*s>r?Templating.callTrans("queue.daysago",null,null,l.day):(t?"on ":"")+moment(e).lang(ServerSettings.language).format("LL")}function createCookie(e,t,n){if(n){var i=new Date;i.setTime(i.getTime()+24*n*60*60*1e3);var a="; expires="+i.toGMTString()}else var a="";document.cookie=e+"="+t+a+"; path=/"}function readCookie(e){for(var t=e+"=",n=document.cookie.split(";"),i=0;i<n.length;i++){for(var a=n[i];" "==a.charAt(0);)a=a.substring(1,a.length);if(0==a.indexOf(t))return a.substring(t.length,a.length)}return null}function tagEntities(e){return String(e).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function elementInViewport(e){var t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)}function elementCloseInViewport(e){var t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.top-300<=(window.innerHeight||document.documentElement.clientHeight)&&t.left<=(window.innerWidth||document.documentElement.clientWidth)}function isInternetExplorer(){var e=-1;if("Microsoft Internet Explorer"==navigator.appName){var t=navigator.userAgent,n=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})");null!=n.exec(t)&&(e=parseFloat(RegExp.$1))}return e>-1}function htmlEntities(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}function sanitizeText(e){var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};return"string"!=typeof e?"":String(e).replace(/[&<>"']/g,function(e){return t[e]})}function desanitizeText(e){var t={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"};return"string"!=typeof e?"":String(e).replace(/(&amp;|&lt;|&gt;|&quot;|&#39;)/g,function(e){return t[e]})}function domainForURL(e){var t=/\/\/([^\/]*)/.exec(e);return t?t[1].replace(/^www\./,""):!1}function urlWithPocketRedirect(e){return"https://getpocket.com/redirect?url="+encodeURIComponent(e)+"&formCheck="+formCheck}function getImageCacheUrl(e,t,n,i){if(e&&(vars=n?"f="+n:"",parts=parseUri(e),"http"==parts.protocol||"https"==parts.protocol)){var a=/\.(jpg|gif|jpeg|png|ico)$/i.exec(parts.file),s=a?a[1]:!1;s||(s="jpg",vars+="&ne=1");var o="";parts.query&&(o="/QS/"+encodeURIComponent(encodeURIComponent(parts.query))+"/EQS");var r="";return t&&(r="/RS/"+t),"https"==parts.protocol&&(vars||(vars=""),vars+="&ssl=1"),i&&(vars+="&lq=1"),e="https://img.readitlater.com/i/"+parts.host+parts.directory+parts.file.replace("."+s,"")+o+r+(o&&!r?"/image":"")+"."+s+(vars?"?"+vars:"")}}function listenForFirefoxButtonSave(e){var t="ffbs",n=prefs.readCookie(t);prefs.createCookie(listenerOnCookieName,1,1/24/60*10),ffbtnto=setInterval(function(){var i=prefs.readCookie(t);i!=n&&(e(),n=i)},500),setTimeout(function(){ffbtnto&&cancelFirefoxButtonListener()},6e5)}function cancelFirefoxButtonListener(){prefs.eraseCookie(listenerOnCookieName),clearInterval(ffbtnto)}function copyTextToClipboard(e,t){var n=document.createElement("textarea");n.value=e,console.log(e),document.body.appendChild(n),n.select();try{{document.execCommand("copy")}t.success()}catch(i){t.error(i)}document.body.removeChild(n)}function PKTToast(){}function Boot(){if(this.pages={},this.defaultPage="queue",this.urlHead="/a/",this.router={"home":"queue","queue":"queue","favorites":"queue","archive":"queue","recommended":"queue","options":"options","read":"reader"},this.GSFStatus={},"object"==typeof ServerSettings&&"string"==typeof ServerSettings.GSFStatus&&ServerSettings.GSFStatus.length&&(this.GSFStatus=JSON.parse(ServerSettings.GSFStatus)),this.ExternalUserSettings={},"object"==typeof ServerSettings&&"string"==typeof ServerSettings.externalUserSettings&&ServerSettings.externalUserSettings.length)try{this.ExternalUserSettings=JSON.parse(ServerSettings.externalUserSettings)}catch(e){var t=ServerSettings.externalUserSettings.match(/"recentlyaccessedtags":(\[.*?"\])/);if(null!==t&&t.length>1){var n=t[1];n=n.replace(/\"/g,'\\"').replace(/\[\\\"/g,'["').replace(/\\\"\]/g,'"]').replace(/,\\"/g,',"').replace(/\\",/g,'",'),ServerSettings.externalUserSettings=ServerSettings.externalUserSettings.replace(/"recentlyaccessedtags":(\[.*?"\])/,'"recentlyaccessedtags":'+n)}this.ExternalUserSettings=JSON.parse(ServerSettings.externalUserSettings)}this.skin="light",this.USERS_META_WEB_GSF_SETTINGS=45,this.USERS_META_WEB_DISPLAY_SETTINGS=46,this.USERS_META_WEB_BETA_STATUS=61,this.USERS_META_MARKETING_OPTOUT=22,this.ACTION_TYPE_LAUNCH=1,this.ACTION_TYPE_NAV=2,this.ACTION_TYPE_RESULTING=3,this.data=new DataAdapter,this.loadedQueue=!1,this.mouseDetectionOverride=!1}function Reader(){this.topY=120,this.nav="reader",this.styleMenu=!1;var e=navigator.userAgent,t=e.match(/Firefox/)||e.match(/IE/);this.yHitMethod=t?"screen":"page",this.pendingPosition=void 0,this.ie9OrLower=$(".lt-ie10").length?!0:!1,this.scrollDelta=10,this.lastScrollTop=0,this.loading=!1,this.navHeight=0,this.windowHeight=0,this.headerBottom=null,this.toolbarShowingExtras=!1,this.BREAK_ITEM_SHOWTOOLBARTITLE=928}function idToSelector(e){return"#"+e}function classToSelector(e){return"."+e}function TagSidebar(){this.created=!1,this.loadedTags=!1,this.selectedTag,this.rows={},this.tags=[],this.deleteClickedFlag=!1,this.scrollKit={"pinnedDirection":0,"lastScrollY":$(window).scrollTop()},this.contentDiv,this.wrapper,this.layoutInfoCache={"headersHeight":0,"footersHeight":0},this.isHorizontallyOffset=!1}function Queue(){this.nav="queue",this.defaultSection="Queue",this.defaultView="grid",this.css=[],this.scripts=[],this.location=0,this.pageSize=30,this.remaining=!0,this.recommendedRemaining=!0,this.offset=0,this.data=new QueueData,this.lastScrollTop=0,this.items=[],this.itemsByID={},this.recommendedItems=[],this.sortingByNewestToOldest=!1,this.initialView=!0,this.itemHighlight=null,this.syncedSince=null,this.recommendedSyncedSince=null,this.recommendedLocation=0,this.recommendedOffsetId=null,this.recommendedOffset=0,this.bulkEditMode=!1,this.recommendedMode=!1,this.topicDetail={},this.topicDetailActive=!1,this.recentSearches=[],this.gsfArticles={},this.tilesPerRow=1,this.toolbarQueueExpanded=!1,this.THUMB_VARIANT_EMPTY=0,this.THUMB_VARIANT_TITLEONLY=1,this.THUMB_VARIANT_DEFAULT=2,this.THUMB_VARIANT_LISTDEFAULT=3,this.THUMB_VARIANT_LISTEMPTY=4,this.THUMB_VARIANT_RECOMMENDED=5,this.ITEM_MARGIN=10,this.ITEM_GRID_HEIGHT=280,this.BREAK_ITEM_HEADER_WIDE=608,this.BREAK_ITEM_LIST_WIDE=640,this.BREAK_ITEM_LIST_WIDECOLUMNS=800,this.BREAK_ITEM_POPUP_WIDE=480,this.BREAK_ITEM_COLUMNS_TWO=528,this.BREAK_ITEM_COLUMNS_THREE=800,this.BREAK_ITEM_COLUMNS_FOUR=1296,this.BREAK_ITEM_SIDENAV=1040,this.BREAK_ITEM_MAXWIDTH=1600}function listAuthors(e){if(!e)return"";var t="";for(authorId in e)t+='<span class="author">'+cleanAuthorName(e[authorId].name)+"</span>, ";return t.replace(/, $/,"")}function listTags(e,t,n,i){if(!e)return"";var a="",s=[];if(t)for(tagId in e){var o=sanitizeText(e[tagId]),r="tag";i&&o==i&&(r="tag tag-search-match"),-1==$.inArray(o,s)&&(a+='<a class="'+r+'" href="'+queue.baseTagUrlPrefix+encodeURIComponent(o)+'">'+o+"</a>",n||(a+=", "),s.push(o))}else for(tagId in e){var o=sanitizeText(e[tagId].tag);if($.trim(o).length){var r="tag";i&&o==i&&(r="tag tag-search-match"),-1==$.inArray(o,s)&&(i&&o==i?a='<a class="'+r+'" href="'+queue.baseTagUrlPrefix+encodeURIComponent(o)+'">'+o+"</a>"+a:a+='<a class="'+r+'" href="'+queue.baseTagUrlPrefix+encodeURIComponent(o)+'">'+o+"</a>",n||(a+=", "),s.push(o))}}return a.replace(/, $/,"")}function cleanAuthorName(e){return(e.match(/^[A-Z\s\'\-]{1,}/)||e.match(/^[a-z\s\'\-]{1,}$/))&&(e=ucwords(e.toLowerCase())),e}function ucwords(e){return(e+"").replace(/^([a-z])|\s+([a-z])/g,function(e){return e.toUpperCase()})}function faviconForUrl(e){return getImageCacheUrl("http://"+e+"/favicon.ico",!1,"fi")}function imageWouldFitIn(e,t,n){return e.width>=t&&t*e.height/e.width>=n}function getSize(e,t){return t?{"width":e.outerWidth(),"height":e.outerHeight()}:{"width":e.width(),"height":e.height()}}function snapToLineAndMaxHeight(e,t,n){var i=Math.floor(n/t);e.css("height",i*t+"px")}function sortBySortId(e,t){return e.sort_id<t.sort_id?-1:e.sort_id>t.sort_id?1:0}function sortByTimeAddedNewest(e,t){return parseInt(t.time_added)-parseInt(e.time_added)}function sortByTimeAddedOldest(e,t){return parseInt(e.time_added)-parseInt(t.time_added)}function sortByTitle(e,t){return e.resolved_title.localCompare(t.resolved_title)}function sortBySite(e,t){return e.resolved_url.localCompare(t.resolved_url)}function tilesPerRow(e){e||(e=$(window).width());var t=1;return"grid"==queue.selectedView&&e>=queue.BREAK_ITEM_COLUMNS_TWO&&(e>=queue.BREAK_ITEM_COLUMNS_TWO&&(t=2),e>=queue.BREAK_ITEM_COLUMNS_THREE&&(t=3),e>=queue.BREAK_ITEM_COLUMNS_FOUR&&(t=4)),t}!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function n(e){var t="length"in e&&e.length,n=ae.type(e);return"function"===n||ae.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e}function i(e,t,n){if(ae.isFunction(t))return ae.grep(e,function(e,i){return!!t.call(e,i,e)!==n});if(t.nodeType)return ae.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(he.test(t))return ae.filter(t,e,n);t=ae.filter(t,e)}return ae.grep(e,function(e){return ae.inArray(e,t)>=0!==n})}function a(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}function s(e){var t=ye[e]={};return ae.each(e.match(be)||[],function(e,n){t[n]=!0}),t}function o(){fe.addEventListener?(fe.removeEventListener("DOMContentLoaded",r,!1),e.removeEventListener("load",r,!1)):(fe.detachEvent("onreadystatechange",r),e.detachEvent("onload",r))}function r(){(fe.addEventListener||"load"===event.type||"complete"===fe.readyState)&&(o(),ae.ready())}function l(e,t,n){if(void 0===n&&1===e.nodeType){var i="data-"+t.replace(xe,"-$1").toLowerCase();if(n=e.getAttribute(i),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:ke.test(n)?ae.parseJSON(n):n}catch(a){}ae.data(e,t,n)}else n=void 0}return n}function c(e){var t;for(t in e)if(("data"!==t||!ae.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function u(e,t,n,i){if(ae.acceptData(e)){var a,s,o=ae.expando,r=e.nodeType,l=r?ae.cache:e,c=r?e[o]:e[o]&&o;if(c&&l[c]&&(i||l[c].data)||void 0!==n||"string"!=typeof t)return c||(c=r?e[o]=J.pop()||ae.guid++:o),l[c]||(l[c]=r?{}:{"toJSON":ae.noop}),("object"==typeof t||"function"==typeof t)&&(i?l[c]=ae.extend(l[c],t):l[c].data=ae.extend(l[c].data,t)),s=l[c],i||(s.data||(s.data={}),s=s.data),void 0!==n&&(s[ae.camelCase(t)]=n),"string"==typeof t?(a=s[t],null==a&&(a=s[ae.camelCase(t)])):a=s,a}}function d(e,t,n){if(ae.acceptData(e)){var i,a,s=e.nodeType,o=s?ae.cache:e,r=s?e[ae.expando]:ae.expando;if(o[r]){if(t&&(i=n?o[r]:o[r].data)){ae.isArray(t)?t=t.concat(ae.map(t,ae.camelCase)):t in i?t=[t]:(t=ae.camelCase(t),t=t in i?[t]:t.split(" ")),a=t.length;for(;a--;)delete i[t[a]];if(n?!c(i):!ae.isEmptyObject(i))return}(n||(delete o[r].data,c(o[r])))&&(s?ae.cleanData([e],!0):ne.deleteExpando||o!=o.window?delete o[r]:o[r]=null)}}}function h(){return!0}function p(){return!1}function f(){try{return fe.activeElement}catch(e){}}function m(e){var t=Pe.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}function g(e,t){var n,i,a=0,s=typeof e.getElementsByTagName!==Te?e.getElementsByTagName(t||"*"):typeof e.querySelectorAll!==Te?e.querySelectorAll(t||"*"):void 0;if(!s)for(s=[],n=e.childNodes||e;null!=(i=n[a]);a++)!t||ae.nodeName(i,t)?s.push(i):ae.merge(s,g(i,t));return void 0===t||t&&ae.nodeName(e,t)?ae.merge([e],s):s}function v(e){Ie.test(e.type)&&(e.defaultChecked=e.checked)}function _(e,t){return ae.nodeName(e,"table")&&ae.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function b(e){return e.type=(null!==ae.find.attr(e,"type"))+"/"+e.type,e}function y(e){var t=We.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function S(e,t){for(var n,i=0;null!=(n=e[i]);i++)ae._data(n,"globalEval",!t||ae._data(t[i],"globalEval"))}function w(e,t){if(1===t.nodeType&&ae.hasData(e)){var n,i,a,s=ae._data(e),o=ae._data(t,s),r=s.events;if(r){delete o.handle,o.events={};for(n in r)for(i=0,a=r[n].length;a>i;i++)ae.event.add(t,n,r[n][i])}o.data&&(o.data=ae.extend({},o.data))}}function T(e,t){var n,i,a;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!ne.noCloneEvent&&t[ae.expando]){a=ae._data(t);for(i in a.events)ae.removeEvent(t,i,a.handle);t.removeAttribute(ae.expando)}"script"===n&&t.text!==e.text?(b(t).text=e.text,y(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),ne.html5Clone&&e.innerHTML&&!ae.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&Ie.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}}function k(t,n){var i,a=ae(n.createElement(t)).appendTo(n.body),s=e.getDefaultComputedStyle&&(i=e.getDefaultComputedStyle(a[0]))?i.display:ae.css(a[0],"display");return a.detach(),s}function x(e){var t=fe,n=Ze[e];return n||(n=k(e,t),"none"!==n&&n||(Qe=(Qe||ae("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=(Qe[0].contentWindow||Qe[0].contentDocument).document,t.write(),t.close(),n=k(e,t),Qe.detach()),Ze[e]=n),n}function C(e,t){return{"get":function(){var n=e();if(null!=n)return n?void delete this.get:(this.get=t).apply(this,arguments)}}}function $(e,t){if(t in e)return t;for(var n=t.charAt(0).toUpperCase()+t.slice(1),i=t,a=ht.length;a--;)if(t=ht[a]+n,t in e)return t;return i}function E(e,t){for(var n,i,a,s=[],o=0,r=e.length;r>o;o++)i=e[o],i.style&&(s[o]=ae._data(i,"olddisplay"),n=i.style.display,t?(s[o]||"none"!==n||(i.style.display=""),""===i.style.display&&Ee(i)&&(s[o]=ae._data(i,"olddisplay",x(i.nodeName)))):(a=Ee(i),(n&&"none"!==n||!a)&&ae._data(i,"olddisplay",a?n:ae.css(i,"display"))));for(o=0;r>o;o++)i=e[o],i.style&&(t&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=t?s[o]||"":"none"));return e}function M(e,t,n){var i=lt.exec(t);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):t}function I(e,t,n,i,a){for(var s=n===(i?"border":"content")?4:"width"===t?1:0,o=0;4>s;s+=2)"margin"===n&&(o+=ae.css(e,n+$e[s],!0,a)),i?("content"===n&&(o-=ae.css(e,"padding"+$e[s],!0,a)),"margin"!==n&&(o-=ae.css(e,"border"+$e[s]+"Width",!0,a))):(o+=ae.css(e,"padding"+$e[s],!0,a),"padding"!==n&&(o+=ae.css(e,"border"+$e[s]+"Width",!0,a)));return o}function A(e,t,n){var i=!0,a="width"===t?e.offsetWidth:e.offsetHeight,s=et(e),o=ne.boxSizing&&"border-box"===ae.css(e,"boxSizing",!1,s);if(0>=a||null==a){if(a=tt(e,t,s),(0>a||null==a)&&(a=e.style[t]),it.test(a))return a;i=o&&(ne.boxSizingReliable()||a===e.style[t]),a=parseFloat(a)||0}return a+I(e,t,n||(o?"border":"content"),i,s)+"px"}function D(e,t,n,i,a){return new D.prototype.init(e,t,n,i,a)}function L(){return setTimeout(function(){pt=void 0}),pt=ae.now()}function q(e,t){var n,i={"height":e},a=0;for(t=t?1:0;4>a;a+=2-t)n=$e[a],i["margin"+n]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function O(e,t,n){for(var i,a=(bt[t]||[]).concat(bt["*"]),s=0,o=a.length;o>s;s++)if(i=a[s].call(n,t,e))return i}function P(e,t,n){var i,a,s,o,r,l,c,u,d=this,h={},p=e.style,f=e.nodeType&&Ee(e),m=ae._data(e,"fxshow");n.queue||(r=ae._queueHooks(e,"fx"),null==r.unqueued&&(r.unqueued=0,l=r.empty.fire,r.empty.fire=function(){r.unqueued||l()}),r.unqueued++,d.always(function(){d.always(function(){r.unqueued--,ae.queue(e,"fx").length||r.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],c=ae.css(e,"display"),u="none"===c?ae._data(e,"olddisplay")||x(e.nodeName):c,"inline"===u&&"none"===ae.css(e,"float")&&(ne.inlineBlockNeedsLayout&&"inline"!==x(e.nodeName)?p.zoom=1:p.display="inline-block")),n.overflow&&(p.overflow="hidden",ne.shrinkWrapBlocks()||d.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}));for(i in t)if(a=t[i],mt.exec(a)){if(delete t[i],s=s||"toggle"===a,a===(f?"hide":"show")){if("show"!==a||!m||void 0===m[i])continue;f=!0}h[i]=m&&m[i]||ae.style(e,i)}else c=void 0;if(ae.isEmptyObject(h))"inline"===("none"===c?x(e.nodeName):c)&&(p.display=c);else{m?"hidden"in m&&(f=m.hidden):m=ae._data(e,"fxshow",{}),s&&(m.hidden=!f),f?ae(e).show():d.done(function(){ae(e).hide()}),d.done(function(){var t;ae._removeData(e,"fxshow");for(t in h)ae.style(e,t,h[t])});for(i in h)o=O(f?m[i]:0,i,d),i in m||(m[i]=o.start,f&&(o.end=o.start,o.start="width"===i||"height"===i?1:0))}}function N(e,t){var n,i,a,s,o;for(n in e)if(i=ae.camelCase(n),a=t[i],s=e[n],ae.isArray(s)&&(a=s[1],s=e[n]=s[0]),n!==i&&(e[i]=s,delete e[n]),o=ae.cssHooks[i],o&&"expand"in o){s=o.expand(s),delete e[i];for(n in s)n in e||(e[n]=s[n],t[n]=a)}else t[i]=a}function F(e,t,n){var i,a,s=0,o=_t.length,r=ae.Deferred().always(function(){delete l.elem}),l=function(){if(a)return!1;for(var t=pt||L(),n=Math.max(0,c.startTime+c.duration-t),i=n/c.duration||0,s=1-i,o=0,l=c.tweens.length;l>o;o++)c.tweens[o].run(s);return r.notifyWith(e,[c,s,n]),1>s&&l?n:(r.resolveWith(e,[c]),!1)},c=r.promise({"elem":e,"props":ae.extend({},t),"opts":ae.extend(!0,{"specialEasing":{}},n),"originalProperties":t,"originalOptions":n,"startTime":pt||L(),"duration":n.duration,"tweens":[],"createTween":function(t,n){var i=ae.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(i),i},"stop":function(t){var n=0,i=t?c.tweens.length:0;if(a)return this;for(a=!0;i>n;n++)c.tweens[n].run(1);return t?r.resolveWith(e,[c,t]):r.rejectWith(e,[c,t]),this}}),u=c.props;for(N(u,c.opts.specialEasing);o>s;s++)if(i=_t[s].call(c,e,u,c.opts))return i;return ae.map(u,O,c),ae.isFunction(c.opts.start)&&c.opts.start.call(e,c),ae.fx.timer(ae.extend(l,{"elem":e,"anim":c,"queue":c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function U(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,a=0,s=t.toLowerCase().match(be)||[];if(ae.isFunction(n))for(;i=s[a++];)"+"===i.charAt(0)?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}function H(e,t,n,i){function a(r){var l;return s[r]=!0,ae.each(e[r]||[],function(e,r){var c=r(t,n,i);return"string"!=typeof c||o||s[c]?o?!(l=c):void 0:(t.dataTypes.unshift(c),a(c),!1)}),l}var s={},o=e===Rt;return a(t.dataTypes[0])||!s["*"]&&a("*")}function j(e,t){var n,i,a=ae.ajaxSettings.flatOptions||{};for(i in t)void 0!==t[i]&&((a[i]?e:n||(n={}))[i]=t[i]);return n&&ae.extend(!0,e,n),e}function G(e,t,n){for(var i,a,s,o,r=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===a&&(a=e.mimeType||t.getResponseHeader("Content-Type"));if(a)for(o in r)if(r[o]&&r[o].test(a)){l.unshift(o);break}if(l[0]in n)s=l[0];else{for(o in n){if(!l[0]||e.converters[o+" "+l[0]]){s=o;break}i||(i=o)}s=s||i}return s?(s!==l[0]&&l.unshift(s),n[s]):void 0}function R(e,t,n,i){var a,s,o,r,l,c={},u=e.dataTypes.slice();if(u[1])for(o in e.converters)c[o.toLowerCase()]=e.converters[o];for(s=u.shift();s;)if(e.responseFields[s]&&(n[e.responseFields[s]]=t),!l&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=s,s=u.shift())if("*"===s)s=l;else if("*"!==l&&l!==s){if(o=c[l+" "+s]||c["* "+s],!o)for(a in c)if(r=a.split(" "),r[1]===s&&(o=c[l+" "+r[0]]||c["* "+r[0]])){o===!0?o=c[a]:c[a]!==!0&&(s=r[0],u.unshift(r[1]));break}if(o!==!0)if(o&&e["throws"])t=o(t);else try{t=o(t)}catch(d){return{"state":"parsererror","error":o?d:"No conversion from "+l+" to "+s}}}return{"state":"success","data":t}}function z(e,t,n,i){var a;if(ae.isArray(t))ae.each(t,function(t,a){n||Wt.test(e)?i(e,a):z(e+"["+("object"==typeof a?t:"")+"]",a,n,i)});else if(n||"object"!==ae.type(t))i(e,t);else for(a in t)z(e+"["+a+"]",t[a],n,i)}function Y(){try{return new e.XMLHttpRequest}catch(t){}}function B(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function W(e){return ae.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}var J=[],V=J.slice,K=J.concat,X=J.push,Q=J.indexOf,Z={},ee=Z.toString,te=Z.hasOwnProperty,ne={},ie="1.11.3",ae=function(e,t){return new ae.fn.init(e,t)},se=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,oe=/^-ms-/,re=/-([\da-z])/gi,le=function(e,t){return t.toUpperCase()};ae.fn=ae.prototype={"jquery":ie,"constructor":ae,"selector":"","length":0,"toArray":function(){return V.call(this)},"get":function(e){return null!=e?0>e?this[e+this.length]:this[e]:V.call(this)},"pushStack":function(e){var t=ae.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},"each":function(e,t){return ae.each(this,e,t)},"map":function(e){return this.pushStack(ae.map(this,function(t,n){return e.call(t,n,t)}))},"slice":function(){return this.pushStack(V.apply(this,arguments))},"first":function(){return this.eq(0)},"last":function(){return this.eq(-1)},"eq":function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},"end":function(){return this.prevObject||this.constructor(null);

},"push":X,"sort":J.sort,"splice":J.splice},ae.extend=ae.fn.extend=function(){var e,t,n,i,a,s,o=arguments[0]||{},r=1,l=arguments.length,c=!1;for("boolean"==typeof o&&(c=o,o=arguments[r]||{},r++),"object"==typeof o||ae.isFunction(o)||(o={}),r===l&&(o=this,r--);l>r;r++)if(null!=(a=arguments[r]))for(i in a)e=o[i],n=a[i],o!==n&&(c&&n&&(ae.isPlainObject(n)||(t=ae.isArray(n)))?(t?(t=!1,s=e&&ae.isArray(e)?e:[]):s=e&&ae.isPlainObject(e)?e:{},o[i]=ae.extend(c,s,n)):void 0!==n&&(o[i]=n));return o},ae.extend({"expando":"jQuery"+(ie+Math.random()).replace(/\D/g,""),"isReady":!0,"error":function(e){throw new Error(e)},"noop":function(){},"isFunction":function(e){return"function"===ae.type(e)},"isArray":Array.isArray||function(e){return"array"===ae.type(e)},"isWindow":function(e){return null!=e&&e==e.window},"isNumeric":function(e){return!ae.isArray(e)&&e-parseFloat(e)+1>=0},"isEmptyObject":function(e){var t;for(t in e)return!1;return!0},"isPlainObject":function(e){var t;if(!e||"object"!==ae.type(e)||e.nodeType||ae.isWindow(e))return!1;try{if(e.constructor&&!te.call(e,"constructor")&&!te.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}if(ne.ownLast)for(t in e)return te.call(e,t);for(t in e);return void 0===t||te.call(e,t)},"type":function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?Z[ee.call(e)]||"object":typeof e},"globalEval":function(t){t&&ae.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},"camelCase":function(e){return e.replace(oe,"ms-").replace(re,le)},"nodeName":function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},"each":function(e,t,i){var a,s=0,o=e.length,r=n(e);if(i){if(r)for(;o>s&&(a=t.apply(e[s],i),a!==!1);s++);else for(s in e)if(a=t.apply(e[s],i),a===!1)break}else if(r)for(;o>s&&(a=t.call(e[s],s,e[s]),a!==!1);s++);else for(s in e)if(a=t.call(e[s],s,e[s]),a===!1)break;return e},"trim":function(e){return null==e?"":(e+"").replace(se,"")},"makeArray":function(e,t){var i=t||[];return null!=e&&(n(Object(e))?ae.merge(i,"string"==typeof e?[e]:e):X.call(i,e)),i},"inArray":function(e,t,n){var i;if(t){if(Q)return Q.call(t,e,n);for(i=t.length,n=n?0>n?Math.max(0,i+n):n:0;i>n;n++)if(n in t&&t[n]===e)return n}return-1},"merge":function(e,t){for(var n=+t.length,i=0,a=e.length;n>i;)e[a++]=t[i++];if(n!==n)for(;void 0!==t[i];)e[a++]=t[i++];return e.length=a,e},"grep":function(e,t,n){for(var i,a=[],s=0,o=e.length,r=!n;o>s;s++)i=!t(e[s],s),i!==r&&a.push(e[s]);return a},"map":function(e,t,i){var a,s=0,o=e.length,r=n(e),l=[];if(r)for(;o>s;s++)a=t(e[s],s,i),null!=a&&l.push(a);else for(s in e)a=t(e[s],s,i),null!=a&&l.push(a);return K.apply([],l)},"guid":1,"proxy":function(e,t){var n,i,a;return"string"==typeof t&&(a=e[t],t=e,e=a),ae.isFunction(e)?(n=V.call(arguments,2),i=function(){return e.apply(t||this,n.concat(V.call(arguments)))},i.guid=e.guid=e.guid||ae.guid++,i):void 0},"now":function(){return+new Date},"support":ne}),ae.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){Z["[object "+t+"]"]=t.toLowerCase()});var ce=function(e){function t(e,t,n,i){var a,s,o,r,l,c,d,p,f,m;if((t?t.ownerDocument||t:H)!==D&&A(t),t=t||D,n=n||[],r=t.nodeType,"string"!=typeof e||!e||1!==r&&9!==r&&11!==r)return n;if(!i&&q){if(11!==r&&(a=_e.exec(e)))if(o=a[1]){if(9===r){if(s=t.getElementById(o),!s||!s.parentNode)return n;if(s.id===o)return n.push(s),n}else if(t.ownerDocument&&(s=t.ownerDocument.getElementById(o))&&F(t,s)&&s.id===o)return n.push(s),n}else{if(a[2])return Q.apply(n,t.getElementsByTagName(e)),n;if((o=a[3])&&S.getElementsByClassName)return Q.apply(n,t.getElementsByClassName(o)),n}if(S.qsa&&(!O||!O.test(e))){if(p=d=U,f=t,m=1!==r&&e,1===r&&"object"!==t.nodeName.toLowerCase()){for(c=x(e),(d=t.getAttribute("id"))?p=d.replace(ye,"\\$&"):t.setAttribute("id",p),p="[id='"+p+"'] ",l=c.length;l--;)c[l]=p+h(c[l]);f=be.test(e)&&u(t.parentNode)||t,m=c.join(",")}if(m)try{return Q.apply(n,f.querySelectorAll(m)),n}catch(g){}finally{d||t.removeAttribute("id")}}}return $(e.replace(le,"$1"),t,n,i)}function n(){function e(n,i){return t.push(n+" ")>w.cacheLength&&delete e[t.shift()],e[n+" "]=i}var t=[];return e}function i(e){return e[U]=!0,e}function a(e){var t=D.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function s(e,t){for(var n=e.split("|"),i=e.length;i--;)w.attrHandle[n[i]]=t}function o(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||W)-(~e.sourceIndex||W);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function r(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function l(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function c(e){return i(function(t){return t=+t,i(function(n,i){for(var a,s=e([],n.length,t),o=s.length;o--;)n[a=s[o]]&&(n[a]=!(i[a]=n[a]))})})}function u(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function d(){}function h(e){for(var t=0,n=e.length,i="";n>t;t++)i+=e[t].value;return i}function p(e,t,n){var i=t.dir,a=n&&"parentNode"===i,s=G++;return t.first?function(t,n,s){for(;t=t[i];)if(1===t.nodeType||a)return e(t,n,s)}:function(t,n,o){var r,l,c=[j,s];if(o){for(;t=t[i];)if((1===t.nodeType||a)&&e(t,n,o))return!0}else for(;t=t[i];)if(1===t.nodeType||a){if(l=t[U]||(t[U]={}),(r=l[i])&&r[0]===j&&r[1]===s)return c[2]=r[2];if(l[i]=c,c[2]=e(t,n,o))return!0}}}function f(e){return e.length>1?function(t,n,i){for(var a=e.length;a--;)if(!e[a](t,n,i))return!1;return!0}:e[0]}function m(e,n,i){for(var a=0,s=n.length;s>a;a++)t(e,n[a],i);return i}function g(e,t,n,i,a){for(var s,o=[],r=0,l=e.length,c=null!=t;l>r;r++)(s=e[r])&&(!n||n(s,i,a))&&(o.push(s),c&&t.push(r));return o}function v(e,t,n,a,s,o){return a&&!a[U]&&(a=v(a)),s&&!s[U]&&(s=v(s,o)),i(function(i,o,r,l){var c,u,d,h=[],p=[],f=o.length,v=i||m(t||"*",r.nodeType?[r]:r,[]),_=!e||!i&&t?v:g(v,h,e,r,l),b=n?s||(i?e:f||a)?[]:o:_;if(n&&n(_,b,r,l),a)for(c=g(b,p),a(c,[],r,l),u=c.length;u--;)(d=c[u])&&(b[p[u]]=!(_[p[u]]=d));if(i){if(s||e){if(s){for(c=[],u=b.length;u--;)(d=b[u])&&c.push(_[u]=d);s(null,b=[],c,l)}for(u=b.length;u--;)(d=b[u])&&(c=s?ee(i,d):h[u])>-1&&(i[c]=!(o[c]=d))}}else b=g(b===o?b.splice(f,b.length):b),s?s(null,o,b,l):Q.apply(o,b)})}function _(e){for(var t,n,i,a=e.length,s=w.relative[e[0].type],o=s||w.relative[" "],r=s?1:0,l=p(function(e){return e===t},o,!0),c=p(function(e){return ee(t,e)>-1},o,!0),u=[function(e,n,i){var a=!s&&(i||n!==E)||((t=n).nodeType?l(e,n,i):c(e,n,i));return t=null,a}];a>r;r++)if(n=w.relative[e[r].type])u=[p(f(u),n)];else{if(n=w.filter[e[r].type].apply(null,e[r].matches),n[U]){for(i=++r;a>i&&!w.relative[e[i].type];i++);return v(r>1&&f(u),r>1&&h(e.slice(0,r-1).concat({"value":" "===e[r-2].type?"*":""})).replace(le,"$1"),n,i>r&&_(e.slice(r,i)),a>i&&_(e=e.slice(i)),a>i&&h(e))}u.push(n)}return f(u)}function b(e,n){var a=n.length>0,s=e.length>0,o=function(i,o,r,l,c){var u,d,h,p=0,f="0",m=i&&[],v=[],_=E,b=i||s&&w.find.TAG("*",c),y=j+=null==_?1:Math.random()||.1,S=b.length;for(c&&(E=o!==D&&o);f!==S&&null!=(u=b[f]);f++){if(s&&u){for(d=0;h=e[d++];)if(h(u,o,r)){l.push(u);break}c&&(j=y)}a&&((u=!h&&u)&&p--,i&&m.push(u))}if(p+=f,a&&f!==p){for(d=0;h=n[d++];)h(m,v,o,r);if(i){if(p>0)for(;f--;)m[f]||v[f]||(v[f]=K.call(l));v=g(v)}Q.apply(l,v),c&&!i&&v.length>0&&p+n.length>1&&t.uniqueSort(l)}return c&&(j=y,E=_),m};return a?i(o):o}var y,S,w,T,k,x,C,$,E,M,I,A,D,L,q,O,P,N,F,U="sizzle"+1*new Date,H=e.document,j=0,G=0,R=n(),z=n(),Y=n(),B=function(e,t){return e===t&&(I=!0),0},W=1<<31,J={}.hasOwnProperty,V=[],K=V.pop,X=V.push,Q=V.push,Z=V.slice,ee=function(e,t){for(var n=0,i=e.length;i>n;n++)if(e[n]===t)return n;return-1},te="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ne="[\\x20\\t\\r\\n\\f]",ie="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ae=ie.replace("w","w#"),se="\\["+ne+"*("+ie+")(?:"+ne+"*([*^$|!~]?=)"+ne+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ae+"))|)"+ne+"*\\]",oe=":("+ie+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+se+")*)|.*)\\)|)",re=new RegExp(ne+"+","g"),le=new RegExp("^"+ne+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ne+"+$","g"),ce=new RegExp("^"+ne+"*,"+ne+"*"),ue=new RegExp("^"+ne+"*([>+~]|"+ne+")"+ne+"*"),de=new RegExp("="+ne+"*([^\\]'\"]*?)"+ne+"*\\]","g"),he=new RegExp(oe),pe=new RegExp("^"+ae+"$"),fe={"ID":new RegExp("^#("+ie+")"),"CLASS":new RegExp("^\\.("+ie+")"),"TAG":new RegExp("^("+ie.replace("w","w*")+")"),"ATTR":new RegExp("^"+se),"PSEUDO":new RegExp("^"+oe),"CHILD":new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ne+"*(even|odd|(([+-]|)(\\d*)n|)"+ne+"*(?:([+-]|)"+ne+"*(\\d+)|))"+ne+"*\\)|)","i"),"bool":new RegExp("^(?:"+te+")$","i"),"needsContext":new RegExp("^"+ne+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ne+"*((?:-\\d)?\\d*)"+ne+"*\\)|)(?=[^-]|$)","i")},me=/^(?:input|select|textarea|button)$/i,ge=/^h\d$/i,ve=/^[^{]+\{\s*\[native \w/,_e=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,be=/[+~]/,ye=/'|\\/g,Se=new RegExp("\\\\([\\da-f]{1,6}"+ne+"?|("+ne+")|.)","ig"),we=function(e,t,n){var i="0x"+t-65536;return i!==i||n?t:0>i?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},Te=function(){A()};try{Q.apply(V=Z.call(H.childNodes),H.childNodes),V[H.childNodes.length].nodeType}catch(ke){Q={"apply":V.length?function(e,t){X.apply(e,Z.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}S=t.support={},k=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},A=t.setDocument=function(e){var t,n,i=e?e.ownerDocument||e:H;return i!==D&&9===i.nodeType&&i.documentElement?(D=i,L=i.documentElement,n=i.defaultView,n&&n!==n.top&&(n.addEventListener?n.addEventListener("unload",Te,!1):n.attachEvent&&n.attachEvent("onunload",Te)),q=!k(i),S.attributes=a(function(e){return e.className="i",!e.getAttribute("className")}),S.getElementsByTagName=a(function(e){return e.appendChild(i.createComment("")),!e.getElementsByTagName("*").length}),S.getElementsByClassName=ve.test(i.getElementsByClassName),S.getById=a(function(e){return L.appendChild(e).id=U,!i.getElementsByName||!i.getElementsByName(U).length}),S.getById?(w.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&q){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},w.filter.ID=function(e){var t=e.replace(Se,we);return function(e){return e.getAttribute("id")===t}}):(delete w.find.ID,w.filter.ID=function(e){var t=e.replace(Se,we);return function(e){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}}),w.find.TAG=S.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):S.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,i=[],a=0,s=t.getElementsByTagName(e);if("*"===e){for(;n=s[a++];)1===n.nodeType&&i.push(n);return i}return s},w.find.CLASS=S.getElementsByClassName&&function(e,t){return q?t.getElementsByClassName(e):void 0},P=[],O=[],(S.qsa=ve.test(i.querySelectorAll))&&(a(function(e){L.appendChild(e).innerHTML="<a id='"+U+"'></a><select id='"+U+"-\f]' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&O.push("[*^$]="+ne+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||O.push("\\["+ne+"*(?:value|"+te+")"),e.querySelectorAll("[id~="+U+"-]").length||O.push("~="),e.querySelectorAll(":checked").length||O.push(":checked"),e.querySelectorAll("a#"+U+"+*").length||O.push(".#.+[+~]")}),a(function(e){var t=i.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&O.push("name"+ne+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||O.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),O.push(",.*:")})),(S.matchesSelector=ve.test(N=L.matches||L.webkitMatchesSelector||L.mozMatchesSelector||L.oMatchesSelector||L.msMatchesSelector))&&a(function(e){S.disconnectedMatch=N.call(e,"div"),N.call(e,"[s!='']:x"),P.push("!=",oe)}),O=O.length&&new RegExp(O.join("|")),P=P.length&&new RegExp(P.join("|")),t=ve.test(L.compareDocumentPosition),F=t||ve.test(L.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},B=t?function(e,t){if(e===t)return I=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n?n:(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!S.sortDetached&&t.compareDocumentPosition(e)===n?e===i||e.ownerDocument===H&&F(H,e)?-1:t===i||t.ownerDocument===H&&F(H,t)?1:M?ee(M,e)-ee(M,t):0:4&n?-1:1)}:function(e,t){if(e===t)return I=!0,0;var n,a=0,s=e.parentNode,r=t.parentNode,l=[e],c=[t];if(!s||!r)return e===i?-1:t===i?1:s?-1:r?1:M?ee(M,e)-ee(M,t):0;if(s===r)return o(e,t);for(n=e;n=n.parentNode;)l.unshift(n);for(n=t;n=n.parentNode;)c.unshift(n);for(;l[a]===c[a];)a++;return a?o(l[a],c[a]):l[a]===H?-1:c[a]===H?1:0},i):D},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==D&&A(e),n=n.replace(de,"='$1']"),!(!S.matchesSelector||!q||P&&P.test(n)||O&&O.test(n)))try{var i=N.call(e,n);if(i||S.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(a){}return t(n,D,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==D&&A(e),F(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==D&&A(e);var n=w.attrHandle[t.toLowerCase()],i=n&&J.call(w.attrHandle,t.toLowerCase())?n(e,t,!q):void 0;return void 0!==i?i:S.attributes||!q?e.getAttribute(t):(i=e.getAttributeNode(t))&&i.specified?i.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],i=0,a=0;if(I=!S.detectDuplicates,M=!S.sortStable&&e.slice(0),e.sort(B),I){for(;t=e[a++];)t===e[a]&&(i=n.push(a));for(;i--;)e.splice(n[i],1)}return M=null,e},T=t.getText=function(e){var t,n="",i=0,a=e.nodeType;if(a){if(1===a||9===a||11===a){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=T(e)}else if(3===a||4===a)return e.nodeValue}else for(;t=e[i++];)n+=T(t);return n},w=t.selectors={"cacheLength":50,"createPseudo":i,"match":fe,"attrHandle":{},"find":{},"relative":{">":{"dir":"parentNode","first":!0}," ":{"dir":"parentNode"},"+":{"dir":"previousSibling","first":!0},"~":{"dir":"previousSibling"}},"preFilter":{"ATTR":function(e){return e[1]=e[1].replace(Se,we),e[3]=(e[3]||e[4]||e[5]||"").replace(Se,we),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},"CHILD":function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},"PSEUDO":function(e){var t,n=!e[6]&&e[2];return fe.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&he.test(n)&&(t=x(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},"filter":{"TAG":function(e){var t=e.replace(Se,we).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},"CLASS":function(e){var t=R[e+" "];return t||(t=new RegExp("(^|"+ne+")"+e+"("+ne+"|$)"))&&R(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},"ATTR":function(e,n,i){return function(a){var s=t.attr(a,e);return null==s?"!="===n:n?(s+="","="===n?s===i:"!="===n?s!==i:"^="===n?i&&0===s.indexOf(i):"*="===n?i&&s.indexOf(i)>-1:"$="===n?i&&s.slice(-i.length)===i:"~="===n?(" "+s.replace(re," ")+" ").indexOf(i)>-1:"|="===n?s===i||s.slice(0,i.length+1)===i+"-":!1):!0}},"CHILD":function(e,t,n,i,a){var s="nth"!==e.slice(0,3),o="last"!==e.slice(-4),r="of-type"===t;return 1===i&&0===a?function(e){return!!e.parentNode}:function(t,n,l){var c,u,d,h,p,f,m=s!==o?"nextSibling":"previousSibling",g=t.parentNode,v=r&&t.nodeName.toLowerCase(),_=!l&&!r;if(g){if(s){for(;m;){for(d=t;d=d[m];)if(r?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;f=m="only"===e&&!f&&"nextSibling"}return!0}if(f=[o?g.firstChild:g.lastChild],o&&_){for(u=g[U]||(g[U]={}),c=u[e]||[],p=c[0]===j&&c[1],h=c[0]===j&&c[2],d=p&&g.childNodes[p];d=++p&&d&&d[m]||(h=p=0)||f.pop();)if(1===d.nodeType&&++h&&d===t){u[e]=[j,p,h];break}}else if(_&&(c=(t[U]||(t[U]={}))[e])&&c[0]===j)h=c[1];else for(;(d=++p&&d&&d[m]||(h=p=0)||f.pop())&&((r?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++h||(_&&((d[U]||(d[U]={}))[e]=[j,h]),d!==t)););return h-=a,h===i||h%i===0&&h/i>=0}}},"PSEUDO":function(e,n){var a,s=w.pseudos[e]||w.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return s[U]?s(n):s.length>1?(a=[e,e,"",n],w.setFilters.hasOwnProperty(e.toLowerCase())?i(function(e,t){for(var i,a=s(e,n),o=a.length;o--;)i=ee(e,a[o]),e[i]=!(t[i]=a[o])}):function(e){return s(e,0,a)}):s}},"pseudos":{"not":i(function(e){var t=[],n=[],a=C(e.replace(le,"$1"));return a[U]?i(function(e,t,n,i){for(var s,o=a(e,null,i,[]),r=e.length;r--;)(s=o[r])&&(e[r]=!(t[r]=s))}):function(e,i,s){return t[0]=e,a(t,null,s,n),t[0]=null,!n.pop()}}),"has":i(function(e){return function(n){return t(e,n).length>0}}),"contains":i(function(e){return e=e.replace(Se,we),function(t){return(t.textContent||t.innerText||T(t)).indexOf(e)>-1}}),"lang":i(function(e){return pe.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(Se,we).toLowerCase(),function(t){var n;do if(n=q?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),"target":function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},"root":function(e){return e===L},"focus":function(e){return e===D.activeElement&&(!D.hasFocus||D.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},"enabled":function(e){return e.disabled===!1},"disabled":function(e){return e.disabled===!0},"checked":function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},"selected":function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},"empty":function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},"parent":function(e){return!w.pseudos.empty(e)},"header":function(e){return ge.test(e.nodeName)},"input":function(e){return me.test(e.nodeName)},"button":function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},"text":function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},"first":c(function(){return[0]}),"last":c(function(e,t){return[t-1]}),"eq":c(function(e,t,n){return[0>n?n+t:n]}),"even":c(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),"odd":c(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),"lt":c(function(e,t,n){for(var i=0>n?n+t:n;--i>=0;)e.push(i);return e}),"gt":c(function(e,t,n){for(var i=0>n?n+t:n;++i<t;)e.push(i);return e})}},w.pseudos.nth=w.pseudos.eq;for(y in{"radio":!0,"checkbox":!0,"file":!0,"password":!0,"image":!0})w.pseudos[y]=r(y);for(y in{"submit":!0,"reset":!0})w.pseudos[y]=l(y);return d.prototype=w.filters=w.pseudos,w.setFilters=new d,x=t.tokenize=function(e,n){var i,a,s,o,r,l,c,u=z[e+" "];if(u)return n?0:u.slice(0);for(r=e,l=[],c=w.preFilter;r;){(!i||(a=ce.exec(r)))&&(a&&(r=r.slice(a[0].length)||r),l.push(s=[])),i=!1,(a=ue.exec(r))&&(i=a.shift(),s.push({"value":i,"type":a[0].replace(le," ")}),r=r.slice(i.length));for(o in w.filter)!(a=fe[o].exec(r))||c[o]&&!(a=c[o](a))||(i=a.shift(),s.push({"value":i,"type":o,"matches":a}),r=r.slice(i.length));if(!i)break}return n?r.length:r?t.error(e):z(e,l).slice(0)},C=t.compile=function(e,t){var n,i=[],a=[],s=Y[e+" "];if(!s){for(t||(t=x(e)),n=t.length;n--;)s=_(t[n]),s[U]?i.push(s):a.push(s);s=Y(e,b(a,i)),s.selector=e}return s},$=t.select=function(e,t,n,i){var a,s,o,r,l,c="function"==typeof e&&e,d=!i&&x(e=c.selector||e);if(n=n||[],1===d.length){if(s=d[0]=d[0].slice(0),s.length>2&&"ID"===(o=s[0]).type&&S.getById&&9===t.nodeType&&q&&w.relative[s[1].type]){if(t=(w.find.ID(o.matches[0].replace(Se,we),t)||[])[0],!t)return n;c&&(t=t.parentNode),e=e.slice(s.shift().value.length)}for(a=fe.needsContext.test(e)?0:s.length;a--&&(o=s[a],!w.relative[r=o.type]);)if((l=w.find[r])&&(i=l(o.matches[0].replace(Se,we),be.test(s[0].type)&&u(t.parentNode)||t))){if(s.splice(a,1),e=i.length&&h(s),!e)return Q.apply(n,i),n;break}}return(c||C(e,d))(i,t,!q,n,be.test(e)&&u(t.parentNode)||t),n},S.sortStable=U.split("").sort(B).join("")===U,S.detectDuplicates=!!I,A(),S.sortDetached=a(function(e){return 1&e.compareDocumentPosition(D.createElement("div"))}),a(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||s("type|href|height|width",function(e,t,n){return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),S.attributes&&a(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||s("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),a(function(e){return null==e.getAttribute("disabled")})||s(te,function(e,t,n){var i;return n?void 0:e[t]===!0?t.toLowerCase():(i=e.getAttributeNode(t))&&i.specified?i.value:null}),t}(e);ae.find=ce,ae.expr=ce.selectors,ae.expr[":"]=ae.expr.pseudos,ae.unique=ce.uniqueSort,ae.text=ce.getText,ae.isXMLDoc=ce.isXML,ae.contains=ce.contains;var ue=ae.expr.match.needsContext,de=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,he=/^.[^:#\[\.,]*$/;ae.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?ae.find.matchesSelector(i,e)?[i]:[]:ae.find.matches(e,ae.grep(t,function(e){return 1===e.nodeType}))},ae.fn.extend({"find":function(e){var t,n=[],i=this,a=i.length;if("string"!=typeof e)return this.pushStack(ae(e).filter(function(){for(t=0;a>t;t++)if(ae.contains(i[t],this))return!0}));for(t=0;a>t;t++)ae.find(e,i[t],n);return n=this.pushStack(a>1?ae.unique(n):n),n.selector=this.selector?this.selector+" "+e:e,n},"filter":function(e){return this.pushStack(i(this,e||[],!1))},"not":function(e){return this.pushStack(i(this,e||[],!0))},"is":function(e){return!!i(this,"string"==typeof e&&ue.test(e)?ae(e):e||[],!1).length}});var pe,fe=e.document,me=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ge=ae.fn.init=function(e,t){var n,i;if(!e)return this;if("string"==typeof e){if(n="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:me.exec(e),!n||!n[1]&&t)return!t||t.jquery?(t||pe).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof ae?t[0]:t,ae.merge(this,ae.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:fe,!0)),de.test(n[1])&&ae.isPlainObject(t))for(n in t)ae.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}if(i=fe.getElementById(n[2]),i&&i.parentNode){if(i.id!==n[2])return pe.find(e);this.length=1,this[0]=i}return this.context=fe,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):ae.isFunction(e)?"undefined"!=typeof pe.ready?pe.ready(e):e(ae):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),ae.makeArray(e,this))};ge.prototype=ae.fn,pe=ae(fe);var ve=/^(?:parents|prev(?:Until|All))/,_e={"children":!0,"contents":!0,"next":!0,"prev":!0};ae.extend({"dir":function(e,t,n){for(var i=[],a=e[t];a&&9!==a.nodeType&&(void 0===n||1!==a.nodeType||!ae(a).is(n));)1===a.nodeType&&i.push(a),a=a[t];return i},"sibling":function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}}),ae.fn.extend({"has":function(e){var t,n=ae(e,this),i=n.length;return this.filter(function(){for(t=0;i>t;t++)if(ae.contains(this,n[t]))return!0})},"closest":function(e,t){for(var n,i=0,a=this.length,s=[],o=ue.test(e)||"string"!=typeof e?ae(e,t||this.context):0;a>i;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(o?o.index(n)>-1:1===n.nodeType&&ae.find.matchesSelector(n,e))){s.push(n);break}return this.pushStack(s.length>1?ae.unique(s):s)},"index":function(e){return e?"string"==typeof e?ae.inArray(this[0],ae(e)):ae.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},"add":function(e,t){return this.pushStack(ae.unique(ae.merge(this.get(),ae(e,t))))},"addBack":function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),ae.each({"parent":function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},"parents":function(e){return ae.dir(e,"parentNode")},"parentsUntil":function(e,t,n){return ae.dir(e,"parentNode",n)},"next":function(e){return a(e,"nextSibling")},"prev":function(e){return a(e,"previousSibling")},"nextAll":function(e){return ae.dir(e,"nextSibling")},"prevAll":function(e){return ae.dir(e,"previousSibling")},"nextUntil":function(e,t,n){return ae.dir(e,"nextSibling",n)},"prevUntil":function(e,t,n){return ae.dir(e,"previousSibling",n)},"siblings":function(e){return ae.sibling((e.parentNode||{}).firstChild,e)},"children":function(e){return ae.sibling(e.firstChild)},"contents":function(e){return ae.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:ae.merge([],e.childNodes)}},function(e,t){ae.fn[e]=function(n,i){var a=ae.map(this,t,n);return"Until"!==e.slice(-5)&&(i=n),i&&"string"==typeof i&&(a=ae.filter(i,a)),this.length>1&&(_e[e]||(a=ae.unique(a)),ve.test(e)&&(a=a.reverse())),this.pushStack(a)}});var be=/\S+/g,ye={};ae.Callbacks=function(e){e="string"==typeof e?ye[e]||s(e):ae.extend({},e);var t,n,i,a,o,r,l=[],c=!e.once&&[],u=function(s){for(n=e.memory&&s,i=!0,o=r||0,r=0,a=l.length,t=!0;l&&a>o;o++)if(l[o].apply(s[0],s[1])===!1&&e.stopOnFalse){n=!1;break}t=!1,l&&(c?c.length&&u(c.shift()):n?l=[]:d.disable())},d={"add":function(){if(l){var i=l.length;!function s(t){ae.each(t,function(t,n){var i=ae.type(n);"function"===i?e.unique&&d.has(n)||l.push(n):n&&n.length&&"string"!==i&&s(n)})}(arguments),t?a=l.length:n&&(r=i,u(n))}return this},"remove":function(){return l&&ae.each(arguments,function(e,n){for(var i;(i=ae.inArray(n,l,i))>-1;)l.splice(i,1),t&&(a>=i&&a--,o>=i&&o--)}),this},"has":function(e){return e?ae.inArray(e,l)>-1:!(!l||!l.length)},"empty":function(){return l=[],a=0,this},"disable":function(){return l=c=n=void 0,this},"disabled":function(){return!l},"lock":function(){return c=void 0,n||d.disable(),this},"locked":function(){return!c},"fireWith":function(e,n){return!l||i&&!c||(n=n||[],n=[e,n.slice?n.slice():n],t?c.push(n):u(n)),this},"fire":function(){return d.fireWith(this,arguments),this},"fired":function(){return!!i}};return d},ae.extend({"Deferred":function(e){var t=[["resolve","done",ae.Callbacks("once memory"),"resolved"],["reject","fail",ae.Callbacks("once memory"),"rejected"],["notify","progress",ae.Callbacks("memory")]],n="pending",i={"state":function(){return n},"always":function(){return a.done(arguments).fail(arguments),this},"then":function(){var e=arguments;return ae.Deferred(function(n){ae.each(t,function(t,s){var o=ae.isFunction(e[t])&&e[t];a[s[1]](function(){var e=o&&o.apply(this,arguments);e&&ae.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[s[0]+"With"](this===i?n.promise():this,o?[e]:arguments)})}),e=null}).promise()},"promise":function(e){return null!=e?ae.extend(e,i):i}},a={};return i.pipe=i.then,ae.each(t,function(e,s){var o=s[2],r=s[3];i[s[1]]=o.add,r&&o.add(function(){n=r},t[1^e][2].disable,t[2][2].lock),a[s[0]]=function(){return a[s[0]+"With"](this===a?i:this,arguments),this},a[s[0]+"With"]=o.fireWith}),i.promise(a),e&&e.call(a,a),a},"when":function(e){var t,n,i,a=0,s=V.call(arguments),o=s.length,r=1!==o||e&&ae.isFunction(e.promise)?o:0,l=1===r?e:ae.Deferred(),c=function(e,n,i){return function(a){n[e]=this,i[e]=arguments.length>1?V.call(arguments):a,i===t?l.notifyWith(n,i):--r||l.resolveWith(n,i)}};if(o>1)for(t=new Array(o),n=new Array(o),i=new Array(o);o>a;a++)s[a]&&ae.isFunction(s[a].promise)?s[a].promise().done(c(a,i,s)).fail(l.reject).progress(c(a,n,t)):--r;return r||l.resolveWith(i,s),l.promise()}});var Se;ae.fn.ready=function(e){return ae.ready.promise().done(e),this},ae.extend({"isReady":!1,"readyWait":1,"holdReady":function(e){e?ae.readyWait++:ae.ready(!0)},"ready":function(e){if(e===!0?!--ae.readyWait:!ae.isReady){if(!fe.body)return setTimeout(ae.ready);ae.isReady=!0,e!==!0&&--ae.readyWait>0||(Se.resolveWith(fe,[ae]),ae.fn.triggerHandler&&(ae(fe).triggerHandler("ready"),ae(fe).off("ready")))}}}),ae.ready.promise=function(t){if(!Se)if(Se=ae.Deferred(),"complete"===fe.readyState)setTimeout(ae.ready);else if(fe.addEventListener)fe.addEventListener("DOMContentLoaded",r,!1),e.addEventListener("load",r,!1);else{fe.attachEvent("onreadystatechange",r),e.attachEvent("onload",r);var n=!1;try{n=null==e.frameElement&&fe.documentElement}catch(i){}n&&n.doScroll&&!function a(){if(!ae.isReady){try{n.doScroll("left")}catch(e){return setTimeout(a,50)}o(),ae.ready()}}()}return Se.promise(t)};var we,Te="undefined";for(we in ae(ne))break;ne.ownLast="0"!==we,ne.inlineBlockNeedsLayout=!1,ae(function(){var e,t,n,i;n=fe.getElementsByTagName("body")[0],n&&n.style&&(t=fe.createElement("div"),i=fe.createElement("div"),i.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(i).appendChild(t),typeof t.style.zoom!==Te&&(t.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",ne.inlineBlockNeedsLayout=e=3===t.offsetWidth,e&&(n.style.zoom=1)),n.removeChild(i))}),function(){var e=fe.createElement("div");if(null==ne.deleteExpando){ne.deleteExpando=!0;try{delete e.test}catch(t){ne.deleteExpando=!1}}e=null}(),ae.acceptData=function(e){var t=ae.noData[(e.nodeName+" ").toLowerCase()],n=+e.nodeType||1;return 1!==n&&9!==n?!1:!t||t!==!0&&e.getAttribute("classid")===t};var ke=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,xe=/([A-Z])/g;ae.extend({"cache":{},"noData":{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},"hasData":function(e){return e=e.nodeType?ae.cache[e[ae.expando]]:e[ae.expando],!!e&&!c(e)},"data":function(e,t,n){return u(e,t,n)},"removeData":function(e,t){return d(e,t)},"_data":function(e,t,n){return u(e,t,n,!0)},"_removeData":function(e,t){return d(e,t,!0)}}),ae.fn.extend({"data":function(e,t){var n,i,a,s=this[0],o=s&&s.attributes;if(void 0===e){if(this.length&&(a=ae.data(s),1===s.nodeType&&!ae._data(s,"parsedAttrs"))){for(n=o.length;n--;)o[n]&&(i=o[n].name,0===i.indexOf("data-")&&(i=ae.camelCase(i.slice(5)),l(s,i,a[i])));ae._data(s,"parsedAttrs",!0)}return a}return"object"==typeof e?this.each(function(){ae.data(this,e)}):arguments.length>1?this.each(function(){ae.data(this,e,t)}):s?l(s,e,ae.data(s,e)):void 0},"removeData":function(e){return this.each(function(){ae.removeData(this,e)})}}),ae.extend({"queue":function(e,t,n){var i;return e?(t=(t||"fx")+"queue",i=ae._data(e,t),n&&(!i||ae.isArray(n)?i=ae._data(e,t,ae.makeArray(n)):i.push(n)),i||[]):void 0},"dequeue":function(e,t){t=t||"fx";var n=ae.queue(e,t),i=n.length,a=n.shift(),s=ae._queueHooks(e,t),o=function(){ae.dequeue(e,t)};"inprogress"===a&&(a=n.shift(),i--),a&&("fx"===t&&n.unshift("inprogress"),delete s.stop,a.call(e,o,s)),!i&&s&&s.empty.fire()},"_queueHooks":function(e,t){var n=t+"queueHooks";return ae._data(e,n)||ae._data(e,n,{"empty":ae.Callbacks("once memory").add(function(){ae._removeData(e,t+"queue"),ae._removeData(e,n)})})}}),ae.fn.extend({"queue":function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?ae.queue(this[0],e):void 0===t?this:this.each(function(){var n=ae.queue(this,e,t);ae._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&ae.dequeue(this,e)})},"dequeue":function(e){return this.each(function(){ae.dequeue(this,e)})},"clearQueue":function(e){return this.queue(e||"fx",[])},"promise":function(e,t){var n,i=1,a=ae.Deferred(),s=this,o=this.length,r=function(){--i||a.resolveWith(s,[s]);

};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";o--;)n=ae._data(s[o],e+"queueHooks"),n&&n.empty&&(i++,n.empty.add(r));return r(),a.promise(t)}});var Ce=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,$e=["Top","Right","Bottom","Left"],Ee=function(e,t){return e=t||e,"none"===ae.css(e,"display")||!ae.contains(e.ownerDocument,e)},Me=ae.access=function(e,t,n,i,a,s,o){var r=0,l=e.length,c=null==n;if("object"===ae.type(n)){a=!0;for(r in n)ae.access(e,t,r,n[r],!0,s,o)}else if(void 0!==i&&(a=!0,ae.isFunction(i)||(o=!0),c&&(o?(t.call(e,i),t=null):(c=t,t=function(e,t,n){return c.call(ae(e),n)})),t))for(;l>r;r++)t(e[r],n,o?i:i.call(e[r],r,t(e[r],n)));return a?e:c?t.call(e):l?t(e[0],n):s},Ie=/^(?:checkbox|radio)$/i;!function(){var e=fe.createElement("input"),t=fe.createElement("div"),n=fe.createDocumentFragment();if(t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",ne.leadingWhitespace=3===t.firstChild.nodeType,ne.tbody=!t.getElementsByTagName("tbody").length,ne.htmlSerialize=!!t.getElementsByTagName("link").length,ne.html5Clone="<:nav></:nav>"!==fe.createElement("nav").cloneNode(!0).outerHTML,e.type="checkbox",e.checked=!0,n.appendChild(e),ne.appendChecked=e.checked,t.innerHTML="<textarea>x</textarea>",ne.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue,n.appendChild(t),t.innerHTML="<input type='radio' checked='checked' name='t'/>",ne.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,ne.noCloneEvent=!0,t.attachEvent&&(t.attachEvent("onclick",function(){ne.noCloneEvent=!1}),t.cloneNode(!0).click()),null==ne.deleteExpando){ne.deleteExpando=!0;try{delete t.test}catch(i){ne.deleteExpando=!1}}}(),function(){var t,n,i=fe.createElement("div");for(t in{"submit":!0,"change":!0,"focusin":!0})n="on"+t,(ne[t+"Bubbles"]=n in e)||(i.setAttribute(n,"t"),ne[t+"Bubbles"]=i.attributes[n].expando===!1);i=null}();var Ae=/^(?:input|select|textarea)$/i,De=/^key/,Le=/^(?:mouse|pointer|contextmenu)|click/,qe=/^(?:focusinfocus|focusoutblur)$/,Oe=/^([^.]*)(?:\.(.+)|)$/;ae.event={"global":{},"add":function(e,t,n,i,a){var s,o,r,l,c,u,d,h,p,f,m,g=ae._data(e);if(g){for(n.handler&&(l=n,n=l.handler,a=l.selector),n.guid||(n.guid=ae.guid++),(o=g.events)||(o=g.events={}),(u=g.handle)||(u=g.handle=function(e){return typeof ae===Te||e&&ae.event.triggered===e.type?void 0:ae.event.dispatch.apply(u.elem,arguments)},u.elem=e),t=(t||"").match(be)||[""],r=t.length;r--;)s=Oe.exec(t[r])||[],p=m=s[1],f=(s[2]||"").split(".").sort(),p&&(c=ae.event.special[p]||{},p=(a?c.delegateType:c.bindType)||p,c=ae.event.special[p]||{},d=ae.extend({"type":p,"origType":m,"data":i,"handler":n,"guid":n.guid,"selector":a,"needsContext":a&&ae.expr.match.needsContext.test(a),"namespace":f.join(".")},l),(h=o[p])||(h=o[p]=[],h.delegateCount=0,c.setup&&c.setup.call(e,i,f,u)!==!1||(e.addEventListener?e.addEventListener(p,u,!1):e.attachEvent&&e.attachEvent("on"+p,u))),c.add&&(c.add.call(e,d),d.handler.guid||(d.handler.guid=n.guid)),a?h.splice(h.delegateCount++,0,d):h.push(d),ae.event.global[p]=!0);e=null}},"remove":function(e,t,n,i,a){var s,o,r,l,c,u,d,h,p,f,m,g=ae.hasData(e)&&ae._data(e);if(g&&(u=g.events)){for(t=(t||"").match(be)||[""],c=t.length;c--;)if(r=Oe.exec(t[c])||[],p=m=r[1],f=(r[2]||"").split(".").sort(),p){for(d=ae.event.special[p]||{},p=(i?d.delegateType:d.bindType)||p,h=u[p]||[],r=r[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=s=h.length;s--;)o=h[s],!a&&m!==o.origType||n&&n.guid!==o.guid||r&&!r.test(o.namespace)||i&&i!==o.selector&&("**"!==i||!o.selector)||(h.splice(s,1),o.selector&&h.delegateCount--,d.remove&&d.remove.call(e,o));l&&!h.length&&(d.teardown&&d.teardown.call(e,f,g.handle)!==!1||ae.removeEvent(e,p,g.handle),delete u[p])}else for(p in u)ae.event.remove(e,p+t[c],n,i,!0);ae.isEmptyObject(u)&&(delete g.handle,ae._removeData(e,"events"))}},"trigger":function(t,n,i,a){var s,o,r,l,c,u,d,h=[i||fe],p=te.call(t,"type")?t.type:t,f=te.call(t,"namespace")?t.namespace.split("."):[];if(r=u=i=i||fe,3!==i.nodeType&&8!==i.nodeType&&!qe.test(p+ae.event.triggered)&&(p.indexOf(".")>=0&&(f=p.split("."),p=f.shift(),f.sort()),o=p.indexOf(":")<0&&"on"+p,t=t[ae.expando]?t:new ae.Event(p,"object"==typeof t&&t),t.isTrigger=a?2:3,t.namespace=f.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),n=null==n?[t]:ae.makeArray(n,[t]),c=ae.event.special[p]||{},a||!c.trigger||c.trigger.apply(i,n)!==!1)){if(!a&&!c.noBubble&&!ae.isWindow(i)){for(l=c.delegateType||p,qe.test(l+p)||(r=r.parentNode);r;r=r.parentNode)h.push(r),u=r;u===(i.ownerDocument||fe)&&h.push(u.defaultView||u.parentWindow||e)}for(d=0;(r=h[d++])&&!t.isPropagationStopped();)t.type=d>1?l:c.bindType||p,s=(ae._data(r,"events")||{})[t.type]&&ae._data(r,"handle"),s&&s.apply(r,n),s=o&&r[o],s&&s.apply&&ae.acceptData(r)&&(t.result=s.apply(r,n),t.result===!1&&t.preventDefault());if(t.type=p,!a&&!t.isDefaultPrevented()&&(!c._default||c._default.apply(h.pop(),n)===!1)&&ae.acceptData(i)&&o&&i[p]&&!ae.isWindow(i)){u=i[o],u&&(i[o]=null),ae.event.triggered=p;try{i[p]()}catch(m){}ae.event.triggered=void 0,u&&(i[o]=u)}return t.result}},"dispatch":function(e){e=ae.event.fix(e);var t,n,i,a,s,o=[],r=V.call(arguments),l=(ae._data(this,"events")||{})[e.type]||[],c=ae.event.special[e.type]||{};if(r[0]=e,e.delegateTarget=this,!c.preDispatch||c.preDispatch.call(this,e)!==!1){for(o=ae.event.handlers.call(this,e,l),t=0;(a=o[t++])&&!e.isPropagationStopped();)for(e.currentTarget=a.elem,s=0;(i=a.handlers[s++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(i.namespace))&&(e.handleObj=i,e.data=i.data,n=((ae.event.special[i.origType]||{}).handle||i.handler).apply(a.elem,r),void 0!==n&&(e.result=n)===!1&&(e.preventDefault(),e.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,e),e.result}},"handlers":function(e,t){var n,i,a,s,o=[],r=t.delegateCount,l=e.target;if(r&&l.nodeType&&(!e.button||"click"!==e.type))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(l.disabled!==!0||"click"!==e.type)){for(a=[],s=0;r>s;s++)i=t[s],n=i.selector+" ",void 0===a[n]&&(a[n]=i.needsContext?ae(n,this).index(l)>=0:ae.find(n,this,null,[l]).length),a[n]&&a.push(i);a.length&&o.push({"elem":l,"handlers":a})}return r<t.length&&o.push({"elem":this,"handlers":t.slice(r)}),o},"fix":function(e){if(e[ae.expando])return e;var t,n,i,a=e.type,s=e,o=this.fixHooks[a];for(o||(this.fixHooks[a]=o=Le.test(a)?this.mouseHooks:De.test(a)?this.keyHooks:{}),i=o.props?this.props.concat(o.props):this.props,e=new ae.Event(s),t=i.length;t--;)n=i[t],e[n]=s[n];return e.target||(e.target=s.srcElement||fe),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,o.filter?o.filter(e,s):e},"props":"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),"fixHooks":{},"keyHooks":{"props":"char charCode key keyCode".split(" "),"filter":function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},"mouseHooks":{"props":"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),"filter":function(e,t){var n,i,a,s=t.button,o=t.fromElement;return null==e.pageX&&null!=t.clientX&&(i=e.target.ownerDocument||fe,a=i.documentElement,n=i.body,e.pageX=t.clientX+(a&&a.scrollLeft||n&&n.scrollLeft||0)-(a&&a.clientLeft||n&&n.clientLeft||0),e.pageY=t.clientY+(a&&a.scrollTop||n&&n.scrollTop||0)-(a&&a.clientTop||n&&n.clientTop||0)),!e.relatedTarget&&o&&(e.relatedTarget=o===e.target?t.toElement:o),e.which||void 0===s||(e.which=1&s?1:2&s?3:4&s?2:0),e}},"special":{"load":{"noBubble":!0},"focus":{"trigger":function(){if(this!==f()&&this.focus)try{return this.focus(),!1}catch(e){}},"delegateType":"focusin"},"blur":{"trigger":function(){return this===f()&&this.blur?(this.blur(),!1):void 0},"delegateType":"focusout"},"click":{"trigger":function(){return ae.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},"_default":function(e){return ae.nodeName(e.target,"a")}},"beforeunload":{"postDispatch":function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},"simulate":function(e,t,n,i){var a=ae.extend(new ae.Event,n,{"type":e,"isSimulated":!0,"originalEvent":{}});i?ae.event.trigger(a,null,t):ae.event.dispatch.call(t,a),a.isDefaultPrevented()&&n.preventDefault()}},ae.removeEvent=fe.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var i="on"+t;e.detachEvent&&(typeof e[i]===Te&&(e[i]=null),e.detachEvent(i,n))},ae.Event=function(e,t){return this instanceof ae.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?h:p):this.type=e,t&&ae.extend(this,t),this.timeStamp=e&&e.timeStamp||ae.now(),void(this[ae.expando]=!0)):new ae.Event(e,t)},ae.Event.prototype={"isDefaultPrevented":p,"isPropagationStopped":p,"isImmediatePropagationStopped":p,"preventDefault":function(){var e=this.originalEvent;this.isDefaultPrevented=h,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},"stopPropagation":function(){var e=this.originalEvent;this.isPropagationStopped=h,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},"stopImmediatePropagation":function(){var e=this.originalEvent;this.isImmediatePropagationStopped=h,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},ae.each({"mouseenter":"mouseover","mouseleave":"mouseout","pointerenter":"pointerover","pointerleave":"pointerout"},function(e,t){ae.event.special[e]={"delegateType":t,"bindType":t,"handle":function(e){var n,i=this,a=e.relatedTarget,s=e.handleObj;return(!a||a!==i&&!ae.contains(i,a))&&(e.type=s.origType,n=s.handler.apply(this,arguments),e.type=t),n}}}),ne.submitBubbles||(ae.event.special.submit={"setup":function(){return ae.nodeName(this,"form")?!1:void ae.event.add(this,"click._submit keypress._submit",function(e){var t=e.target,n=ae.nodeName(t,"input")||ae.nodeName(t,"button")?t.form:void 0;n&&!ae._data(n,"submitBubbles")&&(ae.event.add(n,"submit._submit",function(e){e._submit_bubble=!0}),ae._data(n,"submitBubbles",!0))})},"postDispatch":function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&ae.event.simulate("submit",this.parentNode,e,!0))},"teardown":function(){return ae.nodeName(this,"form")?!1:void ae.event.remove(this,"._submit")}}),ne.changeBubbles||(ae.event.special.change={"setup":function(){return Ae.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(ae.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),ae.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),ae.event.simulate("change",this,e,!0)})),!1):void ae.event.add(this,"beforeactivate._change",function(e){var t=e.target;Ae.test(t.nodeName)&&!ae._data(t,"changeBubbles")&&(ae.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||ae.event.simulate("change",this.parentNode,e,!0)}),ae._data(t,"changeBubbles",!0))})},"handle":function(e){var t=e.target;return this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type?e.handleObj.handler.apply(this,arguments):void 0},"teardown":function(){return ae.event.remove(this,"._change"),!Ae.test(this.nodeName)}}),ne.focusinBubbles||ae.each({"focus":"focusin","blur":"focusout"},function(e,t){var n=function(e){ae.event.simulate(t,e.target,ae.event.fix(e),!0)};ae.event.special[t]={"setup":function(){var i=this.ownerDocument||this,a=ae._data(i,t);a||i.addEventListener(e,n,!0),ae._data(i,t,(a||0)+1)},"teardown":function(){var i=this.ownerDocument||this,a=ae._data(i,t)-1;a?ae._data(i,t,a):(i.removeEventListener(e,n,!0),ae._removeData(i,t))}}}),ae.fn.extend({"on":function(e,t,n,i,a){var s,o;if("object"==typeof e){"string"!=typeof t&&(n=n||t,t=void 0);for(s in e)this.on(s,t,n,e[s],a);return this}if(null==n&&null==i?(i=t,n=t=void 0):null==i&&("string"==typeof t?(i=n,n=void 0):(i=n,n=t,t=void 0)),i===!1)i=p;else if(!i)return this;return 1===a&&(o=i,i=function(e){return ae().off(e),o.apply(this,arguments)},i.guid=o.guid||(o.guid=ae.guid++)),this.each(function(){ae.event.add(this,e,i,n,t)})},"one":function(e,t,n,i){return this.on(e,t,n,i,1)},"off":function(e,t,n){var i,a;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,ae(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(a in e)this.off(a,t,e[a]);return this}return(t===!1||"function"==typeof t)&&(n=t,t=void 0),n===!1&&(n=p),this.each(function(){ae.event.remove(this,e,n,t)})},"trigger":function(e,t){return this.each(function(){ae.event.trigger(e,t,this)})},"triggerHandler":function(e,t){var n=this[0];return n?ae.event.trigger(e,t,n,!0):void 0}});var Pe="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Ne=/ jQuery\d+="(?:null|\d+)"/g,Fe=new RegExp("<(?:"+Pe+")[\\s/>]","i"),Ue=/^\s+/,He=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,je=/<([\w:]+)/,Ge=/<tbody/i,Re=/<|&#?\w+;/,ze=/<(?:script|style|link)/i,Ye=/checked\s*(?:[^=]|=\s*.checked.)/i,Be=/^$|\/(?:java|ecma)script/i,We=/^true\/(.*)/,Je=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Ve={"option":[1,"<select multiple='multiple'>","</select>"],"legend":[1,"<fieldset>","</fieldset>"],"area":[1,"<map>","</map>"],"param":[1,"<object>","</object>"],"thead":[1,"<table>","</table>"],"tr":[2,"<table><tbody>","</tbody></table>"],"col":[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],"td":[3,"<table><tbody><tr>","</tr></tbody></table>"],"_default":ne.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},Ke=m(fe),Xe=Ke.appendChild(fe.createElement("div"));Ve.optgroup=Ve.option,Ve.tbody=Ve.tfoot=Ve.colgroup=Ve.caption=Ve.thead,Ve.th=Ve.td,ae.extend({"clone":function(e,t,n){var i,a,s,o,r,l=ae.contains(e.ownerDocument,e);if(ne.html5Clone||ae.isXMLDoc(e)||!Fe.test("<"+e.nodeName+">")?s=e.cloneNode(!0):(Xe.innerHTML=e.outerHTML,Xe.removeChild(s=Xe.firstChild)),!(ne.noCloneEvent&&ne.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||ae.isXMLDoc(e)))for(i=g(s),r=g(e),o=0;null!=(a=r[o]);++o)i[o]&&T(a,i[o]);if(t)if(n)for(r=r||g(e),i=i||g(s),o=0;null!=(a=r[o]);o++)w(a,i[o]);else w(e,s);return i=g(s,"script"),i.length>0&&S(i,!l&&g(e,"script")),i=r=a=null,s},"buildFragment":function(e,t,n,i){for(var a,s,o,r,l,c,u,d=e.length,h=m(t),p=[],f=0;d>f;f++)if(s=e[f],s||0===s)if("object"===ae.type(s))ae.merge(p,s.nodeType?[s]:s);else if(Re.test(s)){for(r=r||h.appendChild(t.createElement("div")),l=(je.exec(s)||["",""])[1].toLowerCase(),u=Ve[l]||Ve._default,r.innerHTML=u[1]+s.replace(He,"<$1></$2>")+u[2],a=u[0];a--;)r=r.lastChild;if(!ne.leadingWhitespace&&Ue.test(s)&&p.push(t.createTextNode(Ue.exec(s)[0])),!ne.tbody)for(s="table"!==l||Ge.test(s)?"<table>"!==u[1]||Ge.test(s)?0:r:r.firstChild,a=s&&s.childNodes.length;a--;)ae.nodeName(c=s.childNodes[a],"tbody")&&!c.childNodes.length&&s.removeChild(c);for(ae.merge(p,r.childNodes),r.textContent="";r.firstChild;)r.removeChild(r.firstChild);r=h.lastChild}else p.push(t.createTextNode(s));for(r&&h.removeChild(r),ne.appendChecked||ae.grep(g(p,"input"),v),f=0;s=p[f++];)if((!i||-1===ae.inArray(s,i))&&(o=ae.contains(s.ownerDocument,s),r=g(h.appendChild(s),"script"),o&&S(r),n))for(a=0;s=r[a++];)Be.test(s.type||"")&&n.push(s);return r=null,h},"cleanData":function(e,t){for(var n,i,a,s,o=0,r=ae.expando,l=ae.cache,c=ne.deleteExpando,u=ae.event.special;null!=(n=e[o]);o++)if((t||ae.acceptData(n))&&(a=n[r],s=a&&l[a])){if(s.events)for(i in s.events)u[i]?ae.event.remove(n,i):ae.removeEvent(n,i,s.handle);l[a]&&(delete l[a],c?delete n[r]:typeof n.removeAttribute!==Te?n.removeAttribute(r):n[r]=null,J.push(a))}}}),ae.fn.extend({"text":function(e){return Me(this,function(e){return void 0===e?ae.text(this):this.empty().append((this[0]&&this[0].ownerDocument||fe).createTextNode(e))},null,e,arguments.length)},"append":function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=_(this,e);t.appendChild(e)}})},"prepend":function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=_(this,e);t.insertBefore(e,t.firstChild)}})},"before":function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},"after":function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},"remove":function(e,t){for(var n,i=e?ae.filter(e,this):this,a=0;null!=(n=i[a]);a++)t||1!==n.nodeType||ae.cleanData(g(n)),n.parentNode&&(t&&ae.contains(n.ownerDocument,n)&&S(g(n,"script")),n.parentNode.removeChild(n));return this},"empty":function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&ae.cleanData(g(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&ae.nodeName(e,"select")&&(e.options.length=0)}return this},"clone":function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return ae.clone(this,e,t)})},"html":function(e){return Me(this,function(e){var t=this[0]||{},n=0,i=this.length;if(void 0===e)return 1===t.nodeType?t.innerHTML.replace(Ne,""):void 0;if(!("string"!=typeof e||ze.test(e)||!ne.htmlSerialize&&Fe.test(e)||!ne.leadingWhitespace&&Ue.test(e)||Ve[(je.exec(e)||["",""])[1].toLowerCase()])){e=e.replace(He,"<$1></$2>");try{for(;i>n;n++)t=this[n]||{},1===t.nodeType&&(ae.cleanData(g(t,!1)),t.innerHTML=e);t=0}catch(a){}}t&&this.empty().append(e)},null,e,arguments.length)},"replaceWith":function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,ae.cleanData(g(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},"detach":function(e){return this.remove(e,!0)},"domManip":function(e,t){e=K.apply([],e);var n,i,a,s,o,r,l=0,c=this.length,u=this,d=c-1,h=e[0],p=ae.isFunction(h);if(p||c>1&&"string"==typeof h&&!ne.checkClone&&Ye.test(h))return this.each(function(n){var i=u.eq(n);p&&(e[0]=h.call(this,n,i.html())),i.domManip(e,t)});if(c&&(r=ae.buildFragment(e,this[0].ownerDocument,!1,this),n=r.firstChild,1===r.childNodes.length&&(r=n),n)){for(s=ae.map(g(r,"script"),b),a=s.length;c>l;l++)i=r,l!==d&&(i=ae.clone(i,!0,!0),a&&ae.merge(s,g(i,"script"))),t.call(this[l],i,l);if(a)for(o=s[s.length-1].ownerDocument,ae.map(s,y),l=0;a>l;l++)i=s[l],Be.test(i.type||"")&&!ae._data(i,"globalEval")&&ae.contains(o,i)&&(i.src?ae._evalUrl&&ae._evalUrl(i.src):ae.globalEval((i.text||i.textContent||i.innerHTML||"").replace(Je,"")));r=n=null}return this}}),ae.each({"appendTo":"append","prependTo":"prepend","insertBefore":"before","insertAfter":"after","replaceAll":"replaceWith"},function(e,t){ae.fn[e]=function(e){for(var n,i=0,a=[],s=ae(e),o=s.length-1;o>=i;i++)n=i===o?this:this.clone(!0),ae(s[i])[t](n),X.apply(a,n.get());return this.pushStack(a)}});var Qe,Ze={};!function(){var e;ne.shrinkWrapBlocks=function(){if(null!=e)return e;e=!1;var t,n,i;return n=fe.getElementsByTagName("body")[0],n&&n.style?(t=fe.createElement("div"),i=fe.createElement("div"),i.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(i).appendChild(t),typeof t.style.zoom!==Te&&(t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",t.appendChild(fe.createElement("div")).style.width="5px",e=3!==t.offsetWidth),n.removeChild(i),e):void 0}}();var et,tt,nt=/^margin/,it=new RegExp("^("+Ce+")(?!px)[a-z%]+$","i"),at=/^(top|right|bottom|left)$/;e.getComputedStyle?(et=function(t){return t.ownerDocument.defaultView.opener?t.ownerDocument.defaultView.getComputedStyle(t,null):e.getComputedStyle(t,null)},tt=function(e,t,n){var i,a,s,o,r=e.style;return n=n||et(e),o=n?n.getPropertyValue(t)||n[t]:void 0,n&&(""!==o||ae.contains(e.ownerDocument,e)||(o=ae.style(e,t)),it.test(o)&&nt.test(t)&&(i=r.width,a=r.minWidth,s=r.maxWidth,r.minWidth=r.maxWidth=r.width=o,o=n.width,r.width=i,r.minWidth=a,r.maxWidth=s)),void 0===o?o:o+""}):fe.documentElement.currentStyle&&(et=function(e){return e.currentStyle},tt=function(e,t,n){var i,a,s,o,r=e.style;return n=n||et(e),o=n?n[t]:void 0,null==o&&r&&r[t]&&(o=r[t]),it.test(o)&&!at.test(t)&&(i=r.left,a=e.runtimeStyle,s=a&&a.left,s&&(a.left=e.currentStyle.left),r.left="fontSize"===t?"1em":o,o=r.pixelLeft+"px",r.left=i,s&&(a.left=s)),void 0===o?o:o+""||"auto"}),function(){function t(){var t,n,i,a;n=fe.getElementsByTagName("body")[0],n&&n.style&&(t=fe.createElement("div"),i=fe.createElement("div"),i.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(i).appendChild(t),t.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",s=o=!1,l=!0,e.getComputedStyle&&(s="1%"!==(e.getComputedStyle(t,null)||{}).top,o="4px"===(e.getComputedStyle(t,null)||{"width":"4px"}).width,a=t.appendChild(fe.createElement("div")),a.style.cssText=t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",a.style.marginRight=a.style.width="0",t.style.width="1px",l=!parseFloat((e.getComputedStyle(a,null)||{}).marginRight),t.removeChild(a)),t.innerHTML="<table><tr><td></td><td>t</td></tr></table>",a=t.getElementsByTagName("td"),a[0].style.cssText="margin:0;border:0;padding:0;display:none",r=0===a[0].offsetHeight,r&&(a[0].style.display="",a[1].style.display="none",r=0===a[0].offsetHeight),n.removeChild(i))}var n,i,a,s,o,r,l;n=fe.createElement("div"),n.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",a=n.getElementsByTagName("a")[0],i=a&&a.style,i&&(i.cssText="float:left;opacity:.5",ne.opacity="0.5"===i.opacity,ne.cssFloat=!!i.cssFloat,n.style.backgroundClip="content-box",n.cloneNode(!0).style.backgroundClip="",ne.clearCloneStyle="content-box"===n.style.backgroundClip,ne.boxSizing=""===i.boxSizing||""===i.MozBoxSizing||""===i.WebkitBoxSizing,ae.extend(ne,{"reliableHiddenOffsets":function(){return null==r&&t(),r},"boxSizingReliable":function(){return null==o&&t(),o},"pixelPosition":function(){return null==s&&t(),s},"reliableMarginRight":function(){return null==l&&t(),l}}))}(),ae.swap=function(e,t,n,i){var a,s,o={};for(s in t)o[s]=e.style[s],e.style[s]=t[s];a=n.apply(e,i||[]);for(s in t)e.style[s]=o[s];return a};var st=/alpha\([^)]*\)/i,ot=/opacity\s*=\s*([^)]*)/,rt=/^(none|table(?!-c[ea]).+)/,lt=new RegExp("^("+Ce+")(.*)$","i"),ct=new RegExp("^([+-])=("+Ce+")","i"),ut={"position":"absolute","visibility":"hidden","display":"block"},dt={"letterSpacing":"0","fontWeight":"400"},ht=["Webkit","O","Moz","ms"];ae.extend({"cssHooks":{"opacity":{"get":function(e,t){if(t){var n=tt(e,"opacity");return""===n?"1":n}}}},"cssNumber":{"columnCount":!0,"fillOpacity":!0,"flexGrow":!0,"flexShrink":!0,"fontWeight":!0,"lineHeight":!0,"opacity":!0,"order":!0,"orphans":!0,"widows":!0,"zIndex":!0,"zoom":!0},"cssProps":{"float":ne.cssFloat?"cssFloat":"styleFloat"},"style":function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var a,s,o,r=ae.camelCase(t),l=e.style;if(t=ae.cssProps[r]||(ae.cssProps[r]=$(l,r)),o=ae.cssHooks[t]||ae.cssHooks[r],void 0===n)return o&&"get"in o&&void 0!==(a=o.get(e,!1,i))?a:l[t];if(s=typeof n,"string"===s&&(a=ct.exec(n))&&(n=(a[1]+1)*a[2]+parseFloat(ae.css(e,t)),s="number"),null!=n&&n===n&&("number"!==s||ae.cssNumber[r]||(n+="px"),ne.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),!(o&&"set"in o&&void 0===(n=o.set(e,n,i)))))try{l[t]=n}catch(c){}}},"css":function(e,t,n,i){var a,s,o,r=ae.camelCase(t);return t=ae.cssProps[r]||(ae.cssProps[r]=$(e.style,r)),o=ae.cssHooks[t]||ae.cssHooks[r],o&&"get"in o&&(s=o.get(e,!0,n)),void 0===s&&(s=tt(e,t,i)),"normal"===s&&t in dt&&(s=dt[t]),""===n||n?(a=parseFloat(s),n===!0||ae.isNumeric(a)?a||0:s):s}}),ae.each(["height","width"],function(e,t){ae.cssHooks[t]={"get":function(e,n,i){return n?rt.test(ae.css(e,"display"))&&0===e.offsetWidth?ae.swap(e,ut,function(){return A(e,t,i)}):A(e,t,i):void 0},"set":function(e,n,i){var a=i&&et(e);return M(e,n,i?I(e,t,i,ne.boxSizing&&"border-box"===ae.css(e,"boxSizing",!1,a),a):0)}}}),ne.opacity||(ae.cssHooks.opacity={"get":function(e,t){return ot.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},"set":function(e,t){var n=e.style,i=e.currentStyle,a=ae.isNumeric(t)?"alpha(opacity="+100*t+")":"",s=i&&i.filter||n.filter||"";n.zoom=1,(t>=1||""===t)&&""===ae.trim(s.replace(st,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||i&&!i.filter)||(n.filter=st.test(s)?s.replace(st,a):s+" "+a)}}),ae.cssHooks.marginRight=C(ne.reliableMarginRight,function(e,t){return t?ae.swap(e,{"display":"inline-block"},tt,[e,"marginRight"]):void 0}),ae.each({"margin":"","padding":"","border":"Width"},function(e,t){ae.cssHooks[e+t]={"expand":function(n){for(var i=0,a={},s="string"==typeof n?n.split(" "):[n];4>i;i++)a[e+$e[i]+t]=s[i]||s[i-2]||s[0];return a}},nt.test(e)||(ae.cssHooks[e+t].set=M)}),ae.fn.extend({"css":function(e,t){return Me(this,function(e,t,n){var i,a,s={},o=0;if(ae.isArray(t)){for(i=et(e),a=t.length;a>o;o++)s[t[o]]=ae.css(e,t[o],!1,i);return s}return void 0!==n?ae.style(e,t,n):ae.css(e,t)},e,t,arguments.length>1)},"show":function(){return E(this,!0)},"hide":function(){return E(this)},"toggle":function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Ee(this)?ae(this).show():ae(this).hide()})}}),ae.Tween=D,D.prototype={"constructor":D,"init":function(e,t,n,i,a,s){this.elem=e,this.prop=n,this.easing=a||"swing",this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=s||(ae.cssNumber[n]?"":"px")},"cur":function(){var e=D.propHooks[this.prop];return e&&e.get?e.get(this):D.propHooks._default.get(this)},"run":function(e){var t,n=D.propHooks[this.prop];return this.pos=t=this.options.duration?ae.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):D.propHooks._default.set(this),this}},D.prototype.init.prototype=D.prototype,D.propHooks={"_default":{"get":function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=ae.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},"set":function(e){ae.fx.step[e.prop]?ae.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[ae.cssProps[e.prop]]||ae.cssHooks[e.prop])?ae.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},D.propHooks.scrollTop=D.propHooks.scrollLeft={"set":function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},ae.easing={"linear":function(e){return e},"swing":function(e){return.5-Math.cos(e*Math.PI)/2}},ae.fx=D.prototype.init,ae.fx.step={};var pt,ft,mt=/^(?:toggle|show|hide)$/,gt=new RegExp("^(?:([+-])=|)("+Ce+")([a-z%]*)$","i"),vt=/queueHooks$/,_t=[P],bt={"*":[function(e,t){var n=this.createTween(e,t),i=n.cur(),a=gt.exec(t),s=a&&a[3]||(ae.cssNumber[e]?"":"px"),o=(ae.cssNumber[e]||"px"!==s&&+i)&&gt.exec(ae.css(n.elem,e)),r=1,l=20;if(o&&o[3]!==s){s=s||o[3],a=a||[],o=+i||1;do r=r||".5",o/=r,ae.style(n.elem,e,o+s);while(r!==(r=n.cur()/i)&&1!==r&&--l)}return a&&(o=n.start=+o||+i||0,n.unit=s,n.end=a[1]?o+(a[1]+1)*a[2]:+a[2]),n}]};ae.Animation=ae.extend(F,{"tweener":function(e,t){ae.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,i=0,a=e.length;a>i;i++)n=e[i],bt[n]=bt[n]||[],bt[n].unshift(t)},"prefilter":function(e,t){t?_t.unshift(e):_t.push(e)}}),ae.speed=function(e,t,n){var i=e&&"object"==typeof e?ae.extend({},e):{"complete":n||!n&&t||ae.isFunction(e)&&e,"duration":e,"easing":n&&t||t&&!ae.isFunction(t)&&t};return i.duration=ae.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in ae.fx.speeds?ae.fx.speeds[i.duration]:ae.fx.speeds._default,(null==i.queue||i.queue===!0)&&(i.queue="fx"),i.old=i.complete,i.complete=function(){ae.isFunction(i.old)&&i.old.call(this),i.queue&&ae.dequeue(this,i.queue)},i},ae.fn.extend({"fadeTo":function(e,t,n,i){return this.filter(Ee).css("opacity",0).show().end().animate({"opacity":t},e,n,i)},"animate":function(e,t,n,i){var a=ae.isEmptyObject(e),s=ae.speed(t,n,i),o=function(){var t=F(this,ae.extend({},e),s);(a||ae._data(this,"finish"))&&t.stop(!0)};return o.finish=o,a||s.queue===!1?this.each(o):this.queue(s.queue,o)},"stop":function(e,t,n){var i=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,a=null!=e&&e+"queueHooks",s=ae.timers,o=ae._data(this);if(a)o[a]&&o[a].stop&&i(o[a]);else for(a in o)o[a]&&o[a].stop&&vt.test(a)&&i(o[a]);for(a=s.length;a--;)s[a].elem!==this||null!=e&&s[a].queue!==e||(s[a].anim.stop(n),t=!1,s.splice(a,1));(t||!n)&&ae.dequeue(this,e)})},"finish":function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=ae._data(this),i=n[e+"queue"],a=n[e+"queueHooks"],s=ae.timers,o=i?i.length:0;for(n.finish=!0,ae.queue(this,e,[]),a&&a.stop&&a.stop.call(this,!0),t=s.length;t--;)s[t].elem===this&&s[t].queue===e&&(s[t].anim.stop(!0),s.splice(t,1));for(t=0;o>t;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish})}}),ae.each(["toggle","show","hide"],function(e,t){var n=ae.fn[t];ae.fn[t]=function(e,i,a){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(q(t,!0),e,i,a)}}),ae.each({"slideDown":q("show"),"slideUp":q("hide"),"slideToggle":q("toggle"),"fadeIn":{"opacity":"show"},"fadeOut":{"opacity":"hide"},"fadeToggle":{"opacity":"toggle"}},function(e,t){ae.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}}),ae.timers=[],ae.fx.tick=function(){var e,t=ae.timers,n=0;for(pt=ae.now();n<t.length;n++)e=t[n],e()||t[n]!==e||t.splice(n--,1);t.length||ae.fx.stop(),pt=void 0},ae.fx.timer=function(e){ae.timers.push(e),e()?ae.fx.start():ae.timers.pop()},ae.fx.interval=13,ae.fx.start=function(){ft||(ft=setInterval(ae.fx.tick,ae.fx.interval))},ae.fx.stop=function(){clearInterval(ft),ft=null},ae.fx.speeds={"slow":600,"fast":200,"_default":400},ae.fn.delay=function(e,t){return e=ae.fx?ae.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var i=setTimeout(t,e);n.stop=function(){clearTimeout(i)}})},function(){var e,t,n,i,a;t=fe.createElement("div"),t.setAttribute("className","t"),t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",i=t.getElementsByTagName("a")[0],n=fe.createElement("select"),a=n.appendChild(fe.createElement("option")),e=t.getElementsByTagName("input")[0],i.style.cssText="top:1px",ne.getSetAttribute="t"!==t.className,ne.style=/top/.test(i.getAttribute("style")),ne.hrefNormalized="/a"===i.getAttribute("href"),ne.checkOn=!!e.value,ne.optSelected=a.selected,ne.enctype=!!fe.createElement("form").enctype,n.disabled=!0,ne.optDisabled=!a.disabled,e=fe.createElement("input"),e.setAttribute("value",""),ne.input=""===e.getAttribute("value"),e.value="t",e.setAttribute("type","radio"),ne.radioValue="t"===e.value}();var yt=/\r/g;ae.fn.extend({"val":function(e){var t,n,i,a=this[0];{if(arguments.length)return i=ae.isFunction(e),this.each(function(n){var a;1===this.nodeType&&(a=i?e.call(this,n,ae(this).val()):e,null==a?a="":"number"==typeof a?a+="":ae.isArray(a)&&(a=ae.map(a,function(e){return null==e?"":e+""})),t=ae.valHooks[this.type]||ae.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,a,"value")||(this.value=a))});if(a)return t=ae.valHooks[a.type]||ae.valHooks[a.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(n=t.get(a,"value"))?n:(n=a.value,"string"==typeof n?n.replace(yt,""):null==n?"":n)}}}),ae.extend({"valHooks":{"option":{"get":function(e){var t=ae.find.attr(e,"value");return null!=t?t:ae.trim(ae.text(e))}},"select":{
"get":function(e){for(var t,n,i=e.options,a=e.selectedIndex,s="select-one"===e.type||0>a,o=s?null:[],r=s?a+1:i.length,l=0>a?r:s?a:0;r>l;l++)if(n=i[l],!(!n.selected&&l!==a||(ne.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&ae.nodeName(n.parentNode,"optgroup"))){if(t=ae(n).val(),s)return t;o.push(t)}return o},"set":function(e,t){for(var n,i,a=e.options,s=ae.makeArray(t),o=a.length;o--;)if(i=a[o],ae.inArray(ae.valHooks.option.get(i),s)>=0)try{i.selected=n=!0}catch(r){i.scrollHeight}else i.selected=!1;return n||(e.selectedIndex=-1),a}}}}),ae.each(["radio","checkbox"],function(){ae.valHooks[this]={"set":function(e,t){return ae.isArray(t)?e.checked=ae.inArray(ae(e).val(),t)>=0:void 0}},ne.checkOn||(ae.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var St,wt,Tt=ae.expr.attrHandle,kt=/^(?:checked|selected)$/i,xt=ne.getSetAttribute,Ct=ne.input;ae.fn.extend({"attr":function(e,t){return Me(this,ae.attr,e,t,arguments.length>1)},"removeAttr":function(e){return this.each(function(){ae.removeAttr(this,e)})}}),ae.extend({"attr":function(e,t,n){var i,a,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s)return typeof e.getAttribute===Te?ae.prop(e,t,n):(1===s&&ae.isXMLDoc(e)||(t=t.toLowerCase(),i=ae.attrHooks[t]||(ae.expr.match.bool.test(t)?wt:St)),void 0===n?i&&"get"in i&&null!==(a=i.get(e,t))?a:(a=ae.find.attr(e,t),null==a?void 0:a):null!==n?i&&"set"in i&&void 0!==(a=i.set(e,n,t))?a:(e.setAttribute(t,n+""),n):void ae.removeAttr(e,t))},"removeAttr":function(e,t){var n,i,a=0,s=t&&t.match(be);if(s&&1===e.nodeType)for(;n=s[a++];)i=ae.propFix[n]||n,ae.expr.match.bool.test(n)?Ct&&xt||!kt.test(n)?e[i]=!1:e[ae.camelCase("default-"+n)]=e[i]=!1:ae.attr(e,n,""),e.removeAttribute(xt?n:i)},"attrHooks":{"type":{"set":function(e,t){if(!ne.radioValue&&"radio"===t&&ae.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}}}),wt={"set":function(e,t,n){return t===!1?ae.removeAttr(e,n):Ct&&xt||!kt.test(n)?e.setAttribute(!xt&&ae.propFix[n]||n,n):e[ae.camelCase("default-"+n)]=e[n]=!0,n}},ae.each(ae.expr.match.bool.source.match(/\w+/g),function(e,t){var n=Tt[t]||ae.find.attr;Tt[t]=Ct&&xt||!kt.test(t)?function(e,t,i){var a,s;return i||(s=Tt[t],Tt[t]=a,a=null!=n(e,t,i)?t.toLowerCase():null,Tt[t]=s),a}:function(e,t,n){return n?void 0:e[ae.camelCase("default-"+t)]?t.toLowerCase():null}}),Ct&&xt||(ae.attrHooks.value={"set":function(e,t,n){return ae.nodeName(e,"input")?void(e.defaultValue=t):St&&St.set(e,t,n)}}),xt||(St={"set":function(e,t,n){var i=e.getAttributeNode(n);return i||e.setAttributeNode(i=e.ownerDocument.createAttribute(n)),i.value=t+="","value"===n||t===e.getAttribute(n)?t:void 0}},Tt.id=Tt.name=Tt.coords=function(e,t,n){var i;return n?void 0:(i=e.getAttributeNode(t))&&""!==i.value?i.value:null},ae.valHooks.button={"get":function(e,t){var n=e.getAttributeNode(t);return n&&n.specified?n.value:void 0},"set":St.set},ae.attrHooks.contenteditable={"set":function(e,t,n){St.set(e,""===t?!1:t,n)}},ae.each(["width","height"],function(e,t){ae.attrHooks[t]={"set":function(e,n){return""===n?(e.setAttribute(t,"auto"),n):void 0}}})),ne.style||(ae.attrHooks.style={"get":function(e){return e.style.cssText||void 0},"set":function(e,t){return e.style.cssText=t+""}});var $t=/^(?:input|select|textarea|button|object)$/i,Et=/^(?:a|area)$/i;ae.fn.extend({"prop":function(e,t){return Me(this,ae.prop,e,t,arguments.length>1)},"removeProp":function(e){return e=ae.propFix[e]||e,this.each(function(){try{this[e]=void 0,delete this[e]}catch(t){}})}}),ae.extend({"propFix":{"for":"htmlFor","class":"className"},"prop":function(e,t,n){var i,a,s,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return s=1!==o||!ae.isXMLDoc(e),s&&(t=ae.propFix[t]||t,a=ae.propHooks[t]),void 0!==n?a&&"set"in a&&void 0!==(i=a.set(e,n,t))?i:e[t]=n:a&&"get"in a&&null!==(i=a.get(e,t))?i:e[t]},"propHooks":{"tabIndex":{"get":function(e){var t=ae.find.attr(e,"tabindex");return t?parseInt(t,10):$t.test(e.nodeName)||Et.test(e.nodeName)&&e.href?0:-1}}}}),ne.hrefNormalized||ae.each(["href","src"],function(e,t){ae.propHooks[t]={"get":function(e){return e.getAttribute(t,4)}}}),ne.optSelected||(ae.propHooks.selected={"get":function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}}),ae.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ae.propFix[this.toLowerCase()]=this}),ne.enctype||(ae.propFix.enctype="encoding");var Mt=/[\t\r\n\f]/g;ae.fn.extend({"addClass":function(e){var t,n,i,a,s,o,r=0,l=this.length,c="string"==typeof e&&e;if(ae.isFunction(e))return this.each(function(t){ae(this).addClass(e.call(this,t,this.className))});if(c)for(t=(e||"").match(be)||[];l>r;r++)if(n=this[r],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(Mt," "):" ")){for(s=0;a=t[s++];)i.indexOf(" "+a+" ")<0&&(i+=a+" ");o=ae.trim(i),n.className!==o&&(n.className=o)}return this},"removeClass":function(e){var t,n,i,a,s,o,r=0,l=this.length,c=0===arguments.length||"string"==typeof e&&e;if(ae.isFunction(e))return this.each(function(t){ae(this).removeClass(e.call(this,t,this.className))});if(c)for(t=(e||"").match(be)||[];l>r;r++)if(n=this[r],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(Mt," "):"")){for(s=0;a=t[s++];)for(;i.indexOf(" "+a+" ")>=0;)i=i.replace(" "+a+" "," ");o=e?ae.trim(i):"",n.className!==o&&(n.className=o)}return this},"toggleClass":function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):this.each(ae.isFunction(e)?function(n){ae(this).toggleClass(e.call(this,n,this.className,t),t)}:function(){if("string"===n)for(var t,i=0,a=ae(this),s=e.match(be)||[];t=s[i++];)a.hasClass(t)?a.removeClass(t):a.addClass(t);else(n===Te||"boolean"===n)&&(this.className&&ae._data(this,"__className__",this.className),this.className=this.className||e===!1?"":ae._data(this,"__className__")||"")})},"hasClass":function(e){for(var t=" "+e+" ",n=0,i=this.length;i>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(Mt," ").indexOf(t)>=0)return!0;return!1}}),ae.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){ae.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),ae.fn.extend({"hover":function(e,t){return this.mouseenter(e).mouseleave(t||e)},"bind":function(e,t,n){return this.on(e,null,t,n)},"unbind":function(e,t){return this.off(e,null,t)},"delegate":function(e,t,n,i){return this.on(t,e,n,i)},"undelegate":function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var It=ae.now(),At=/\?/,Dt=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;ae.parseJSON=function(t){if(e.JSON&&e.JSON.parse)return e.JSON.parse(t+"");var n,i=null,a=ae.trim(t+"");return a&&!ae.trim(a.replace(Dt,function(e,t,a,s){return n&&t&&(i=0),0===i?e:(n=a||t,i+=!s-!a,"")}))?Function("return "+a)():ae.error("Invalid JSON: "+t)},ae.parseXML=function(t){var n,i;if(!t||"string"!=typeof t)return null;try{e.DOMParser?(i=new DOMParser,n=i.parseFromString(t,"text/xml")):(n=new ActiveXObject("Microsoft.XMLDOM"),n.async="false",n.loadXML(t))}catch(a){n=void 0}return n&&n.documentElement&&!n.getElementsByTagName("parsererror").length||ae.error("Invalid XML: "+t),n};var Lt,qt,Ot=/#.*$/,Pt=/([?&])_=[^&]*/,Nt=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Ft=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Ut=/^(?:GET|HEAD)$/,Ht=/^\/\//,jt=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Gt={},Rt={},zt="*/".concat("*");try{qt=location.href}catch(Yt){qt=fe.createElement("a"),qt.href="",qt=qt.href}Lt=jt.exec(qt.toLowerCase())||[],ae.extend({"active":0,"lastModified":{},"etag":{},"ajaxSettings":{"url":qt,"type":"GET","isLocal":Ft.test(Lt[1]),"global":!0,"processData":!0,"async":!0,"contentType":"application/x-www-form-urlencoded; charset=UTF-8","accepts":{"*":zt,"text":"text/plain","html":"text/html","xml":"application/xml, text/xml","json":"application/json, text/javascript"},"contents":{"xml":/xml/,"html":/html/,"json":/json/},"responseFields":{"xml":"responseXML","text":"responseText","json":"responseJSON"},"converters":{"* text":String,"text html":!0,"text json":ae.parseJSON,"text xml":ae.parseXML},"flatOptions":{"url":!0,"context":!0}},"ajaxSetup":function(e,t){return t?j(j(e,ae.ajaxSettings),t):j(ae.ajaxSettings,e)},"ajaxPrefilter":U(Gt),"ajaxTransport":U(Rt),"ajax":function(e,t){function n(e,t,n,i){var a,u,v,_,y,w=t;2!==b&&(b=2,r&&clearTimeout(r),c=void 0,o=i||"",S.readyState=e>0?4:0,a=e>=200&&300>e||304===e,n&&(_=G(d,S,n)),_=R(d,_,S,a),a?(d.ifModified&&(y=S.getResponseHeader("Last-Modified"),y&&(ae.lastModified[s]=y),y=S.getResponseHeader("etag"),y&&(ae.etag[s]=y)),204===e||"HEAD"===d.type?w="nocontent":304===e?w="notmodified":(w=_.state,u=_.data,v=_.error,a=!v)):(v=w,(e||!w)&&(w="error",0>e&&(e=0))),S.status=e,S.statusText=(t||w)+"",a?f.resolveWith(h,[u,w,S]):f.rejectWith(h,[S,w,v]),S.statusCode(g),g=void 0,l&&p.trigger(a?"ajaxSuccess":"ajaxError",[S,d,a?u:v]),m.fireWith(h,[S,w]),l&&(p.trigger("ajaxComplete",[S,d]),--ae.active||ae.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var i,a,s,o,r,l,c,u,d=ae.ajaxSetup({},t),h=d.context||d,p=d.context&&(h.nodeType||h.jquery)?ae(h):ae.event,f=ae.Deferred(),m=ae.Callbacks("once memory"),g=d.statusCode||{},v={},_={},b=0,y="canceled",S={"readyState":0,"getResponseHeader":function(e){var t;if(2===b){if(!u)for(u={};t=Nt.exec(o);)u[t[1].toLowerCase()]=t[2];t=u[e.toLowerCase()]}return null==t?null:t},"getAllResponseHeaders":function(){return 2===b?o:null},"setRequestHeader":function(e,t){var n=e.toLowerCase();return b||(e=_[n]=_[n]||e,v[e]=t),this},"overrideMimeType":function(e){return b||(d.mimeType=e),this},"statusCode":function(e){var t;if(e)if(2>b)for(t in e)g[t]=[g[t],e[t]];else S.always(e[S.status]);return this},"abort":function(e){var t=e||y;return c&&c.abort(t),n(0,t),this}};if(f.promise(S).complete=m.add,S.success=S.done,S.error=S.fail,d.url=((e||d.url||qt)+"").replace(Ot,"").replace(Ht,Lt[1]+"//"),d.type=t.method||t.type||d.method||d.type,d.dataTypes=ae.trim(d.dataType||"*").toLowerCase().match(be)||[""],null==d.crossDomain&&(i=jt.exec(d.url.toLowerCase()),d.crossDomain=!(!i||i[1]===Lt[1]&&i[2]===Lt[2]&&(i[3]||("http:"===i[1]?"80":"443"))===(Lt[3]||("http:"===Lt[1]?"80":"443")))),d.data&&d.processData&&"string"!=typeof d.data&&(d.data=ae.param(d.data,d.traditional)),H(Gt,d,t,S),2===b)return S;l=ae.event&&d.global,l&&0===ae.active++&&ae.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!Ut.test(d.type),s=d.url,d.hasContent||(d.data&&(s=d.url+=(At.test(s)?"&":"?")+d.data,delete d.data),d.cache===!1&&(d.url=Pt.test(s)?s.replace(Pt,"$1_="+It++):s+(At.test(s)?"&":"?")+"_="+It++)),d.ifModified&&(ae.lastModified[s]&&S.setRequestHeader("If-Modified-Since",ae.lastModified[s]),ae.etag[s]&&S.setRequestHeader("If-None-Match",ae.etag[s])),(d.data&&d.hasContent&&d.contentType!==!1||t.contentType)&&S.setRequestHeader("Content-Type",d.contentType),S.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+zt+"; q=0.01":""):d.accepts["*"]);for(a in d.headers)S.setRequestHeader(a,d.headers[a]);if(d.beforeSend&&(d.beforeSend.call(h,S,d)===!1||2===b))return S.abort();y="abort";for(a in{"success":1,"error":1,"complete":1})S[a](d[a]);if(c=H(Rt,d,t,S)){S.readyState=1,l&&p.trigger("ajaxSend",[S,d]),d.async&&d.timeout>0&&(r=setTimeout(function(){S.abort("timeout")},d.timeout));try{b=1,c.send(v,n)}catch(w){if(!(2>b))throw w;n(-1,w)}}else n(-1,"No Transport");return S},"getJSON":function(e,t,n){return ae.get(e,t,n,"json")},"getScript":function(e,t){return ae.get(e,void 0,t,"script")}}),ae.each(["get","post"],function(e,t){ae[t]=function(e,n,i,a){return ae.isFunction(n)&&(a=a||i,i=n,n=void 0),ae.ajax({"url":e,"type":t,"dataType":a,"data":n,"success":i})}}),ae._evalUrl=function(e){return ae.ajax({"url":e,"type":"GET","dataType":"script","async":!1,"global":!1,"throws":!0})},ae.fn.extend({"wrapAll":function(e){if(ae.isFunction(e))return this.each(function(t){ae(this).wrapAll(e.call(this,t))});if(this[0]){var t=ae(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},"wrapInner":function(e){return this.each(ae.isFunction(e)?function(t){ae(this).wrapInner(e.call(this,t))}:function(){var t=ae(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},"wrap":function(e){var t=ae.isFunction(e);return this.each(function(n){ae(this).wrapAll(t?e.call(this,n):e)})},"unwrap":function(){return this.parent().each(function(){ae.nodeName(this,"body")||ae(this).replaceWith(this.childNodes)}).end()}}),ae.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0||!ne.reliableHiddenOffsets()&&"none"===(e.style&&e.style.display||ae.css(e,"display"))},ae.expr.filters.visible=function(e){return!ae.expr.filters.hidden(e)};var Bt=/%20/g,Wt=/\[\]$/,Jt=/\r?\n/g,Vt=/^(?:submit|button|image|reset|file)$/i,Kt=/^(?:input|select|textarea|keygen)/i;ae.param=function(e,t){var n,i=[],a=function(e,t){t=ae.isFunction(t)?t():null==t?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=ae.ajaxSettings&&ae.ajaxSettings.traditional),ae.isArray(e)||e.jquery&&!ae.isPlainObject(e))ae.each(e,function(){a(this.name,this.value)});else for(n in e)z(n,e[n],t,a);return i.join("&").replace(Bt,"+")},ae.fn.extend({"serialize":function(){return ae.param(this.serializeArray())},"serializeArray":function(){return this.map(function(){var e=ae.prop(this,"elements");return e?ae.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!ae(this).is(":disabled")&&Kt.test(this.nodeName)&&!Vt.test(e)&&(this.checked||!Ie.test(e))}).map(function(e,t){var n=ae(this).val();return null==n?null:ae.isArray(n)?ae.map(n,function(e){return{"name":t.name,"value":e.replace(Jt,"\r\n")}}):{"name":t.name,"value":n.replace(Jt,"\r\n")}}).get()}}),ae.ajaxSettings.xhr=void 0!==e.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&Y()||B()}:Y;var Xt=0,Qt={},Zt=ae.ajaxSettings.xhr();e.attachEvent&&e.attachEvent("onunload",function(){for(var e in Qt)Qt[e](void 0,!0)}),ne.cors=!!Zt&&"withCredentials"in Zt,Zt=ne.ajax=!!Zt,Zt&&ae.ajaxTransport(function(e){if(!e.crossDomain||ne.cors){var t;return{"send":function(n,i){var a,s=e.xhr(),o=++Xt;if(s.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(a in e.xhrFields)s[a]=e.xhrFields[a];e.mimeType&&s.overrideMimeType&&s.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(a in n)void 0!==n[a]&&s.setRequestHeader(a,n[a]+"");s.send(e.hasContent&&e.data||null),t=function(n,a){var r,l,c;if(t&&(a||4===s.readyState))if(delete Qt[o],t=void 0,s.onreadystatechange=ae.noop,a)4!==s.readyState&&s.abort();else{c={},r=s.status,"string"==typeof s.responseText&&(c.text=s.responseText);try{l=s.statusText}catch(u){l=""}r||!e.isLocal||e.crossDomain?1223===r&&(r=204):r=c.text?200:404}c&&i(r,l,c,s.getAllResponseHeaders())},e.async?4===s.readyState?setTimeout(t):s.onreadystatechange=Qt[o]=t:t()},"abort":function(){t&&t(void 0,!0)}}}}),ae.ajaxSetup({"accepts":{"script":"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},"contents":{"script":/(?:java|ecma)script/},"converters":{"text script":function(e){return ae.globalEval(e),e}}}),ae.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),ae.ajaxTransport("script",function(e){if(e.crossDomain){var t,n=fe.head||ae("head")[0]||fe.documentElement;return{"send":function(i,a){t=fe.createElement("script"),t.async=!0,e.scriptCharset&&(t.charset=e.scriptCharset),t.src=e.url,t.onload=t.onreadystatechange=function(e,n){(n||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,t.parentNode&&t.parentNode.removeChild(t),t=null,n||a(200,"success"))},n.insertBefore(t,n.firstChild)},"abort":function(){t&&t.onload(void 0,!0)}}}});var en=[],tn=/(=)\?(?=&|$)|\?\?/;ae.ajaxSetup({"jsonp":"callback","jsonpCallback":function(){var e=en.pop()||ae.expando+"_"+It++;return this[e]=!0,e}}),ae.ajaxPrefilter("json jsonp",function(t,n,i){var a,s,o,r=t.jsonp!==!1&&(tn.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&tn.test(t.data)&&"data");return r||"jsonp"===t.dataTypes[0]?(a=t.jsonpCallback=ae.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,r?t[r]=t[r].replace(tn,"$1"+a):t.jsonp!==!1&&(t.url+=(At.test(t.url)?"&":"?")+t.jsonp+"="+a),t.converters["script json"]=function(){return o||ae.error(a+" was not called"),o[0]},t.dataTypes[0]="json",s=e[a],e[a]=function(){o=arguments},i.always(function(){e[a]=s,t[a]&&(t.jsonpCallback=n.jsonpCallback,en.push(a)),o&&ae.isFunction(s)&&s(o[0]),o=s=void 0}),"script"):void 0}),ae.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||fe;var i=de.exec(e),a=!n&&[];return i?[t.createElement(i[1])]:(i=ae.buildFragment([e],t,a),a&&a.length&&ae(a).remove(),ae.merge([],i.childNodes))};var nn=ae.fn.load;ae.fn.load=function(e,t,n){if("string"!=typeof e&&nn)return nn.apply(this,arguments);var i,a,s,o=this,r=e.indexOf(" ");return r>=0&&(i=ae.trim(e.slice(r,e.length)),e=e.slice(0,r)),ae.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(s="POST"),o.length>0&&ae.ajax({"url":e,"type":s,"dataType":"html","data":t}).done(function(e){a=arguments,o.html(i?ae("<div>").append(ae.parseHTML(e)).find(i):e)}).complete(n&&function(e,t){o.each(n,a||[e.responseText,t,e])}),this},ae.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){ae.fn[t]=function(e){return this.on(t,e)}}),ae.expr.filters.animated=function(e){return ae.grep(ae.timers,function(t){return e===t.elem}).length};var an=e.document.documentElement;ae.offset={"setOffset":function(e,t,n){var i,a,s,o,r,l,c,u=ae.css(e,"position"),d=ae(e),h={};"static"===u&&(e.style.position="relative"),r=d.offset(),s=ae.css(e,"top"),l=ae.css(e,"left"),c=("absolute"===u||"fixed"===u)&&ae.inArray("auto",[s,l])>-1,c?(i=d.position(),o=i.top,a=i.left):(o=parseFloat(s)||0,a=parseFloat(l)||0),ae.isFunction(t)&&(t=t.call(e,n,r)),null!=t.top&&(h.top=t.top-r.top+o),null!=t.left&&(h.left=t.left-r.left+a),"using"in t?t.using.call(e,h):d.css(h)}},ae.fn.extend({"offset":function(e){if(arguments.length)return void 0===e?this:this.each(function(t){ae.offset.setOffset(this,e,t)});var t,n,i={"top":0,"left":0},a=this[0],s=a&&a.ownerDocument;if(s)return t=s.documentElement,ae.contains(t,a)?(typeof a.getBoundingClientRect!==Te&&(i=a.getBoundingClientRect()),n=W(s),{"top":i.top+(n.pageYOffset||t.scrollTop)-(t.clientTop||0),"left":i.left+(n.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}):i},"position":function(){if(this[0]){var e,t,n={"top":0,"left":0},i=this[0];return"fixed"===ae.css(i,"position")?t=i.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),ae.nodeName(e[0],"html")||(n=e.offset()),n.top+=ae.css(e[0],"borderTopWidth",!0),n.left+=ae.css(e[0],"borderLeftWidth",!0)),{"top":t.top-n.top-ae.css(i,"marginTop",!0),"left":t.left-n.left-ae.css(i,"marginLeft",!0)}}},"offsetParent":function(){return this.map(function(){for(var e=this.offsetParent||an;e&&!ae.nodeName(e,"html")&&"static"===ae.css(e,"position");)e=e.offsetParent;return e||an})}}),ae.each({"scrollLeft":"pageXOffset","scrollTop":"pageYOffset"},function(e,t){var n=/Y/.test(t);ae.fn[e]=function(i){return Me(this,function(e,i,a){var s=W(e);return void 0===a?s?t in s?s[t]:s.document.documentElement[i]:e[i]:void(s?s.scrollTo(n?ae(s).scrollLeft():a,n?a:ae(s).scrollTop()):e[i]=a)},e,i,arguments.length,null)}}),ae.each(["top","left"],function(e,t){ae.cssHooks[t]=C(ne.pixelPosition,function(e,n){return n?(n=tt(e,t),it.test(n)?ae(e).position()[t]+"px":n):void 0})}),ae.each({"Height":"height","Width":"width"},function(e,t){ae.each({"padding":"inner"+e,"content":t,"":"outer"+e},function(n,i){ae.fn[i]=function(i,a){var s=arguments.length&&(n||"boolean"!=typeof i),o=n||(i===!0||a===!0?"margin":"border");return Me(this,function(t,n,i){var a;return ae.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(a=t.documentElement,Math.max(t.body["scroll"+e],a["scroll"+e],t.body["offset"+e],a["offset"+e],a["client"+e])):void 0===i?ae.css(t,n,o):ae.style(t,n,i,o)},t,s?i:void 0,s,null)}})}),ae.fn.size=function(){return this.length},ae.fn.andSelf=ae.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return ae});var sn=e.jQuery,on=e.$;return ae.noConflict=function(t){return e.$===ae&&(e.$=on),t&&e.jQuery===ae&&(e.jQuery=sn),ae},typeof t===Te&&(e.jQuery=e.$=ae),ae}),function(){var e=!1,t=/xyz/.test(function(){xyz})?/\b_super\b/:/.*/;this.Class=function(){},Class.extend=function(n){function i(){!e&&this.init&&this.init.apply(this,arguments)}var a=this.prototype;e=!0;var s=new this;e=!1;for(var o in n)s[o]="function"==typeof n[o]&&"function"==typeof a[o]&&t.test(n[o])?function(e,t){return function(){var n=this._super;this._super=a[e];var i=t.apply(this,arguments);return this._super=n,i}}(o,n[o]):n[o];return i.prototype=s,i.prototype.constructor=i,i.extend=arguments.callee,i}}(),function(e){"$:nomunge";var t,n,i,a,s=1,o=this,r=!1,l="postMessage",c="addEventListener",u=o[l];e[l]=function(t,n,i){n&&(t="string"==typeof t?t:e.param(t),i=i||parent,u?i[l](t,n.replace(/([^:]+:\/\/[^\/]+).*/,"$1")):n&&(i.location=n.replace(/#.*$/,"")+"#"+ +new Date+s++ +"&"+t))},e.receiveMessage=a=function(s,l,d){u?(s&&(i&&a(),i=function(t){return"string"==typeof l&&t.origin!==l||e.isFunction(l)&&l(t.origin)===r?r:void s(t)}),o[c]?o[s?c:"removeEventListener"]("message",i,r):o[s?"attachEvent":"detachEvent"]("onmessage",i)):(t&&clearInterval(t),t=null,s&&(d="number"==typeof l?l:"number"==typeof d?d:100,t=setInterval(function(){var e=document.location.hash,t=/^#?\d+&/;e!==n&&t.test(e)&&(n=e,s({"data":e.replace(t,"")}))},d)))}}(jQuery),function(e,t,n){var i,a=t.event;a.special.smartscroll={"setup":function(){t(this).bind("scroll",t.event.special.smartscroll.handler)},"teardown":function(){t(this).unbind("scroll",t.event.special.smartscroll.handler)},"handler":function(e,n){var a=this,s=arguments;e.type="smartscroll",i&&clearTimeout(i),i=setTimeout(function(){t(a).trigger(e.type,s)},"execAsap"===n?0:100)}},t.fn.smartscroll=function(e){return e?this.bind("smartscroll",e):this.trigger("smartscroll",["execAsap"])}}(window,jQuery),function(e){var t={"method":"GET","contentType":"json","queryParam":"q","searchDelay":300,"minChars":1,"propertyToSearch":"name","jsonContainer":null,"scrollKeyboard":!1,"hintText":null,"noResultsText":null,"noResultsHideDropdown":!1,"searchingText":null,"deleteText":"&times;","animateDropdown":!0,"emptyInputLength":null,"tokenLimit":null,"tokenDelimiter":",","preventDuplicates":!1,"tokenValue":"id","prePopulate":null,"processPrePopulate":!1,"idPrefix":"token-input-","resultsFormatter":function(e){return"<li>"+e[this.propertyToSearch]+"</li>"},"tokenFormatter":function(e){return"<li><p>"+e[this.propertyToSearch]+"</p></li>"},"validateItem":null,"noHoverSelect":!1,"onResult":null,"onAdd":null,"onDelete":null,"onReady":null},n={"tokenList":"token-input-list","token":"token-input-token","tokenDelete":"token-input-delete-token","selectedToken":"token-input-selected-token","highlightedToken":"token-input-highlighted-token","dropdown":"token-input-dropdown","dropdownItem":"token-input-dropdown-item","dropdownItem2":"token-input-dropdown-item2","selectedDropdownItem":"token-input-selected-dropdown-item","inputToken":"token-input-input-token"},i={"BEFORE":0,"AFTER":1,"END":2},a={"BACKSPACE":8,"TAB":9,"ENTER":13,"ESCAPE":27,"SPACE":32,"PAGE_UP":33,"PAGE_DOWN":34,"END":35,"HOME":36,"LEFT":37,"UP":38,"RIGHT":39,"DOWN":40,"NUMPAD_ENTER":108,"COMMA":188},s={"init":function(n,i){var a=e.extend({},t,i||{});return this.each(function(){e(this).data("tokenInputObject",new e.TokenList(this,n,a))})},"clear":function(){return this.data("tokenInputObject").clear(),this},"add":function(e){return this.data("tokenInputObject").add(e),this},"remove":function(e){return this.data("tokenInputObject").remove(e),this},"get":function(){return this.data("tokenInputObject").getTokens()}};e.fn.tokenInput=function(e){return s[e]?s[e].apply(this,Array.prototype.slice.call(arguments,1)):s.init.apply(this,arguments)},e.TokenList=function(t,s,o){function r(){var t=e(N).data("tokeninput");return!t&&o.textToData&&(t=o.textToData(L.val())),t?(d(t),q.change(),!1):void 0}function l(){return null!==o.tokenLimit&&A>=o.tokenLimit?(L.hide(),void v()):void 0}function c(){if(M!==(M=L.val())){var e=M.replace(/&/g,"&amp;").replace(/\s/g," ").replace(/</g,"&lt;").replace(/>/g,"&gt;");j.html(e);var t=30;o.emptyInputLength&&F.children().length<2&&(t=o.emptyInputLength),L.width(j.width()+t)}}function u(t){var n=o.tokenFormatter(t);n=e(n).addClass(o.classes.token).insertBefore(U),e("<span>"+o.deleteText+"</span>").addClass(o.classes.tokenDelete).appendTo(n).click(function(){return m(e(this).parent()),q.change(),!1});var i={"id":t.id};return i[o.propertyToSearch]=t[o.propertyToSearch],i.item=t,e.data(n.get(0),"tokeninput",t),I=I.slice(0,P).concat([i]).concat(I.slice(P)),P++,g(I,q),A+=1,null!==o.tokenLimit&&A>=o.tokenLimit&&(L.hide(),v()),n}function d(t){if(t){if(e.isFunction(o.validateItem)&&!o.validateItem(t))return!1;var n=o.onAdd;if(A>0&&o.preventDuplicates){var i=null;if(F.children().each(function(){var n=e(this),a=e.data(n.get(0),"tokeninput");return a&&a.id===t.id?(i=n,!1):void 0}),i)return h(i),U.insertAfter(i),void L.focus()}(null==o.tokenLimit||A<o.tokenLimit)&&(u(t),l()),L.val(""),v(),e.isFunction(n)&&n.call(q,t)}}function h(e){e.addClass(o.classes.selectedToken),O=e.get(0),L.val(""),v()}function p(e,t){e.removeClass(o.classes.selectedToken),O=null,t===i.BEFORE?(U.insertBefore(e),P--):t===i.AFTER?(U.insertAfter(e),P++):(U.appendTo(F),P=A),L.focus()}function f(t){var n=O;O&&p(e(O),i.END),n===t.get(0)?p(t,i.END):h(t)}function m(t){var n=e.data(t.get(0),"tokeninput"),i=o.onDelete,a=t.prevAll().length;a>P&&a--,t.remove(),O=null,L.focus(),I=I.slice(0,a).concat(I.slice(a+1)),P>a&&P--,g(I,q),A-=1,null!==o.tokenLimit&&L.show().val("").focus(),e.isFunction(i)&&i.call(q,n)}function g(t,n){var i=e.map(t,function(e){return e[o.tokenValue]});n.val(i.join(o.tokenDelimiter))}function v(){H.hide().empty(),N=null}function _(){H.css({"position":"absolute","top":e(F).offset().top+e(F).outerHeight(),"left":e(F).offset().left,"zindex":999}).show()}function b(){o.searchingText&&(H.html("<p>"+o.searchingText+"</p>"),_())}function y(){o.hintText&&(H.html("<p>"+o.hintText+"</p>"),_())}function S(t,n){if(n&&n.length){H.empty();var i=e("<ul>").appendTo(H).mouseover(function(t){w(e(t.target).closest("li"))}).mousedown(function(t){return d(e(t.target).closest("li").data("tokeninput")),q.change(),!1}).hide();o.noHoverSelect&&(i.off("mouseover"),i.on("mouseover",function(t){e(this).find("li").removeClass(o.classes.selectedDropdownItem),e(t.target).closest("li").addClass(o.classes.selectedDropdownItem)})),e.each(n,function(t,n){var a=o.resultsFormatter(n);a=e(a).appendTo(i),a.addClass(t%2?o.classes.dropdownItem:o.classes.dropdownItem2),e.data(a.get(0),"tokeninput",n)}),_(),o.animateDropdown?i.slideDown("fast"):i.show()}else o.noResultsText&&(H.html("<p>"+o.noResultsText+"</p>"),_()),o.noResultsHideDropdown&&v()}function w(t,n){if(t){if(N&&T(e(N)),o.scrollKeyboard&&n){var i=e(".token-input-dropdown-fortag ul"),a=i.height(),s=t.outerHeight(),r=t.position().top;if(r>a){var l=i.scrollTop();i.scrollTop(l+s)}else if(0>r){var l=i.scrollTop();i.scrollTop(l-s)}}t.addClass(o.classes.selectedDropdownItem),N=t.get(0)}}function T(e){e.removeClass(o.classes.selectedDropdownItem),N=null}function k(){var t=L.val().toLowerCase();(t&&t.length||0==o.minChars)&&(O&&p(e(O),i.AFTER),t.length>=o.minChars?(b(),clearTimeout(E),E=setTimeout(function(){x(t)},o.searchDelay)):v())}function x(t){var n=t+C(),i=D.get(n);if(i)S(t,i);else if(o.url){var a=C(),s={};if(s.data={},a.indexOf("?")>-1){var r=a.split("?");s.url=r[0];var l=r[1].split("&");e.each(l,function(e,t){var n=t.split("=");s.data[n[0]]=n[1]})}else s.url=a;s.data[o.queryParam]=t,s.type=o.method,s.dataType=o.contentType,o.crossDomain&&(s.dataType="jsonp"),s.success=function(i){e.isFunction(o.onResult)&&(i=o.onResult.call(q,i)),D.add(n,o.jsonContainer?i[o.jsonContainer]:i),L.val().toLowerCase()===t&&S(t,o.jsonContainer?i[o.jsonContainer]:i)},e.ajax(s)}else if(o.search_function)o.search_function(t,function(e){D.add(n,e),S(t,e)});else if(o.local_data){var c=e.grep(o.local_data,function(e){return e[o.propertyToSearch].toLowerCase().indexOf(t.toLowerCase())>-1});e.isFunction(o.onResult)&&(c=o.onResult.call(q,c)),D.add(n,c),S(t,c)}}function C(){var e=o.url;return"function"==typeof o.url&&(e=o.url.call()),e}if("string"===e.type(s)||"function"===e.type(s)){o.url=s;var $=C();void 0===o.crossDomain&&(o.crossDomain=-1===$.indexOf("://")?!1:location.href.split(/\/+/g)[1]!==$.split(/\/+/g)[1])}else"object"==typeof s&&(o.local_data=s);o.classes?o.classes=e.extend({},n,o.classes):o.theme?(o.classes={},e.each(n,function(e,t){o.classes[e]=t+"-"+o.theme})):o.classes=n;var E,M,I=[],A=0,D=new e.TokenList.Cache,L=e('<input type="text"  autocomplete="off">').css({"outline":"none"}).attr("id",o.idPrefix+t.id).focus(function(){0==o.minChars&&setTimeout(function(){k()},5),(null===o.tokenLimit||o.tokenLimit!==A)&&y()}).blur(function(){r(),v(),e(this).val("")}).bind("keyup keydown blur update",c).keydown(function(t){var n,s;switch(t.keyCode){case a.LEFT:case a.RIGHT:case a.UP:case a.DOWN:if(e(this).val()){if(t.keyCode===a.UP||t.keyCode===a.DOWN){var o=null;return o=N||t.keyCode!==a.DOWN?t.keyCode===a.DOWN?e(N).next():e(N).prev():e(".token-input-dropdown li").first(),o.length?w(o,!0):t.keyCode!==a.DOWN&&e(N).length&&T(e(N)),!1}}else n=U.prev(),s=U.next(),n.length&&n.get(0)===O||s.length&&s.get(0)===O?t.keyCode===a.LEFT||t.keyCode===a.UP?p(e(O),i.BEFORE):p(e(O),i.AFTER):t.keyCode!==a.LEFT&&t.keyCode!==a.UP||!n.length?t.keyCode!==a.RIGHT&&t.keyCode!==a.DOWN||!s.length||h(e(s.get(0))):h(e(n.get(0)));break;case a.BACKSPACE:if(n=U.prev(),!e(this).val().length)return O?(m(e(O)),q.change()):n.length&&h(e(n.get(0))),!1;1===e(this).val().length?v():setTimeout(function(){k()},5);break;case a.TAB:case a.ENTER:case a.NUMPAD_ENTER:case a.COMMA:t.keyCode!=a.ENTER&&t.keyCode!=a.NUMPAD_ENTER&&t.preventDefault(),r();break;case a.ESCAPE:return v(),!0;default:String.fromCharCode(t.which)&&setTimeout(function(){k()},5)}}),q=e(t).hide().val("").focus(function(){L.focus()}).blur(function(){L.blur()}),O=null,P=0,N=null,F=e("<ul />").addClass(o.classes.tokenList).click(function(t){var n=e(t.target).closest("li");n&&n.get(0)&&e.data(n.get(0),"tokeninput")?f(n):(O&&p(e(O),i.END),L.focus())}).mouseover(function(t){var n=e(t.target).closest("li");n&&O!==this&&n.addClass(o.classes.highlightedToken)}).mouseout(function(t){var n=e(t.target).closest("li");n&&O!==this&&n.removeClass(o.classes.highlightedToken)}).insertBefore(q),U=e("<li />").addClass(o.classes.inputToken).appendTo(F).append(L),H=e("<div>").addClass(o.classes.dropdown).appendTo("body").hide(),j=e("<tester/>").insertAfter(L).css({"position":"absolute","top":-9999,"left":-9999,"width":"auto","fontSize":L.css("fontSize"),"fontFamily":L.css("fontFamily"),"fontWeight":L.css("fontWeight"),"letterSpacing":L.css("letterSpacing"),"whiteSpace":"nowrap"});q.val("");var G=o.prePopulate||q.data("pre");o.processPrePopulate&&e.isFunction(o.onResult)&&(G=o.onResult.call(q,G)),G&&G.length&&e.each(G,function(e,t){
u(t),l()}),e.isFunction(o.onReady)&&(o.onReady.call(),0==o.minChars&&setTimeout(function(){k()},5)),this.clear=function(){F.children("li").each(function(){0===e(this).children("input").length&&m(e(this))})},this.add=function(e){d(e)},this.remove=function(t){F.children("li").each(function(){if(0===e(this).children("input").length){var n=e(this).data("tokeninput"),i=!0;for(var a in t)if(t[a]!==n[a]){i=!1;break}i&&m(e(this))}})},this.getTokens=function(){return I}},e.TokenList.Cache=function(t){var n=e.extend({"max_size":500},t),i={},a=0,s=function(){i={},a=0};this.add=function(e,t){a>n.max_size&&s(),i[e]||(a+=1),i[e]=t},this.get=function(e){return i[e]}}}(jQuery),function(e,t,n){function i(e,t,n){return e.addEventListener?void e.addEventListener(t,n,!1):void e.attachEvent("on"+t,n)}function a(e){if("keypress"==e.type){var t=String.fromCharCode(e.which);return e.shiftKey||(t=t.toLowerCase()),t}return v[e.which]?v[e.which]:_[e.which]?_[e.which]:String.fromCharCode(e.which).toLowerCase()}function s(e,t){return e.sort().join(",")===t.sort().join(",")}function o(e){var t=[];return e.shiftKey&&t.push("shift"),e.altKey&&t.push("alt"),e.ctrlKey&&t.push("ctrl"),e.metaKey&&t.push("meta"),t}function r(e){return e.preventDefault?void e.preventDefault():void(e.returnValue=!1)}function l(e){return e.stopPropagation?void e.stopPropagation():void(e.cancelBubble=!0)}function c(e){return"shift"==e||"ctrl"==e||"alt"==e||"meta"==e}function u(){if(!g){g={};for(var e in v)e>95&&112>e||v.hasOwnProperty(e)&&(g[v[e]]=e)}return g}function d(e,t,n){return n||(n=u()[e]?"keydown":"keypress"),"keypress"==n&&t.length&&(n="keydown"),n}function h(e){return"+"===e?["+"]:(e=e.replace(/\+{2}/g,"+plus"),e.split("+"))}function p(e,t){var n,i,a,s=[];for(n=h(e),a=0;a<n.length;++a)i=n[a],y[i]&&(i=y[i]),t&&"keypress"!=t&&b[i]&&(i=b[i],s.push("shift")),c(i)&&s.push(i);return t=d(i,s,t),{"key":i,"modifiers":s,"action":t}}function f(e,n){return e===t?!1:e===n?!0:f(e.parentNode,n)}function m(e){function n(e){e=e||{};var t,n=!1;for(t in y)e[t]?n=!0:y[t]=0;n||(T=!1)}function u(e,t,n,i,a,o){var r,l,u=[],d=n.type;if(!_._callbacks[e])return[];for("keyup"==d&&c(e)&&(t=[e]),r=0;r<_._callbacks[e].length;++r)if(l=_._callbacks[e][r],(i||!l.seq||y[l.seq]==l.level)&&d==l.action&&("keypress"==d&&!n.metaKey&&!n.ctrlKey||s(t,l.modifiers))){var h=!i&&l.combo==a,p=i&&l.seq==i&&l.level==o;(h||p)&&_._callbacks[e].splice(r,1),u.push(l)}return u}function d(e,t,n,i){_.stopCallback(t,t.target||t.srcElement,n,i)||e(t,n)===!1&&(r(t),l(t))}function h(e){"number"!=typeof e.which&&(e.which=e.keyCode);var t=a(e);if(t)return"keyup"==e.type&&S===t?void(S=!1):void _.handleKey(t,o(e),e)}function f(){clearTimeout(b),b=setTimeout(n,1e3)}function g(e,t,i,s){function o(t){return function(){T=t,++y[e],f()}}function r(t){d(i,t,e),"keyup"!==s&&(S=a(t)),setTimeout(n,10)}y[e]=0;for(var l=0;l<t.length;++l){var c=l+1===t.length,u=c?r:o(s||p(t[l+1]).action);v(t[l],u,s,e,l)}}function v(e,t,n,i,a){_._directMap[e+":"+n]=t,e=e.replace(/\s+/g," ");var s,o=e.split(" ");return o.length>1?void g(e,o,t,n):(s=p(e,n),_._callbacks[s.key]=_._callbacks[s.key]||[],u(s.key,s.modifiers,{"type":s.action},i,e,a),void _._callbacks[s.key][i?"unshift":"push"]({"callback":t,"modifiers":s.modifiers,"action":s.action,"seq":i,"level":a,"combo":e}))}var _=this;if(e=e||t,!(_ instanceof m))return new m(e);_.target=e,_._callbacks={},_._directMap={};var b,y={},S=!1,w=!1,T=!1;_._handleKey=function(e,t,i){var a,s=u(e,t,i),o={},r=0,l=!1;for(a=0;a<s.length;++a)s[a].seq&&(r=Math.max(r,s[a].level));for(a=0;a<s.length;++a)if(s[a].seq){if(s[a].level!=r)continue;l=!0,o[s[a].seq]=1,d(s[a].callback,i,s[a].combo,s[a].seq)}else l||d(s[a].callback,i,s[a].combo);var h="keypress"==i.type&&w;i.type!=T||c(e)||h||n(o),w=l&&"keydown"==i.type},_._bindMultiple=function(e,t,n){for(var i=0;i<e.length;++i)v(e[i],t,n)},i(e,"keypress",h),i(e,"keydown",h),i(e,"keyup",h)}for(var g,v={"8":"backspace","9":"tab","13":"enter","16":"shift","17":"ctrl","18":"alt","20":"capslock","27":"esc","32":"space","33":"pageup","34":"pagedown","35":"end","36":"home","37":"left","38":"up","39":"right","40":"down","45":"ins","46":"del","91":"meta","93":"meta","224":"meta"},_={"106":"*","107":"+","109":"-","110":".","111":"/","186":";","187":"=","188":",","189":"-","190":".","191":"/","192":"`","219":"[","220":"\\","221":"]","222":"'"},b={"~":"`","!":"1","@":"2","#":"3","$":"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0","_":"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},y={"option":"alt","command":"meta","return":"enter","escape":"esc","plus":"+","mod":/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},S=1;20>S;++S)v[111+S]="f"+S;for(S=0;9>=S;++S)v[S+96]=S;m.prototype.bind=function(e,t,n){var i=this;return e=e instanceof Array?e:[e],i._bindMultiple.call(i,e,t,n),i},m.prototype.unbind=function(e,t){var n=this;return n.bind.call(n,e,function(){},t)},m.prototype.trigger=function(e,t){var n=this;return n._directMap[e+":"+t]&&n._directMap[e+":"+t]({},e),n},m.prototype.reset=function(){var e=this;return e._callbacks={},e._directMap={},e},m.prototype.stopCallback=function(e,t){var n=this;return(" "+t.className+" ").indexOf(" mousetrap ")>-1?!1:f(t,n.target)?!1:"INPUT"==t.tagName||"SELECT"==t.tagName||"TEXTAREA"==t.tagName||t.isContentEditable},m.prototype.handleKey=function(){var e=this;return e._handleKey.apply(e,arguments)},m.init=function(){var e=m(t);for(var n in e)"_"!==n.charAt(0)&&(m[n]=function(t){return function(){return e[t].apply(e,arguments)}}(n))},m.init(),e.Mousetrap=m,"undefined"!=typeof module&&module.exports&&(module.exports=m),"function"==typeof define&&define.amd&&define(function(){return m})}(window,document),function(e){function t(){return{"empty":!1,"unusedTokens":[],"unusedInput":[],"overflow":-2,"charsLeftOver":0,"nullInput":!1,"invalidMonth":null,"invalidFormat":!1,"userInvalidated":!1,"iso":!1}}function n(e,t){return function(n){return u(e.call(this,n),t)}}function i(e,t){return function(n){return this.lang().ordinal(e.call(this,n),t)}}function a(){}function s(e){w(e),r(this,e)}function o(e){var t=g(e),n=t.year||0,i=t.month||0,a=t.week||0,s=t.day||0,o=t.hour||0,r=t.minute||0,l=t.second||0,c=t.millisecond||0;this._milliseconds=+c+1e3*l+6e4*r+36e5*o,this._days=+s+7*a,this._months=+i+12*n,this._data={},this._bubble()}function r(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return t.hasOwnProperty("toString")&&(e.toString=t.toString),t.hasOwnProperty("valueOf")&&(e.valueOf=t.valueOf),e}function l(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&ge.hasOwnProperty(t)&&(n[t]=e[t]);return n}function c(e){return 0>e?Math.ceil(e):Math.floor(e)}function u(e,t,n){for(var i=""+Math.abs(e),a=e>=0;i.length<t;)i="0"+i;return(a?n?"+":"":"-")+i}function d(e,t,n,i){var a,s,o=t._milliseconds,r=t._days,l=t._months;o&&e._d.setTime(+e._d+o*n),(r||l)&&(a=e.minute(),s=e.hour()),r&&e.date(e.date()+r*n),l&&e.month(e.month()+l*n),o&&!i&&ie.updateOffset(e),(r||l)&&(e.minute(a),e.hour(s))}function h(e){return"[object Array]"===Object.prototype.toString.call(e)}function p(e){return"[object Date]"===Object.prototype.toString.call(e)||e instanceof Date}function f(e,t,n){var i,a=Math.min(e.length,t.length),s=Math.abs(e.length-t.length),o=0;for(i=0;a>i;i++)(n&&e[i]!==t[i]||!n&&_(e[i])!==_(t[i]))&&o++;return o+s}function m(e){if(e){var t=e.toLowerCase().replace(/(.)s$/,"$1");e=Ye[e]||Be[t]||t}return e}function g(e){var t,n,i={};for(n in e)e.hasOwnProperty(n)&&(t=m(n),t&&(i[t]=e[n]));return i}function v(t){var n,i;if(0===t.indexOf("week"))n=7,i="day";else{if(0!==t.indexOf("month"))return;n=12,i="month"}ie[t]=function(a,s){var o,r,l=ie.fn._lang[t],c=[];if("number"==typeof a&&(s=a,a=e),r=function(e){var t=ie().utc().set(i,e);return l.call(ie.fn._lang,t,a||"")},null!=s)return r(s);for(o=0;n>o;o++)c.push(r(o));return c}}function _(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=t>=0?Math.floor(t):Math.ceil(t)),n}function b(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function y(e){return S(e)?366:365}function S(e){return e%4===0&&e%100!==0||e%400===0}function w(e){var t;e._a&&-2===e._pf.overflow&&(t=e._a[ce]<0||e._a[ce]>11?ce:e._a[ue]<1||e._a[ue]>b(e._a[le],e._a[ce])?ue:e._a[de]<0||e._a[de]>23?de:e._a[he]<0||e._a[he]>59?he:e._a[pe]<0||e._a[pe]>59?pe:e._a[fe]<0||e._a[fe]>999?fe:-1,e._pf._overflowDayOfYear&&(le>t||t>ue)&&(t=ue),e._pf.overflow=t)}function T(e){return null==e._isValid&&(e._isValid=!isNaN(e._d.getTime())&&e._pf.overflow<0&&!e._pf.empty&&!e._pf.invalidMonth&&!e._pf.nullInput&&!e._pf.invalidFormat&&!e._pf.userInvalidated,e._strict&&(e._isValid=e._isValid&&0===e._pf.charsLeftOver&&0===e._pf.unusedTokens.length)),e._isValid}function k(e){return e?e.toLowerCase().replace("_","-"):e}function x(e,t){return t._isUTC?ie(e).zone(t._offset||0):ie(e).local()}function C(e,t){return t.abbr=e,me[e]||(me[e]=new a),me[e].set(t),me[e]}function $(e){delete me[e]}function E(e){var t,n,i,a,s=0,o=function(e){if(!me[e]&&ve)try{require("./lang/"+e)}catch(t){}return me[e]};if(!e)return ie.fn._lang;if(!h(e)){if(n=o(e))return n;e=[e]}for(;s<e.length;){for(a=k(e[s]).split("-"),t=a.length,i=k(e[s+1]),i=i?i.split("-"):null;t>0;){if(n=o(a.slice(0,t).join("-")))return n;if(i&&i.length>=t&&f(a,i,!0)>=t-1)break;t--}s++}return ie.fn._lang}function M(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function I(e){var t,n,i=e.match(Se);for(t=0,n=i.length;n>t;t++)i[t]=Ke[i[t]]?Ke[i[t]]:M(i[t]);return function(a){var s="";for(t=0;n>t;t++)s+=i[t]instanceof Function?i[t].call(a,e):i[t];return s}}function A(e,t){return e.isValid()?(t=D(t,e.lang()),We[t]||(We[t]=I(t)),We[t](e)):e.lang().invalidDate()}function D(e,t){function n(e){return t.longDateFormat(e)||e}var i=5;for(we.lastIndex=0;i>=0&&we.test(e);)e=e.replace(we,n),we.lastIndex=0,i-=1;return e}function L(e,t){var n,i=t._strict;switch(e){case"DDDD":return qe;case"YYYY":case"GGGG":case"gggg":return i?Oe:xe;case"Y":case"G":case"g":return Ne;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return i?Pe:Ce;case"S":if(i)return De;case"SS":if(i)return Le;case"SSS":if(i)return qe;case"DDD":return ke;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return Ee;case"a":case"A":return E(t._l)._meridiemParse;case"X":return Ae;case"Z":case"ZZ":return Me;case"T":return Ie;case"SSSS":return $e;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return i?Le:Te;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return Te;default:return n=new RegExp(j(H(e.replace("\\","")),"i"))}}function q(e){e=e||"";var t=e.match(Me)||[],n=t[t.length-1]||[],i=(n+"").match(Ge)||["-",0,0],a=+(60*i[1])+_(i[2]);return"+"===i[0]?-a:a}function O(e,t,n){var i,a=n._a;switch(e){case"M":case"MM":null!=t&&(a[ce]=_(t)-1);break;case"MMM":case"MMMM":i=E(n._l).monthsParse(t),null!=i?a[ce]=i:n._pf.invalidMonth=t;break;case"D":case"DD":null!=t&&(a[ue]=_(t));break;case"DDD":case"DDDD":null!=t&&(n._dayOfYear=_(t));break;case"YY":a[le]=_(t)+(_(t)>68?1900:2e3);break;case"YYYY":case"YYYYY":case"YYYYYY":a[le]=_(t);break;case"a":case"A":n._isPm=E(n._l).isPM(t);break;case"H":case"HH":case"h":case"hh":a[de]=_(t);break;case"m":case"mm":a[he]=_(t);break;case"s":case"ss":a[pe]=_(t);break;case"S":case"SS":case"SSS":case"SSSS":a[fe]=_(1e3*("0."+t));break;case"X":n._d=new Date(1e3*parseFloat(t));break;case"Z":case"ZZ":n._useUTC=!0,n._tzm=q(t);break;case"w":case"ww":case"W":case"WW":case"d":case"dd":case"ddd":case"dddd":case"e":case"E":e=e.substr(0,1);case"gg":case"gggg":case"GG":case"GGGG":case"GGGGG":e=e.substr(0,2),t&&(n._w=n._w||{},n._w[e]=t)}}function P(e){var t,n,i,a,s,o,r,l,c,u,d=[];if(!e._d){for(i=F(e),e._w&&null==e._a[ue]&&null==e._a[ce]&&(s=function(t){var n=parseInt(t,10);return t?t.length<3?n>68?1900+n:2e3+n:n:null==e._a[le]?ie().weekYear():e._a[le]},o=e._w,null!=o.GG||null!=o.W||null!=o.E?r=X(s(o.GG),o.W||1,o.E,4,1):(l=E(e._l),c=null!=o.d?W(o.d,l):null!=o.e?parseInt(o.e,10)+l._week.dow:0,u=parseInt(o.w,10)||1,null!=o.d&&c<l._week.dow&&u++,r=X(s(o.gg),u,c,l._week.doy,l._week.dow)),e._a[le]=r.year,e._dayOfYear=r.dayOfYear),e._dayOfYear&&(a=null==e._a[le]?i[le]:e._a[le],e._dayOfYear>y(a)&&(e._pf._overflowDayOfYear=!0),n=B(a,0,e._dayOfYear),e._a[ce]=n.getUTCMonth(),e._a[ue]=n.getUTCDate()),t=0;3>t&&null==e._a[t];++t)e._a[t]=d[t]=i[t];for(;7>t;t++)e._a[t]=d[t]=null==e._a[t]?2===t?1:0:e._a[t];d[de]+=_((e._tzm||0)/60),d[he]+=_((e._tzm||0)%60),e._d=(e._useUTC?B:Y).apply(null,d)}}function N(e){var t;e._d||(t=g(e._i),e._a=[t.year,t.month,t.day,t.hour,t.minute,t.second,t.millisecond],P(e))}function F(e){var t=new Date;return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function U(e){e._a=[],e._pf.empty=!0;var t,n,i,a,s,o=E(e._l),r=""+e._i,l=r.length,c=0;for(i=D(e._f,o).match(Se)||[],t=0;t<i.length;t++)a=i[t],n=(r.match(L(a,e))||[])[0],n&&(s=r.substr(0,r.indexOf(n)),s.length>0&&e._pf.unusedInput.push(s),r=r.slice(r.indexOf(n)+n.length),c+=n.length),Ke[a]?(n?e._pf.empty=!1:e._pf.unusedTokens.push(a),O(a,n,e)):e._strict&&!n&&e._pf.unusedTokens.push(a);e._pf.charsLeftOver=l-c,r.length>0&&e._pf.unusedInput.push(r),e._isPm&&e._a[de]<12&&(e._a[de]+=12),e._isPm===!1&&12===e._a[de]&&(e._a[de]=0),P(e),w(e)}function H(e){return e.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,i,a){return t||n||i||a})}function j(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function G(e){var n,i,a,s,o;if(0===e._f.length)return e._pf.invalidFormat=!0,void(e._d=new Date(0/0));for(s=0;s<e._f.length;s++)o=0,n=r({},e),n._pf=t(),n._f=e._f[s],U(n),T(n)&&(o+=n._pf.charsLeftOver,o+=10*n._pf.unusedTokens.length,n._pf.score=o,(null==a||a>o)&&(a=o,i=n));r(e,i||n)}function R(e){var t,n,i=e._i,a=Fe.exec(i);if(a){for(e._pf.iso=!0,t=0,n=He.length;n>t;t++)if(He[t][1].exec(i)){e._f=He[t][0]+(a[6]||" ");break}for(t=0,n=je.length;n>t;t++)if(je[t][1].exec(i)){e._f+=je[t][0];break}i.match(Me)&&(e._f+="Z"),U(e)}else e._d=new Date(i)}function z(t){var n=t._i,i=_e.exec(n);n===e?t._d=new Date:i?t._d=new Date(+i[1]):"string"==typeof n?R(t):h(n)?(t._a=n.slice(0),P(t)):p(n)?t._d=new Date(+n):"object"==typeof n?N(t):t._d=new Date(n)}function Y(e,t,n,i,a,s,o){var r=new Date(e,t,n,i,a,s,o);return 1970>e&&r.setFullYear(e),r}function B(e){var t=new Date(Date.UTC.apply(null,arguments));return 1970>e&&t.setUTCFullYear(e),t}function W(e,t){if("string"==typeof e)if(isNaN(e)){if(e=t.weekdaysParse(e),"number"!=typeof e)return null}else e=parseInt(e,10);return e}function J(e,t,n,i,a){return a.relativeTime(t||1,!!n,e,i)}function V(e,t,n){var i=re(Math.abs(e)/1e3),a=re(i/60),s=re(a/60),o=re(s/24),r=re(o/365),l=45>i&&["s",i]||1===a&&["m"]||45>a&&["mm",a]||1===s&&["h"]||22>s&&["hh",s]||1===o&&["d"]||25>=o&&["dd",o]||45>=o&&["M"]||345>o&&["MM",re(o/30)]||1===r&&["y"]||["yy",r];return l[2]=t,l[3]=e>0,l[4]=n,J.apply({},l)}function K(e,t,n){var i,a=n-t,s=n-e.day();return s>a&&(s-=7),a-7>s&&(s+=7),i=ie(e).add("d",s),{"week":Math.ceil(i.dayOfYear()/7),"year":i.year()}}function X(e,t,n,i,a){var s,o,r=B(e,0,1).getUTCDay();return n=null!=n?n:a,s=a-r+(r>i?7:0)-(a>r?7:0),o=7*(t-1)+(n-a)+s+1,{"year":o>0?e:e-1,"dayOfYear":o>0?o:y(e-1)+o}}function Q(e){var t=e._i,n=e._f;return null===t?ie.invalid({"nullInput":!0}):("string"==typeof t&&(e._i=t=E().preparse(t)),ie.isMoment(t)?(e=l(t),e._d=new Date(+t._d)):n?h(n)?G(e):U(e):z(e),new s(e))}function Z(e,t){ie.fn[e]=ie.fn[e+"s"]=function(e){var n=this._isUTC?"UTC":"";return null!=e?(this._d["set"+n+t](e),ie.updateOffset(this),this):this._d["get"+n+t]()}}function ee(e){ie.duration.fn[e]=function(){return this._data[e]}}function te(e,t){ie.duration.fn["as"+e]=function(){return+this/t}}function ne(e){var t=!1,n=ie;"undefined"==typeof ender&&(e?(oe.moment=function(){return!t&&console&&console.warn&&(t=!0,console.warn("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.")),n.apply(null,arguments)},r(oe.moment,n)):oe.moment=ie)}for(var ie,ae,se="2.5.1",oe=this,re=Math.round,le=0,ce=1,ue=2,de=3,he=4,pe=5,fe=6,me={},ge={"_isAMomentObject":null,"_i":null,"_f":null,"_l":null,"_strict":null,"_isUTC":null,"_offset":null,"_pf":null,"_lang":null},ve="undefined"!=typeof module&&module.exports&&"undefined"!=typeof require,_e=/^\/?Date\((\-?\d+)/i,be=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,ye=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,Se=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|X|zz?|ZZ?|.)/g,we=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,Te=/\d\d?/,ke=/\d{1,3}/,xe=/\d{1,4}/,Ce=/[+\-]?\d{1,6}/,$e=/\d+/,Ee=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Me=/Z|[\+\-]\d\d:?\d\d/gi,Ie=/T/i,Ae=/[\+\-]?\d+(\.\d{1,3})?/,De=/\d/,Le=/\d\d/,qe=/\d{3}/,Oe=/\d{4}/,Pe=/[+-]?\d{6}/,Ne=/[+-]?\d+/,Fe=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Ue="YYYY-MM-DDTHH:mm:ssZ",He=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],je=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d{1,3}/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],Ge=/([\+\-]|\d\d)/gi,Re="Date|Hours|Minutes|Seconds|Milliseconds".split("|"),ze={"Milliseconds":1,"Seconds":1e3,"Minutes":6e4,"Hours":36e5,"Days":864e5,"Months":2592e6,"Years":31536e6},Ye={"ms":"millisecond","s":"second","m":"minute","h":"hour","d":"day","D":"date","w":"week","W":"isoWeek","M":"month","y":"year","DDD":"dayOfYear","e":"weekday","E":"isoWeekday","gg":"weekYear","GG":"isoWeekYear"},Be={"dayofyear":"dayOfYear","isoweekday":"isoWeekday","isoweek":"isoWeek","weekyear":"weekYear","isoweekyear":"isoWeekYear"},We={},Je="DDD w W M D d".split(" "),Ve="M D H h m s w W".split(" "),Ke={"M":function(){return this.month()+1},"MMM":function(e){return this.lang().monthsShort(this,e)},"MMMM":function(e){return this.lang().months(this,e)},"D":function(){return this.date()},"DDD":function(){return this.dayOfYear()},"d":function(){return this.day()},"dd":function(e){return this.lang().weekdaysMin(this,e)},"ddd":function(e){return this.lang().weekdaysShort(this,e)},"dddd":function(e){return this.lang().weekdays(this,e)},"w":function(){return this.week()},"W":function(){return this.isoWeek()},"YY":function(){return u(this.year()%100,2)},"YYYY":function(){return u(this.year(),4)},"YYYYY":function(){return u(this.year(),5)},"YYYYYY":function(){var e=this.year(),t=e>=0?"+":"-";return t+u(Math.abs(e),6)},"gg":function(){return u(this.weekYear()%100,2)},"gggg":function(){return u(this.weekYear(),4)},"ggggg":function(){return u(this.weekYear(),5)},"GG":function(){return u(this.isoWeekYear()%100,2)},"GGGG":function(){return u(this.isoWeekYear(),4)},"GGGGG":function(){return u(this.isoWeekYear(),5)},"e":function(){return this.weekday()},"E":function(){return this.isoWeekday()},"a":function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},"A":function(){return this.lang().meridiem(this.hours(),this.minutes(),!1)},"H":function(){return this.hours()},"h":function(){return this.hours()%12||12},"m":function(){return this.minutes()},"s":function(){return this.seconds()},"S":function(){return _(this.milliseconds()/100)},"SS":function(){return u(_(this.milliseconds()/10),2)},"SSS":function(){return u(this.milliseconds(),3)},"SSSS":function(){return u(this.milliseconds(),3)},"Z":function(){var e=-this.zone(),t="+";return 0>e&&(e=-e,t="-"),t+u(_(e/60),2)+":"+u(_(e)%60,2)},"ZZ":function(){var e=-this.zone(),t="+";return 0>e&&(e=-e,t="-"),t+u(_(e/60),2)+u(_(e)%60,2)},"z":function(){return this.zoneAbbr()},"zz":function(){return this.zoneName()},"X":function(){return this.unix()},"Q":function(){return this.quarter()}},Xe=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"];Je.length;)ae=Je.pop(),Ke[ae+"o"]=i(Ke[ae],ae);for(;Ve.length;)ae=Ve.pop(),Ke[ae+ae]=n(Ke[ae],2);for(Ke.DDDD=n(Ke.DDD,3),r(a.prototype,{"set":function(e){var t,n;for(n in e)t=e[n],"function"==typeof t?this[n]=t:this["_"+n]=t},"_months":"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),"months":function(e){return this._months[e.month()]},"_monthsShort":"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),"monthsShort":function(e){return this._monthsShort[e.month()]},"monthsParse":function(e){var t,n,i;for(this._monthsParse||(this._monthsParse=[]),t=0;12>t;t++)if(this._monthsParse[t]||(n=ie.utc([2e3,t]),i="^"+this.months(n,"")+"|^"+this.monthsShort(n,""),this._monthsParse[t]=new RegExp(i.replace(".",""),"i")),this._monthsParse[t].test(e))return t},"_weekdays":"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),"weekdays":function(e){return this._weekdays[e.day()]},"_weekdaysShort":"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),"weekdaysShort":function(e){return this._weekdaysShort[e.day()]},"_weekdaysMin":"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),"weekdaysMin":function(e){return this._weekdaysMin[e.day()]},"weekdaysParse":function(e){var t,n,i;for(this._weekdaysParse||(this._weekdaysParse=[]),t=0;7>t;t++)if(this._weekdaysParse[t]||(n=ie([2e3,1]).day(t),i="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[t]=new RegExp(i.replace(".",""),"i")),this._weekdaysParse[t].test(e))return t},"_longDateFormat":{"LT":"h:mm A","L":"MM/DD/YYYY","LL":"MMMM D YYYY","LLL":"MMMM D YYYY LT","LLLL":"dddd, MMMM D YYYY LT"},"longDateFormat":function(e){var t=this._longDateFormat[e];return!t&&this._longDateFormat[e.toUpperCase()]&&(t=this._longDateFormat[e.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e]=t),t},"isPM":function(e){return"p"===(e+"").toLowerCase().charAt(0)},"_meridiemParse":/[ap]\.?m?\.?/i,"meridiem":function(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"},"_calendar":{"sameDay":"[Today at] LT","nextDay":"[Tomorrow at] LT","nextWeek":"dddd [at] LT","lastDay":"[Yesterday at] LT","lastWeek":"[Last] dddd [at] LT","sameElse":"L"},"calendar":function(e,t){var n=this._calendar[e];return"function"==typeof n?n.apply(t):n},"_relativeTime":{"future":"in %s","past":"%s ago","s":"a few seconds","m":"a minute","mm":"%d minutes","h":"an hour","hh":"%d hours","d":"a day","dd":"%d days","M":"a month","MM":"%d months","y":"a year","yy":"%d years"},"relativeTime":function(e,t,n,i){var a=this._relativeTime[n];return"function"==typeof a?a(e,t,n,i):a.replace(/%d/i,e)},"pastFuture":function(e,t){var n=this._relativeTime[e>0?"future":"past"];return"function"==typeof n?n(t):n.replace(/%s/i,t)},"ordinal":function(e){return this._ordinal.replace("%d",e)},"_ordinal":"%d","preparse":function(e){return e},"postformat":function(e){return e},"week":function(e){return K(e,this._week.dow,this._week.doy).week},"_week":{"dow":0,"doy":6},"_invalidDate":"Invalid date","invalidDate":function(){return this._invalidDate}}),ie=function(n,i,a,s){var o;return"boolean"==typeof a&&(s=a,a=e),o={},o._isAMomentObject=!0,o._i=n,o._f=i,o._l=a,o._strict=s,o._isUTC=!1,o._pf=t(),Q(o)},ie.utc=function(n,i,a,s){var o;return"boolean"==typeof a&&(s=a,a=e),o={},o._isAMomentObject=!0,o._useUTC=!0,o._isUTC=!0,o._l=a,o._i=n,o._f=i,o._strict=s,o._pf=t(),Q(o).utc()},ie.unix=function(e){return ie(1e3*e)},ie.duration=function(e,t){var n,i,a,s=e,r=null;return ie.isDuration(e)?s={"ms":e._milliseconds,"d":e._days,"M":e._months}:"number"==typeof e?(s={},t?s[t]=e:s.milliseconds=e):(r=be.exec(e))?(n="-"===r[1]?-1:1,s={"y":0,"d":_(r[ue])*n,"h":_(r[de])*n,"m":_(r[he])*n,"s":_(r[pe])*n,"ms":_(r[fe])*n}):(r=ye.exec(e))&&(n="-"===r[1]?-1:1,a=function(e){var t=e&&parseFloat(e.replace(",","."));return(isNaN(t)?0:t)*n},s={"y":a(r[2]),"M":a(r[3]),"d":a(r[4]),"h":a(r[5]),"m":a(r[6]),"s":a(r[7]),"w":a(r[8])}),i=new o(s),ie.isDuration(e)&&e.hasOwnProperty("_lang")&&(i._lang=e._lang),i},ie.version=se,ie.defaultFormat=Ue,ie.updateOffset=function(){},ie.lang=function(e,t){var n;return e?(t?C(k(e),t):null===t?($(e),e="en"):me[e]||E(e),n=ie.duration.fn._lang=ie.fn._lang=E(e),n._abbr):ie.fn._lang._abbr},ie.langData=function(e){return e&&e._lang&&e._lang._abbr&&(e=e._lang._abbr),E(e)},ie.isMoment=function(e){return e instanceof s||null!=e&&e.hasOwnProperty("_isAMomentObject")},ie.isDuration=function(e){return e instanceof o},ae=Xe.length-1;ae>=0;--ae)v(Xe[ae]);for(ie.normalizeUnits=function(e){return m(e)},ie.invalid=function(e){var t=ie.utc(0/0);return null!=e?r(t._pf,e):t._pf.userInvalidated=!0,t},ie.parseZone=function(e){return ie(e).parseZone()},r(ie.fn=s.prototype,{"clone":function(){return ie(this)},"valueOf":function(){return+this._d+6e4*(this._offset||0)},"unix":function(){return Math.floor(+this/1e3)},"toString":function(){return this.clone().lang("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},"toDate":function(){return this._offset?new Date(+this):this._d},"toISOString":function(){var e=ie(this).utc();return 0<e.year()&&e.year()<=9999?A(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):A(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},"toArray":function(){var e=this;return[e.year(),e.month(),e.date(),e.hours(),e.minutes(),e.seconds(),e.milliseconds()]},"isValid":function(){return T(this)},"isDSTShifted":function(){return this._a?this.isValid()&&f(this._a,(this._isUTC?ie.utc(this._a):ie(this._a)).toArray())>0:!1},"parsingFlags":function(){return r({},this._pf)},"invalidAt":function(){return this._pf.overflow},"utc":function(){return this.zone(0)},"local":function(){return this.zone(0),this._isUTC=!1,this},"format":function(e){var t=A(this,e||ie.defaultFormat);return this.lang().postformat(t)},"add":function(e,t){var n;return n="string"==typeof e?ie.duration(+t,e):ie.duration(e,t),d(this,n,1),this},"subtract":function(e,t){var n;return n="string"==typeof e?ie.duration(+t,e):ie.duration(e,t),d(this,n,-1),this},"diff":function(e,t,n){var i,a,s=x(e,this),o=6e4*(this.zone()-s.zone());return t=m(t),"year"===t||"month"===t?(i=432e5*(this.daysInMonth()+s.daysInMonth()),a=12*(this.year()-s.year())+(this.month()-s.month()),a+=(this-ie(this).startOf("month")-(s-ie(s).startOf("month")))/i,a-=6e4*(this.zone()-ie(this).startOf("month").zone()-(s.zone()-ie(s).startOf("month").zone()))/i,"year"===t&&(a/=12)):(i=this-s,a="second"===t?i/1e3:"minute"===t?i/6e4:"hour"===t?i/36e5:"day"===t?(i-o)/864e5:"week"===t?(i-o)/6048e5:i),n?a:c(a)},"from":function(e,t){return ie.duration(this.diff(e)).lang(this.lang()._abbr).humanize(!t)},"fromNow":function(e){return this.from(ie(),e)},"calendar":function(){var e=x(ie(),this).startOf("day"),t=this.diff(e,"days",!0),n=-6>t?"sameElse":-1>t?"lastWeek":0>t?"lastDay":1>t?"sameDay":2>t?"nextDay":7>t?"nextWeek":"sameElse";return this.format(this.lang().calendar(n,this))},"isLeapYear":function(){return S(this.year())},"isDST":function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},"day":function(e){var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=W(e,this.lang()),this.add({"d":e-t})):t},"month":function(e){var t,n=this._isUTC?"UTC":"";return null!=e?"string"==typeof e&&(e=this.lang().monthsParse(e),"number"!=typeof e)?this:(t=this.date(),this.date(1),this._d["set"+n+"Month"](e),this.date(Math.min(t,this.daysInMonth())),ie.updateOffset(this),this):this._d["get"+n+"Month"]()},"startOf":function(e){switch(e=m(e)){case"year":this.month(0);case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e?this.weekday(0):"isoWeek"===e&&this.isoWeekday(1),this},"endOf":function(e){return e=m(e),this.startOf(e).add("isoWeek"===e?"week":e,1).subtract("ms",1)},"isAfter":function(e,t){return t="undefined"!=typeof t?t:"millisecond",+this.clone().startOf(t)>+ie(e).startOf(t)},"isBefore":function(e,t){return t="undefined"!=typeof t?t:"millisecond",+this.clone().startOf(t)<+ie(e).startOf(t)},"isSame":function(e,t){return t=t||"ms",+this.clone().startOf(t)===+x(e,this).startOf(t)},"min":function(e){return e=ie.apply(null,arguments),this>e?this:e},"max":function(e){return e=ie.apply(null,arguments),e>this?this:e},"zone":function(e){var t=this._offset||0;return null==e?this._isUTC?t:this._d.getTimezoneOffset():("string"==typeof e&&(e=q(e)),Math.abs(e)<16&&(e=60*e),this._offset=e,this._isUTC=!0,t!==e&&d(this,ie.duration(t-e,"m"),1,!0),this)},"zoneAbbr":function(){return this._isUTC?"UTC":""},"zoneName":function(){return this._isUTC?"Coordinated Universal Time":""},"parseZone":function(){return this._tzm?this.zone(this._tzm):"string"==typeof this._i&&this.zone(this._i),this},"hasAlignedHourOffset":function(e){return e=e?ie(e).zone():0,(this.zone()-e)%60===0},"daysInMonth":function(){return b(this.year(),this.month())},"dayOfYear":function(e){var t=re((ie(this).startOf("day")-ie(this).startOf("year"))/864e5)+1;return null==e?t:this.add("d",e-t)},"quarter":function(){return Math.ceil((this.month()+1)/3)},"weekYear":function(e){var t=K(this,this.lang()._week.dow,this.lang()._week.doy).year;return null==e?t:this.add("y",e-t)},"isoWeekYear":function(e){var t=K(this,1,4).year;return null==e?t:this.add("y",e-t)},"week":function(e){var t=this.lang().week(this);return null==e?t:this.add("d",7*(e-t))},"isoWeek":function(e){var t=K(this,1,4).week;return null==e?t:this.add("d",7*(e-t))},"weekday":function(e){var t=(this.day()+7-this.lang()._week.dow)%7;return null==e?t:this.add("d",e-t)},"isoWeekday":function(e){return null==e?this.day()||7:this.day(this.day()%7?e:e-7)},"get":function(e){return e=m(e),this[e]()},"set":function(e,t){return e=m(e),"function"==typeof this[e]&&this[e](t),this},"lang":function(t){return t===e?this._lang:(this._lang=E(t),this)}}),ae=0;ae<Re.length;ae++)Z(Re[ae].toLowerCase().replace(/s$/,""),Re[ae]);Z("year","FullYear"),ie.fn.days=ie.fn.day,ie.fn.months=ie.fn.month,ie.fn.weeks=ie.fn.week,ie.fn.isoWeeks=ie.fn.isoWeek,ie.fn.toJSON=ie.fn.toISOString,r(ie.duration.fn=o.prototype,{"_bubble":function(){var e,t,n,i,a=this._milliseconds,s=this._days,o=this._months,r=this._data;r.milliseconds=a%1e3,e=c(a/1e3),r.seconds=e%60,t=c(e/60),r.minutes=t%60,n=c(t/60),r.hours=n%24,s+=c(n/24),r.days=s%30,o+=c(s/30),r.months=o%12,i=c(o/12),r.years=i},"weeks":function(){return c(this.days()/7)},"valueOf":function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*_(this._months/12)},"humanize":function(e){var t=+this,n=V(t,!e,this.lang());return e&&(n=this.lang().pastFuture(t,n)),this.lang().postformat(n)},"add":function(e,t){var n=ie.duration(e,t);return this._milliseconds+=n._milliseconds,this._days+=n._days,this._months+=n._months,this._bubble(),this},"subtract":function(e,t){var n=ie.duration(e,t);return this._milliseconds-=n._milliseconds,this._days-=n._days,this._months-=n._months,this._bubble(),this},"get":function(e){return e=m(e),this[e.toLowerCase()+"s"]()},"as":function(e){return e=m(e),this["as"+e.charAt(0).toUpperCase()+e.slice(1)+"s"]()},"lang":ie.fn.lang,"toIsoString":function(){var e=Math.abs(this.years()),t=Math.abs(this.months()),n=Math.abs(this.days()),i=Math.abs(this.hours()),a=Math.abs(this.minutes()),s=Math.abs(this.seconds()+this.milliseconds()/1e3);return this.asSeconds()?(this.asSeconds()<0?"-":"")+"P"+(e?e+"Y":"")+(t?t+"M":"")+(n?n+"D":"")+(i||a||s?"T":"")+(i?i+"H":"")+(a?a+"M":"")+(s?s+"S":""):"P0D"}});for(ae in ze)ze.hasOwnProperty(ae)&&(te(ae,ze[ae]),ee(ae.toLowerCase()));te("Weeks",6048e5),ie.duration.fn.asMonths=function(){return(+this-31536e6*this.years())/2592e6+12*this.years()},ie.lang("en",{"ordinal":function(e){var t=e%10,n=1===_(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n}}),ve?(module.exports=ie,ne(!0)):"function"==typeof define&&define.amd?define("moment",function(t,n,i){return i.config&&i.config()&&i.config().noGlobal!==!0&&ne(i.config().noGlobal===e),
ie}):ne()}.call(this),function(e){"function"==typeof define&&define.amd?define(["moment"],e):"object"==typeof exports?module.exports=e(require("../moment")):e(window.moment)}(function(e){function t(e,t,n,i){var a={"m":["eine Minute","einer Minute"],"h":["eine Stunde","einer Stunde"],"d":["ein Tag","einem Tag"],"dd":[e+" Tage",e+" Tagen"],"M":["ein Monat","einem Monat"],"MM":[e+" Monate",e+" Monaten"],"y":["ein Jahr","einem Jahr"],"yy":[e+" Jahre",e+" Jahren"]};return t?a[n][0]:a[n][1]}return e.lang("de",{"months":"Januar_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),"monthsShort":"Jan._Febr._Mrz._Apr._Mai_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),"weekdays":"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),"weekdaysShort":"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),"weekdaysMin":"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),"longDateFormat":{"LT":"H:mm [Uhr]","L":"DD.MM.YYYY","LL":"D. MMMM YYYY","LLL":"D. MMMM YYYY LT","LLLL":"dddd, D. MMMM YYYY LT"},"calendar":{"sameDay":"[Heute um] LT","sameElse":"L","nextDay":"[Morgen um] LT","nextWeek":"dddd [um] LT","lastDay":"[Gestern um] LT","lastWeek":"[letzten] dddd [um] LT"},"relativeTime":{"future":"in %s","past":"vor %s","s":"ein paar Sekunden","m":t,"mm":"%d Minuten","h":t,"hh":"%d Stunden","d":t,"dd":t,"M":t,"MM":t,"y":t,"yy":t},"ordinal":"%d.","week":{"dow":1,"doy":4}})}),function(e){"function"==typeof define&&define.amd?define(["moment"],e):"object"==typeof exports?module.exports=e(require("../moment")):e(window.moment)}(function(e){return e.lang("es",{"months":"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),"monthsShort":"ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),"weekdays":"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),"weekdaysShort":"dom._lun._mar._mi._jue._vie._sb.".split("_"),"weekdaysMin":"Do_Lu_Ma_Mi_Ju_Vi_S".split("_"),"longDateFormat":{"LT":"H:mm","L":"DD/MM/YYYY","LL":"D [de] MMMM [de] YYYY","LLL":"D [de] MMMM [de] YYYY LT","LLLL":"dddd, D [de] MMMM [de] YYYY LT"},"calendar":{"sameDay":function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},"nextDay":function(){return"[maana a la"+(1!==this.hours()?"s":"")+"] LT"},"nextWeek":function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},"lastDay":function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},"lastWeek":function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},"sameElse":"L"},"relativeTime":{"future":"en %s","past":"hace %s","s":"unos segundos","m":"un minuto","mm":"%d minutos","h":"una hora","hh":"%d horas","d":"un da","dd":"%d das","M":"un mes","MM":"%d meses","y":"un ao","yy":"%d aos"},"ordinal":"%d","week":{"dow":1,"doy":4}})}),function(e){"function"==typeof define&&define.amd?define(["moment"],e):"object"==typeof exports?module.exports=e(require("../moment")):e(window.moment)}(function(e){return e.lang("fr-ca",{"months":"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),"monthsShort":"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),"weekdays":"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),"weekdaysShort":"dim._lun._mar._mer._jeu._ven._sam.".split("_"),"weekdaysMin":"Di_Lu_Ma_Me_Je_Ve_Sa".split("_"),"longDateFormat":{"LT":"HH:mm","L":"YYYY-MM-DD","LL":"D MMMM YYYY","LLL":"D MMMM YYYY LT","LLLL":"dddd D MMMM YYYY LT"},"calendar":{"sameDay":"[Aujourd'hui ] LT","nextDay":"[Demain ] LT","nextWeek":"dddd [] LT","lastDay":"[Hier ] LT","lastWeek":"dddd [dernier ] LT","sameElse":"L"},"relativeTime":{"future":"dans %s","past":"il y a %s","s":"quelques secondes","m":"une minute","mm":"%d minutes","h":"une heure","hh":"%d heures","d":"un jour","dd":"%d jours","M":"un mois","MM":"%d mois","y":"un an","yy":"%d ans"},"ordinal":function(e){return e+(1===e?"er":"")}})}),function(e){"function"==typeof define&&define.amd?define(["moment"],e):"object"==typeof exports?module.exports=e(require("../moment")):e(window.moment)}(function(e){return e.lang("fr",{"months":"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),"monthsShort":"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),"weekdays":"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),"weekdaysShort":"dim._lun._mar._mer._jeu._ven._sam.".split("_"),"weekdaysMin":"Di_Lu_Ma_Me_Je_Ve_Sa".split("_"),"longDateFormat":{"LT":"HH:mm","L":"DD/MM/YYYY","LL":"D MMMM YYYY","LLL":"D MMMM YYYY LT","LLLL":"dddd D MMMM YYYY LT"},"calendar":{"sameDay":"[Aujourd'hui ] LT","nextDay":"[Demain ] LT","nextWeek":"dddd [] LT","lastDay":"[Hier ] LT","lastWeek":"dddd [dernier ] LT","sameElse":"L"},"relativeTime":{"future":"dans %s","past":"il y a %s","s":"quelques secondes","m":"une minute","mm":"%d minutes","h":"une heure","hh":"%d heures","d":"un jour","dd":"%d jours","M":"un mois","MM":"%d mois","y":"un an","yy":"%d ans"},"ordinal":function(e){return e+(1===e?"er":"")},"week":{"dow":1,"doy":4}})}),function(e){"function"==typeof define&&define.amd?define(["moment"],e):"object"==typeof exports?module.exports=e(require("../moment")):e(window.moment)}(function(e){return e.lang("it",{"months":"Gennaio_Febbraio_Marzo_Aprile_Maggio_Giugno_Luglio_Agosto_Settembre_Ottobre_Novembre_Dicembre".split("_"),"monthsShort":"Gen_Feb_Mar_Apr_Mag_Giu_Lug_Ago_Set_Ott_Nov_Dic".split("_"),"weekdays":"Domenica_Luned_Marted_Mercoled_Gioved_Venerd_Sabato".split("_"),"weekdaysShort":"Dom_Lun_Mar_Mer_Gio_Ven_Sab".split("_"),"weekdaysMin":"D_L_Ma_Me_G_V_S".split("_"),"longDateFormat":{"LT":"HH:mm","L":"DD/MM/YYYY","LL":"D MMMM YYYY","LLL":"D MMMM YYYY LT","LLLL":"dddd, D MMMM YYYY LT"},"calendar":{"sameDay":"[Oggi alle] LT","nextDay":"[Domani alle] LT","nextWeek":"dddd [alle] LT","lastDay":"[Ieri alle] LT","lastWeek":"[lo scorso] dddd [alle] LT","sameElse":"L"},"relativeTime":{"future":function(e){return(/^[0-9].+$/.test(e)?"tra":"in")+" "+e},"past":"%s fa","s":"alcuni secondi","m":"un minuto","mm":"%d minuti","h":"un'ora","hh":"%d ore","d":"un giorno","dd":"%d giorni","M":"un mese","MM":"%d mesi","y":"un anno","yy":"%d anni"},"ordinal":"%d","week":{"dow":1,"doy":4}})}),function(e){"function"==typeof define&&define.amd?define(["moment"],e):"object"==typeof exports?module.exports=e(require("../moment")):e(window.moment)}(function(e){return e.lang("ja",{"months":"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),"monthsShort":"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),"weekdays":"______".split("_"),"weekdaysShort":"______".split("_"),"weekdaysMin":"______".split("_"),"longDateFormat":{"LT":"Ahm","L":"YYYY/MM/DD","LL":"YYYYMD","LLL":"YYYYMDLT","LLLL":"YYYYMDLT dddd"},"meridiem":function(e,t,n){return 12>e?"":""},"calendar":{"sameDay":"[] LT","nextDay":"[] LT","nextWeek":"[]dddd LT","lastDay":"[] LT","lastWeek":"[]dddd LT","sameElse":"L"},"relativeTime":{"future":"%s","past":"%s","s":"","m":"1","mm":"%d","h":"1","hh":"%d","d":"1","dd":"%d","M":"1","MM":"%d","y":"1","yy":"%d"}})}),function(e){"function"==typeof define&&define.amd?define(["moment"],e):"object"==typeof exports?module.exports=e(require("../moment")):e(window.moment)}(function(e){return e.lang("ko",{"months":"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),"monthsShort":"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),"weekdays":"______".split("_"),"weekdaysShort":"______".split("_"),"weekdaysMin":"______".split("_"),"longDateFormat":{"LT":"A h mm","L":"YYYY.MM.DD","LL":"YYYY MMMM D","LLL":"YYYY MMMM D LT","LLLL":"YYYY MMMM D dddd LT"},"meridiem":function(e,t,n){return 12>e?"":""},"calendar":{"sameDay":" LT","nextDay":" LT","nextWeek":"dddd LT","lastDay":" LT","lastWeek":" dddd LT","sameElse":"L"},"relativeTime":{"future":"%s ","past":"%s ","s":"","ss":"%d","m":"","mm":"%d","h":"","hh":"%d","d":"","dd":"%d","M":"","MM":"%d","y":"","yy":"%d"},"ordinal":"%d","meridiemParse":/(|)/,"isPM":function(e){return""===e}})}),function(e){"function"==typeof define&&define.amd?define(["moment"],e):"object"==typeof exports?module.exports=e(require("../moment")):e(window.moment)}(function(e){var t="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),n="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_");return e.lang("nl",{"months":"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),"monthsShort":function(e,i){return/-MMM-/.test(i)?n[e.month()]:t[e.month()]},"weekdays":"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),"weekdaysShort":"zo._ma._di._wo._do._vr._za.".split("_"),"weekdaysMin":"Zo_Ma_Di_Wo_Do_Vr_Za".split("_"),"longDateFormat":{"LT":"HH:mm","L":"DD-MM-YYYY","LL":"D MMMM YYYY","LLL":"D MMMM YYYY LT","LLLL":"dddd D MMMM YYYY LT"},"calendar":{"sameDay":"[vandaag om] LT","nextDay":"[morgen om] LT","nextWeek":"dddd [om] LT","lastDay":"[gisteren om] LT","lastWeek":"[afgelopen] dddd [om] LT","sameElse":"L"},"relativeTime":{"future":"over %s","past":"%s geleden","s":"een paar seconden","m":"n minuut","mm":"%d minuten","h":"n uur","hh":"%d uur","d":"n dag","dd":"%d dagen","M":"n maand","MM":"%d maanden","y":"n jaar","yy":"%d jaar"},"ordinal":function(e){return e+(1===e||8===e||e>=20?"ste":"de")},"week":{"dow":1,"doy":4}})}),function(e){"function"==typeof define&&define.amd?define(["moment"],e):"object"==typeof exports?module.exports=e(require("../moment")):e(window.moment)}(function(e){function t(e){return 5>e%10&&e%10>1&&~~(e/10)%10!==1}function n(e,n,i){var a=e+" ";switch(i){case"m":return n?"minuta":"minut";case"mm":return a+(t(e)?"minuty":"minut");case"h":return n?"godzina":"godzin";case"hh":return a+(t(e)?"godziny":"godzin");case"MM":return a+(t(e)?"miesice":"miesicy");case"yy":return a+(t(e)?"lata":"lat")}}var i="stycze_luty_marzec_kwiecie_maj_czerwiec_lipiec_sierpie_wrzesie_padziernik_listopad_grudzie".split("_"),a="stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_wrzenia_padziernika_listopada_grudnia".split("_");return e.lang("pl",{"months":function(e,t){return/D MMMM/.test(t)?a[e.month()]:i[e.month()]},"monthsShort":"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_pa_lis_gru".split("_"),"weekdays":"niedziela_poniedziaek_wtorek_roda_czwartek_pitek_sobota".split("_"),"weekdaysShort":"nie_pon_wt_r_czw_pt_sb".split("_"),"weekdaysMin":"N_Pn_Wt_r_Cz_Pt_So".split("_"),"longDateFormat":{"LT":"HH:mm","L":"DD.MM.YYYY","LL":"D MMMM YYYY","LLL":"D MMMM YYYY LT","LLLL":"dddd, D MMMM YYYY LT"},"calendar":{"sameDay":"[Dzi o] LT","nextDay":"[Jutro o] LT","nextWeek":"[W] dddd [o] LT","lastDay":"[Wczoraj o] LT","lastWeek":function(){switch(this.day()){case 0:return"[W zesz niedziel o] LT";case 3:return"[W zesz rod o] LT";case 6:return"[W zesz sobot o] LT";default:return"[W zeszy] dddd [o] LT"}},"sameElse":"L"},"relativeTime":{"future":"za %s","past":"%s temu","s":"kilka sekund","m":n,"mm":n,"h":n,"hh":n,"d":"1 dzie","dd":"%d dni","M":"miesic","MM":n,"y":"rok","yy":n},"ordinal":"%d.","week":{"dow":1,"doy":4}})}),function(e){"function"==typeof define&&define.amd?define(["moment"],e):"object"==typeof exports?module.exports=e(require("../moment")):e(window.moment)}(function(e){return e.lang("pt-br",{"months":"Janeiro_Fevereiro_Maro_Abril_Maio_Junho_Julho_Agosto_Setembro_Outubro_Novembro_Dezembro".split("_"),"monthsShort":"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),"weekdays":"Domingo_Segunda-feira_Tera-feira_Quarta-feira_Quinta-feira_Sexta-feira_Sbado".split("_"),"weekdaysShort":"Dom_Seg_Ter_Qua_Qui_Sex_Sb".split("_"),"weekdaysMin":"Dom_2_3_4_5_6_Sb".split("_"),"longDateFormat":{"LT":"HH:mm","L":"DD/MM/YYYY","LL":"D [de] MMMM [de] YYYY","LLL":"D [de] MMMM [de] YYYY LT","LLLL":"dddd, D [de] MMMM [de] YYYY LT"},"calendar":{"sameDay":"[Hoje s] LT","nextDay":"[Amanh s] LT","nextWeek":"dddd [s] LT","lastDay":"[Ontem s] LT","lastWeek":function(){return 0===this.day()||6===this.day()?"[ltimo] dddd [s] LT":"[ltima] dddd [s] LT"},"sameElse":"L"},"relativeTime":{"future":"em %s","past":"%s atrs","s":"segundos","m":"um minuto","mm":"%d minutos","h":"uma hora","hh":"%d horas","d":"um dia","dd":"%d dias","M":"um ms","MM":"%d meses","y":"um ano","yy":"%d anos"},"ordinal":"%d"})}),function(e){"function"==typeof define&&define.amd?define(["moment"],e):"object"==typeof exports?module.exports=e(require("../moment")):e(window.moment)}(function(e){return e.lang("pt",{"months":"Janeiro_Fevereiro_Maro_Abril_Maio_Junho_Julho_Agosto_Setembro_Outubro_Novembro_Dezembro".split("_"),"monthsShort":"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),"weekdays":"Domingo_Segunda-feira_Tera-feira_Quarta-feira_Quinta-feira_Sexta-feira_Sbado".split("_"),"weekdaysShort":"Dom_Seg_Ter_Qua_Qui_Sex_Sb".split("_"),"weekdaysMin":"Dom_2_3_4_5_6_Sb".split("_"),"longDateFormat":{"LT":"HH:mm","L":"DD/MM/YYYY","LL":"D [de] MMMM [de] YYYY","LLL":"D [de] MMMM [de] YYYY LT","LLLL":"dddd, D [de] MMMM [de] YYYY LT"},"calendar":{"sameDay":"[Hoje s] LT","nextDay":"[Amanh s] LT","nextWeek":"dddd [s] LT","lastDay":"[Ontem s] LT","lastWeek":function(){return 0===this.day()||6===this.day()?"[ltimo] dddd [s] LT":"[ltima] dddd [s] LT"},"sameElse":"L"},"relativeTime":{"future":"em %s","past":"%s atrs","s":"segundos","m":"um minuto","mm":"%d minutos","h":"uma hora","hh":"%d horas","d":"um dia","dd":"%d dias","M":"um ms","MM":"%d meses","y":"um ano","yy":"%d anos"},"ordinal":"%d","week":{"dow":1,"doy":4}})}),function(e){"function"==typeof define&&define.amd?define(["moment"],e):"object"==typeof exports?module.exports=e(require("../moment")):e(window.moment)}(function(e){function t(e,t){var n=e.split("_");return t%10===1&&t%100!==11?n[0]:t%10>=2&&4>=t%10&&(10>t%100||t%100>=20)?n[1]:n[2]}function n(e,n,i){var a={"mm":"__","hh":"__","dd":"__","MM":"__","yy":"__"};return"m"===i?n?"":"":e+" "+t(a[i],+e)}function i(e,t){var n={"nominative":"___________".split("_"),"accusative":"___________".split("_")},i=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/.test(t)?"accusative":"nominative";return n[i][e.month()]}function a(e,t){var n={"nominative":"___________".split("_"),"accusative":"___________".split("_")},i=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/.test(t)?"accusative":"nominative";return n[i][e.month()]}function s(e,t){var n={"nominative":"______".split("_"),"accusative":"______".split("_")},i=/\[ ?[] ?(?:|)? ?\] ?dddd/.test(t)?"accusative":"nominative";return n[i][e.day()]}return e.lang("ru",{"months":i,"monthsShort":a,"weekdays":s,"weekdaysShort":"______".split("_"),"weekdaysMin":"______".split("_"),"monthsParse":[/^/i,/^/i,/^/i,/^/i,/^[|]/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],"longDateFormat":{"LT":"HH:mm","L":"DD.MM.YYYY","LL":"D MMMM YYYY .","LLL":"D MMMM YYYY ., LT","LLLL":"dddd, D MMMM YYYY ., LT"},"calendar":{"sameDay":"[ ] LT","nextDay":"[ ] LT","lastDay":"[ ] LT","nextWeek":function(){return 2===this.day()?"[] dddd [] LT":"[] dddd [] LT"},"lastWeek":function(){switch(this.day()){case 0:return"[ ] dddd [] LT";case 1:case 2:case 4:return"[ ] dddd [] LT";case 3:case 5:case 6:return"[ ] dddd [] LT"}},"sameElse":"L"},"relativeTime":{"future":" %s","past":"%s ","s":" ","m":n,"mm":n,"h":"","hh":n,"d":"","dd":n,"M":"","MM":n,"y":"","yy":n},"meridiem":function(e,t,n){return 4>e?"":12>e?"":17>e?"":""},"ordinal":function(e,t){switch(t){case"M":case"d":case"DDD":return e+"-";case"D":return e+"-";case"w":case"W":return e+"-";default:return e}},"week":{"dow":1,"doy":7}})}),function(e){"function"==typeof define&&define.amd?define(["moment"],e):"object"==typeof exports?module.exports=e(require("../moment")):e(window.moment)}(function(e){return e.lang("zh-cn",{"months":"___________".split("_"),"monthsShort":"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),"weekdays":"______".split("_"),"weekdaysShort":"______".split("_"),"weekdaysMin":"______".split("_"),"longDateFormat":{"LT":"Ahmm","L":"YYYY-MM-DD","LL":"YYYYMMMD","LLL":"YYYYMMMDLT","LLLL":"YYYYMMMDddddLT","l":"YYYY-MM-DD","ll":"YYYYMMMD","lll":"YYYYMMMDLT","llll":"YYYYMMMDddddLT"},"meridiem":function(e,t,n){var i=100*e+t;return 600>i?"":900>i?"":1130>i?"":1230>i?"":1800>i?"":""},"calendar":{"sameDay":function(){return 0===this.minutes()?"[]Ah[]":"[]LT"},"nextDay":function(){return 0===this.minutes()?"[]Ah[]":"[]LT"},"lastDay":function(){return 0===this.minutes()?"[]Ah[]":"[]LT"},"nextWeek":function(){var t,n;return t=e().startOf("week"),n=this.unix()-t.unix()>=604800?"[]":"[]",0===this.minutes()?n+"dddAh":n+"dddAhmm"},"lastWeek":function(){var t,n;return t=e().startOf("week"),n=this.unix()<t.unix()?"[]":"[]",0===this.minutes()?n+"dddAh":n+"dddAhmm"},"sameElse":"LL"},"ordinal":function(e,t){switch(t){case"d":case"D":case"DDD":return e+"";case"M":return e+"";case"w":case"W":return e+"";default:return e}},"relativeTime":{"future":"%s","past":"%s","s":"","m":"1","mm":"%d","h":"1","hh":"%d","d":"1","dd":"%d","M":"1","MM":"%d","y":"1","yy":"%d"},"week":{"dow":1,"doy":4}})}),function(e){"function"==typeof define&&define.amd?define(["moment"],e):"object"==typeof exports?module.exports=e(require("../moment")):e(window.moment)}(function(e){return e.lang("zh-tw",{"months":"___________".split("_"),"monthsShort":"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),"weekdays":"______".split("_"),"weekdaysShort":"______".split("_"),"weekdaysMin":"______".split("_"),"longDateFormat":{"LT":"Ahmm","L":"YYYYMMMD","LL":"YYYYMMMD","LLL":"YYYYMMMDLT","LLLL":"YYYYMMMDddddLT","l":"YYYYMMMD","ll":"YYYYMMMD","lll":"YYYYMMMDLT","llll":"YYYYMMMDddddLT"},"meridiem":function(e,t,n){var i=100*e+t;return 900>i?"":1130>i?"":1230>i?"":1800>i?"":""},"calendar":{"sameDay":"[]LT","nextDay":"[]LT","nextWeek":"[]ddddLT","lastDay":"[]LT","lastWeek":"[]ddddLT","sameElse":"L"},"ordinal":function(e,t){switch(t){case"d":case"D":case"DDD":return e+"";case"M":return e+"";case"w":case"W":return e+"";default:return e}},"relativeTime":{"future":"%s","past":"%s","s":"","m":"","mm":"%d","h":"","hh":"%d","d":"","dd":"%d","M":"","MM":"%d","y":"","yy":"%d"}})}),function(e,t){"use strict";var n=e.History=e.History||{},i=e.jQuery;if("undefined"!=typeof n.Adapter)throw new Error("History.js Adapter has already been loaded...");n.Adapter={"bind":function(e,t,n){i(e).bind(t,n)},"trigger":function(e,t,n){i(e).trigger(t,n)},"extractEventData":function(e,n,i){var a=n&&n.originalEvent&&n.originalEvent[e]||i&&i[e]||t;return a},"onDomLoad":function(e){i(e)}},"undefined"!=typeof n.init&&n.init()}(window),function(e,t){"use strict";var n=e.console||t,i=e.document,a=e.navigator,s=e.sessionStorage||!1,o=e.setTimeout,r=e.clearTimeout,l=e.setInterval,c=e.clearInterval,u=e.JSON,d=e.alert,h=e.History=e.History||{},p=e.history;try{s.setItem("TEST","1"),s.removeItem("TEST")}catch(f){s=!1}if(u.stringify=u.stringify||u.encode,u.parse=u.parse||u.decode,"undefined"!=typeof h.init)throw new Error("History.js Core has already been loaded...");h.init=function(e){return"undefined"==typeof h.Adapter?!1:("undefined"!=typeof h.initCore&&h.initCore(),"undefined"!=typeof h.initHtml4&&h.initHtml4(),!0)},h.initCore=function(f){if("undefined"!=typeof h.initCore.initialized)return!1;if(h.initCore.initialized=!0,h.options=h.options||{},h.options.hashChangeInterval=h.options.hashChangeInterval||100,h.options.safariPollInterval=h.options.safariPollInterval||500,h.options.doubleCheckInterval=h.options.doubleCheckInterval||500,h.options.disableSuid=h.options.disableSuid||!1,h.options.storeInterval=h.options.storeInterval||1e3,h.options.busyDelay=h.options.busyDelay||250,h.options.debug=h.options.debug||!1,h.options.initialTitle=h.options.initialTitle||i.title,h.options.html4Mode=h.options.html4Mode||!1,h.options.delayInit=h.options.delayInit||!1,h.intervalList=[],h.clearAllIntervals=function(){var e,t=h.intervalList;if("undefined"!=typeof t&&null!==t){for(e=0;e<t.length;e++)c(t[e]);h.intervalList=null}},h.debug=function(){h.options.debug&&h.log.apply(h,arguments)},h.log=function(){var e,t,a,s,o,r=!("undefined"==typeof n||"undefined"==typeof n.log||"undefined"==typeof n.log.apply),l=i.getElementById("log");for(r?(s=Array.prototype.slice.call(arguments),e=s.shift(),"undefined"!=typeof n.debug?n.debug.apply(n,[e,s]):n.log.apply(n,[e,s])):e="\n"+arguments[0]+"\n",t=1,a=arguments.length;a>t;++t){if(o=arguments[t],"object"==typeof o&&"undefined"!=typeof u)try{o=u.stringify(o)}catch(c){}e+="\n"+o+"\n"}return l?(l.value+=e+"\n-----\n",l.scrollTop=l.scrollHeight-l.clientHeight):r||d(e),!0},h.getInternetExplorerMajorVersion=function(){var e=h.getInternetExplorerMajorVersion.cached="undefined"!=typeof h.getInternetExplorerMajorVersion.cached?h.getInternetExplorerMajorVersion.cached:function(){for(var e=3,t=i.createElement("div"),n=t.getElementsByTagName("i");(t.innerHTML="<!--[if gt IE "+ ++e+"]><i></i><![endif]-->")&&n[0];);return e>4?e:!1}();return e},h.isInternetExplorer=function(){var e=h.isInternetExplorer.cached="undefined"!=typeof h.isInternetExplorer.cached?h.isInternetExplorer.cached:Boolean(h.getInternetExplorerMajorVersion());return e},h.emulated=h.options.html4Mode?{"pushState":!0,"hashChange":!0}:{"pushState":!Boolean(e.history&&e.history.pushState&&e.history.replaceState&&!(/ Mobile\/([1-7][a-z]|(8([abcde]|f(1[0-8]))))/i.test(a.userAgent)||/AppleWebKit\/5([0-2]|3[0-2])/i.test(a.userAgent))),"hashChange":Boolean(!("onhashchange"in e||"onhashchange"in i)||h.isInternetExplorer()&&h.getInternetExplorerMajorVersion()<8)},h.enabled=!h.emulated.pushState,h.bugs={"setHash":Boolean(!h.emulated.pushState&&"Apple Computer, Inc."===a.vendor&&/AppleWebKit\/5([0-2]|3[0-3])/.test(a.userAgent)),"safariPoll":Boolean(!h.emulated.pushState&&"Apple Computer, Inc."===a.vendor&&/AppleWebKit\/5([0-2]|3[0-3])/.test(a.userAgent)),"ieDoubleCheck":Boolean(h.isInternetExplorer()&&h.getInternetExplorerMajorVersion()<8),"hashEscape":Boolean(h.isInternetExplorer()&&h.getInternetExplorerMajorVersion()<7)},h.isEmptyObject=function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},h.cloneObject=function(e){var t,n;return e?(t=u.stringify(e),n=u.parse(t)):n={},n},h.getRootUrl=function(){var e=i.location.protocol+"//"+(i.location.hostname||i.location.host);return i.location.port&&(e+=":"+i.location.port),e+="/"},h.getBaseHref=function(){var e=i.getElementsByTagName("base"),t=null,n="";return 1===e.length&&(t=e[0],n=t.href.replace(/[^\/]+$/,"")),n=n.replace(/\/+$/,""),n&&(n+="/"),n},h.getBaseUrl=function(){var e=h.getBaseHref()||h.getBasePageUrl()||h.getRootUrl();return e},h.getPageUrl=function(){var e,t=h.getState(!1,!1),n=(t||{}).url||h.getLocationHref();return e=n.replace(/\/+$/,"").replace(/[^\/]+$/,function(e,t,n){return/\./.test(e)?e:e+"/"})},h.getBasePageUrl=function(){var e=h.getLocationHref().replace(/[#\?].*/,"").replace(/[^\/]+$/,function(e,t,n){return/[^\/]$/.test(e)?"":e}).replace(/\/+$/,"")+"/";return e},h.getFullUrl=function(e,t){var n=e,i=e.substring(0,1);return t="undefined"==typeof t?!0:t,/[a-z]+\:\/\//.test(e)||(n="/"===i?h.getRootUrl()+e.replace(/^\/+/,""):"#"===i?h.getPageUrl().replace(/#.*/,"")+e:"?"===i?h.getPageUrl().replace(/[\?#].*/,"")+e:t?h.getBaseUrl()+e.replace(/^(\.\/)+/,""):h.getBasePageUrl()+e.replace(/^(\.\/)+/,"")),n.replace(/\#$/,"")},h.getShortUrl=function(e){var t=e,n=h.getBaseUrl(),i=h.getRootUrl();return h.emulated.pushState&&(t=t.replace(n,"")),t=t.replace(i,"/"),h.isTraditionalAnchor(t)&&(t="./"+t),t=t.replace(/^(\.\/)+/g,"./").replace(/\#$/,"")},h.getLocationHref=function(e){return e=e||i,e.URL===e.location.href?e.location.href:e.location.href===decodeURIComponent(e.URL)?e.URL:e.location.hash&&decodeURIComponent(e.location.href.replace(/^[^#]+/,""))===e.location.hash?e.location.href:-1==e.URL.indexOf("#")&&-1!=e.location.href.indexOf("#")?e.location.href:e.URL||e.location.href},h.store={},h.idToState=h.idToState||{},h.stateToId=h.stateToId||{},h.urlToId=h.urlToId||{},h.storedStates=h.storedStates||[],h.savedStates=h.savedStates||[],h.normalizeStore=function(){h.store.idToState=h.store.idToState||{},h.store.urlToId=h.store.urlToId||{},h.store.stateToId=h.store.stateToId||{}},h.getState=function(e,t){"undefined"==typeof e&&(e=!0),"undefined"==typeof t&&(t=!0);var n=h.getLastSavedState();return!n&&t&&(n=h.createStateObject()),e&&(n=h.cloneObject(n),n.url=n.cleanUrl||n.url),n},h.getIdByState=function(e){var t,n=h.extractId(e.url);if(!n)if(t=h.getStateString(e),"undefined"!=typeof h.stateToId[t])n=h.stateToId[t];else if("undefined"!=typeof h.store.stateToId[t])n=h.store.stateToId[t];else{for(;;)if(n=(new Date).getTime()+String(Math.random()).replace(/\D/g,""),"undefined"==typeof h.idToState[n]&&"undefined"==typeof h.store.idToState[n])break;h.stateToId[t]=n,h.idToState[n]=e}return n},h.normalizeState=function(e){var t,n;return e&&"object"==typeof e||(e={}),"undefined"!=typeof e.normalized?e:(e.data&&"object"==typeof e.data||(e.data={}),t={},t.normalized=!0,t.title=e.title||"",t.url=h.getFullUrl(e.url?e.url:h.getLocationHref()),t.hash=h.getShortUrl(t.url),t.data=h.cloneObject(e.data),t.id=h.getIdByState(t),t.cleanUrl=t.url.replace(/\??\&_suid.*/,""),t.url=t.cleanUrl,n=!h.isEmptyObject(t.data),(t.title||n)&&h.options.disableSuid!==!0&&(t.hash=h.getShortUrl(t.url).replace(/\??\&_suid.*/,""),/\?/.test(t.hash)||(t.hash+="?"),t.hash+="&_suid="+t.id),t.hashedUrl=h.getFullUrl(t.hash),(h.emulated.pushState||h.bugs.safariPoll)&&h.hasUrlDuplicate(t)&&(t.url=t.hashedUrl),t)},h.createStateObject=function(e,t,n){var i={"data":e,"title":t,"url":n};return i=h.normalizeState(i)},h.getStateById=function(e){e=String(e);var n=h.idToState[e]||h.store.idToState[e]||t;return n},h.getStateString=function(e){var t,n,i;return t=h.normalizeState(e),n={"data":t.data,"title":e.title,"url":e.url},i=u.stringify(n)},h.getStateId=function(e){var t,n;return t=h.normalizeState(e),n=t.id},h.getHashByState=function(e){var t,n;return t=h.normalizeState(e),n=t.hash},h.extractId=function(e){var t,n,i,a;return a=-1!=e.indexOf("#")?e.split("#")[0]:e,n=/(.*)\&_suid=([0-9]+)$/.exec(a),i=n?n[1]||e:e,t=n?String(n[2]||""):"",t||!1},h.isTraditionalAnchor=function(e){var t=!/[\/\?\.]/.test(e);return t},h.extractState=function(e,t){var n,i,a=null;return t=t||!1,n=h.extractId(e),n&&(a=h.getStateById(n)),a||(i=h.getFullUrl(e),n=h.getIdByUrl(i)||!1,n&&(a=h.getStateById(n)),a||!t||h.isTraditionalAnchor(e)||(a=h.createStateObject(null,null,i))),a},h.getIdByUrl=function(e){var n=h.urlToId[e]||h.store.urlToId[e]||t;return n},h.getLastSavedState=function(){return h.savedStates[h.savedStates.length-1]||t},h.getLastStoredState=function(){return h.storedStates[h.storedStates.length-1]||t},h.hasUrlDuplicate=function(e){var t,n=!1;return t=h.extractState(e.url),n=t&&t.id!==e.id},h.storeState=function(e){return h.urlToId[e.url]=e.id,h.storedStates.push(h.cloneObject(e)),e},h.isLastSavedState=function(e){var t,n,i,a=!1;return h.savedStates.length&&(t=e.id,n=h.getLastSavedState(),i=n.id,a=t===i),a},h.saveState=function(e){return h.isLastSavedState(e)?!1:(h.savedStates.push(h.cloneObject(e)),!0)},h.getStateByIndex=function(e){var t=null;return t="undefined"==typeof e?h.savedStates[h.savedStates.length-1]:0>e?h.savedStates[h.savedStates.length+e]:h.savedStates[e]},h.getCurrentIndex=function(){var e=null;return e=h.savedStates.length<1?0:h.savedStates.length-1},h.getHash=function(e){var t,n=h.getLocationHref(e);return t=h.getHashByUrl(n)},h.unescapeHash=function(e){var t=h.normalizeHash(e);return t=decodeURIComponent(t)},h.normalizeHash=function(e){var t=e.replace(/[^#]*#/,"").replace(/#.*/,"");return t},h.setHash=function(e,t){var n,a;return t!==!1&&h.busy()?(h.pushQueue({"scope":h,"callback":h.setHash,"args":arguments,"queue":t}),!1):(h.busy(!0),n=h.extractState(e,!0),n&&!h.emulated.pushState?h.pushState(n.data,n.title,n.url,!1):h.getHash()!==e&&(h.bugs.setHash?(a=h.getPageUrl(),h.pushState(null,null,a+"#"+e,!1)):i.location.hash=e),h)},h.escapeHash=function(t){var n=h.normalizeHash(t);return n=e.encodeURIComponent(n),h.bugs.hashEscape||(n=n.replace(/\%21/g,"!").replace(/\%26/g,"&").replace(/\%3D/g,"=").replace(/\%3F/g,"?")),n},h.getHashByUrl=function(e){var t=String(e).replace(/([^#]*)#?([^#]*)#?(.*)/,"$2");return t=h.unescapeHash(t)},h.setTitle=function(e){var t,n=e.title;n||(t=h.getStateByIndex(0),t&&t.url===e.url&&(n=t.title||h.options.initialTitle));try{i.getElementsByTagName("title")[0].innerHTML=n.replace("<","&lt;").replace(">","&gt;").replace(" & "," &amp; ")}catch(a){}return i.title=n,h},h.queues=[],h.busy=function(e){if("undefined"!=typeof e?h.busy.flag=e:"undefined"==typeof h.busy.flag&&(h.busy.flag=!1),!h.busy.flag){r(h.busy.timeout);var t=function(){var e,n,i;if(!h.busy.flag)for(e=h.queues.length-1;e>=0;--e)n=h.queues[e],0!==n.length&&(i=n.shift(),h.fireQueueItem(i),h.busy.timeout=o(t,h.options.busyDelay))};h.busy.timeout=o(t,h.options.busyDelay)}return h.busy.flag},h.busy.flag=!1,h.fireQueueItem=function(e){return e.callback.apply(e.scope||h,e.args||[])},h.pushQueue=function(e){return h.queues[e.queue||0]=h.queues[e.queue||0]||[],h.queues[e.queue||0].push(e),h},h.queue=function(e,t){return"function"==typeof e&&(e={"callback":e}),"undefined"!=typeof t&&(e.queue=t),h.busy()?h.pushQueue(e):h.fireQueueItem(e),h},h.clearQueue=function(){return h.busy.flag=!1,h.queues=[],h},h.stateChanged=!1,h.doubleChecker=!1,h.doubleCheckComplete=function(){return h.stateChanged=!0,h.doubleCheckClear(),h},h.doubleCheckClear=function(){return h.doubleChecker&&(r(h.doubleChecker),h.doubleChecker=!1),h},h.doubleCheck=function(e){return h.stateChanged=!1,h.doubleCheckClear(),h.bugs.ieDoubleCheck&&(h.doubleChecker=o(function(){return h.doubleCheckClear(),h.stateChanged||e(),!0},h.options.doubleCheckInterval)),h},h.safariStatePoll=function(){var t,n=h.extractState(h.getLocationHref());if(!h.isLastSavedState(n))return t=n,t||(t=h.createStateObject()),h.Adapter.trigger(e,"popstate"),h},h.back=function(e){return e!==!1&&h.busy()?(h.pushQueue({"scope":h,"callback":h.back,"args":arguments,"queue":e}),!1):(h.busy(!0),h.doubleCheck(function(){h.back(!1)}),p.go(-1),!0)},h.forward=function(e){return e!==!1&&h.busy()?(h.pushQueue({"scope":h,"callback":h.forward,"args":arguments,"queue":e}),!1):(h.busy(!0),h.doubleCheck(function(){h.forward(!1)}),p.go(1),!0)},h.go=function(e,t){var n;if(e>0)for(n=1;e>=n;++n)h.forward(t);else{if(!(0>e))throw new Error("History.go: History.go requires a positive or negative integer passed.");for(n=-1;n>=e;--n)h.back(t)}return h},h.emulated.pushState){var m=function(){};h.pushState=h.pushState||m,h.replaceState=h.replaceState||m}else h.onPopState=function(t,n){var i,a,s=!1,o=!1;return h.doubleCheckComplete(),(i=h.getHash())?(a=h.extractState(i||h.getLocationHref(),!0),a?h.replaceState(a.data,a.title,a.url,!1):(h.Adapter.trigger(e,"anchorchange"),h.busy(!1)),h.expectedStateId=!1,!1):(s=h.Adapter.extractEventData("state",t,n)||!1,o=s?h.getStateById(s):h.expectedStateId?h.getStateById(h.expectedStateId):h.extractState(h.getLocationHref()),o||(o=h.createStateObject(null,null,h.getLocationHref())),h.expectedStateId=!1,
h.isLastSavedState(o)?(h.busy(!1),!1):(h.storeState(o),h.saveState(o),h.setTitle(o),h.Adapter.trigger(e,"statechange"),h.busy(!1),!0))},h.Adapter.bind(e,"popstate",h.onPopState),h.pushState=function(t,n,i,a){if(h.getHashByUrl(i)&&h.emulated.pushState)throw new Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if(a!==!1&&h.busy())return h.pushQueue({"scope":h,"callback":h.pushState,"args":arguments,"queue":a}),!1;h.busy(!0);var s=h.createStateObject(t,n,i);return h.isLastSavedState(s)?h.busy(!1):(h.storeState(s),h.expectedStateId=s.id,p.pushState(s.id,s.title,s.url),h.Adapter.trigger(e,"popstate")),!0},h.replaceState=function(t,n,i,a){if(h.getHashByUrl(i)&&h.emulated.pushState)throw new Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if(a!==!1&&h.busy())return h.pushQueue({"scope":h,"callback":h.replaceState,"args":arguments,"queue":a}),!1;h.busy(!0);var s=h.createStateObject(t,n,i);return h.isLastSavedState(s)?h.busy(!1):(h.storeState(s),h.expectedStateId=s.id,p.replaceState(s.id,s.title,s.url),h.Adapter.trigger(e,"popstate")),!0};if(s){try{h.store=u.parse(s.getItem("History.store"))||{}}catch(g){h.store={}}h.normalizeStore()}else h.store={},h.normalizeStore();h.Adapter.bind(e,"unload",h.clearAllIntervals),h.saveState(h.storeState(h.extractState(h.getLocationHref(),!0))),s&&(h.onUnload=function(){var e,t,n;try{e=u.parse(s.getItem("History.store"))||{}}catch(i){e={}}e.idToState=e.idToState||{},e.urlToId=e.urlToId||{},e.stateToId=e.stateToId||{};for(t in h.idToState)h.idToState.hasOwnProperty(t)&&(e.idToState[t]=h.idToState[t]);for(t in h.urlToId)h.urlToId.hasOwnProperty(t)&&(e.urlToId[t]=h.urlToId[t]);for(t in h.stateToId)h.stateToId.hasOwnProperty(t)&&(e.stateToId[t]=h.stateToId[t]);h.store=e,h.normalizeStore(),n=u.stringify(e);try{s.setItem("History.store",n)}catch(a){if(a.code!==DOMException.QUOTA_EXCEEDED_ERR)throw a;s.length&&(s.removeItem("History.store"),s.setItem("History.store",n))}},h.intervalList.push(l(h.onUnload,h.options.storeInterval)),h.Adapter.bind(e,"beforeunload",h.onUnload),h.Adapter.bind(e,"unload",h.onUnload)),h.emulated.pushState||(h.bugs.safariPoll&&h.intervalList.push(l(h.safariStatePoll,h.options.safariPollInterval)),("Apple Computer, Inc."===a.vendor||"Mozilla"===(a.appCodeName||""))&&(h.Adapter.bind(e,"hashchange",function(){h.Adapter.trigger(e,"popstate")}),h.getHash()&&h.Adapter.onDomLoad(function(){h.Adapter.trigger(e,"hashchange")})))},h.options&&h.options.delayInit||h.init()}(window),function(e,t){"use strict";var n=e.document,i=e.setTimeout||i,a=e.clearTimeout||a,s=e.setInterval||s,o=e.History=e.History||{};if("undefined"!=typeof o.initHtml4)throw new Error("History.js HTML4 Support has already been loaded...");o.initHtml4=function(){return"undefined"!=typeof o.initHtml4.initialized?!1:(o.initHtml4.initialized=!0,o.enabled=!0,o.savedHashes=[],o.isLastHash=function(e){var t,n=o.getHashByIndex();return t=e===n},o.isHashEqual=function(e,t){return e=encodeURIComponent(e).replace(/%25/g,"%"),t=encodeURIComponent(t).replace(/%25/g,"%"),e===t},o.saveHash=function(e){return o.isLastHash(e)?!1:(o.savedHashes.push(e),!0)},o.getHashByIndex=function(e){var t=null;return t="undefined"==typeof e?o.savedHashes[o.savedHashes.length-1]:0>e?o.savedHashes[o.savedHashes.length+e]:o.savedHashes[e]},o.discardedHashes={},o.discardedStates={},o.discardState=function(e,t,n){var i,a=o.getHashByState(e);return i={"discardedState":e,"backState":n,"forwardState":t},o.discardedStates[a]=i,!0},o.discardHash=function(e,t,n){var i={"discardedHash":e,"backState":n,"forwardState":t};return o.discardedHashes[e]=i,!0},o.discardedState=function(e){var t,n=o.getHashByState(e);return t=o.discardedStates[n]||!1},o.discardedHash=function(e){var t=o.discardedHashes[e]||!1;return t},o.recycleState=function(e){var t=o.getHashByState(e);return o.discardedState(e)&&delete o.discardedStates[t],!0},o.emulated.hashChange&&(o.hashChangeInit=function(){o.checkerFunction=null;var t,i,a,r,l="",c=Boolean(o.getHash());return o.isInternetExplorer()?(t="historyjs-iframe",i=n.createElement("iframe"),i.setAttribute("id",t),i.setAttribute("src","#"),i.style.display="none",n.body.appendChild(i),i.contentWindow.document.open(),i.contentWindow.document.close(),a="",r=!1,o.checkerFunction=function(){if(r)return!1;r=!0;var t=o.getHash(),n=o.getHash(i.contentWindow.document.location);return t!==l?(l=t,n!==t&&(a=n=t,i.contentWindow.document.open(),i.contentWindow.document.close(),i.contentWindow.document.location.hash=o.escapeHash(t)),o.Adapter.trigger(e,"hashchange")):n!==a&&(a=n,c&&""===n?o.back():o.setHash(n,!1)),r=!1,!0}):o.checkerFunction=function(){var t=o.getHash()||"";return t!==l&&(l=t,o.Adapter.trigger(e,"hashchange")),!0},o.intervalList.push(s(o.checkerFunction,o.options.hashChangeInterval)),!0},o.Adapter.onDomLoad(o.hashChangeInit)),o.emulated.pushState&&(o.onHashChange=function(t){var n,i=t&&t.newURL||o.getLocationHref(),a=o.getHashByUrl(i),s=null,r=null;return o.isLastHash(a)?(o.busy(!1),!1):(o.doubleCheckComplete(),o.saveHash(a),a&&o.isTraditionalAnchor(a)?(o.Adapter.trigger(e,"anchorchange"),o.busy(!1),!1):(s=o.extractState(o.getFullUrl(a||o.getLocationHref()),!0),o.isLastSavedState(s)?(o.busy(!1),!1):(r=o.getHashByState(s),(n=o.discardedState(s))?(o.getHashByIndex(-2)===o.getHashByState(n.forwardState)?o.back(!1):o.forward(!1),!1):(o.pushState(s.data,s.title,encodeURI(s.url),!1),!0))))},o.Adapter.bind(e,"hashchange",o.onHashChange),o.pushState=function(t,n,i,a){if(i=encodeURI(i).replace(/%25/g,"%"),o.getHashByUrl(i))throw new Error("History.js does not support states with fragment-identifiers (hashes/anchors).");if(a!==!1&&o.busy())return o.pushQueue({"scope":o,"callback":o.pushState,"args":arguments,"queue":a}),!1;o.busy(!0);var s=o.createStateObject(t,n,i),r=o.getHashByState(s),l=o.getState(!1),c=o.getHashByState(l),u=o.getHash(),d=o.expectedStateId==s.id;return o.storeState(s),o.expectedStateId=s.id,o.recycleState(s),o.setTitle(s),r===c?(o.busy(!1),!1):(o.saveState(s),d||o.Adapter.trigger(e,"statechange"),o.isHashEqual(r,u)||o.isHashEqual(r,o.getShortUrl(o.getLocationHref()))||o.setHash(r,!1),o.busy(!1),!0)},o.replaceState=function(t,n,i,a){if(i=encodeURI(i).replace(/%25/g,"%"),o.getHashByUrl(i))throw new Error("History.js does not support states with fragment-identifiers (hashes/anchors).");if(a!==!1&&o.busy())return o.pushQueue({"scope":o,"callback":o.replaceState,"args":arguments,"queue":a}),!1;o.busy(!0);var s=o.createStateObject(t,n,i),r=o.getHashByState(s),l=o.getState(!1),c=o.getHashByState(l),u=o.getStateByIndex(-2);return o.discardState(l,s,u),r===c?(o.storeState(s),o.expectedStateId=s.id,o.recycleState(s),o.setTitle(s),o.saveState(s),o.Adapter.trigger(e,"statechange"),o.busy(!1)):o.pushState(s.data,s.title,s.url,!1),!0}),void(o.emulated.pushState&&o.getHash()&&!o.emulated.hashChange&&o.Adapter.onDomLoad(function(){o.Adapter.trigger(e,"hashchange")})))},"undefined"!=typeof o.init&&o.init()}(window),parseUri.options={"strictMode":!1,"key":["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],"q":{"name":"queryKey","parser":/(?:^|&)([^&=]*)=?([^&]*)/g},"parser":{"strict":/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,"loose":/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},function(){var e=[].slice;!function(t,n){var i;return i=function(){function e(e){var i=this;this.$el=t(e),t(n).resize(function(){return i.refresh()})}return e.prototype.start=function(){var e,t,n,i;if(this._overlay_visible())return!1;for(this._add_overlay_layer(),i=this.$el.find("*[data-intro]").filter(":visible"),t=0,n=i.length;n>t;t++)e=i[t],this._show_element(e);return this.$el.trigger("chardinJs:start")},e.prototype.toggle=function(){return this._overlay_visible()?this.stop():this.start()},e.prototype.refresh=function(){var e,t,n,i,a;if(this._overlay_visible()){for(i=this.$el.find("*[data-intro]"),a=[],t=0,n=i.length;n>t;t++)e=i[t],a.push(this._position_helper_layer(e));return a}return this},e.prototype.stop=function(){return this.$el.find(".chardinjs-overlay").fadeOut(function(){return t(this).remove()}),this.$el.find(".chardinjs-helper-layer").remove(),this.$el.find(".chardinjs-show-element").removeClass("chardinjs-show-element"),this.$el.find(".chardinjs-relative-position").removeClass("chardinjs-relative-position"),n.removeEventListener?n.removeEventListener("keydown",this._onKeyDown,!0):document.detachEvent&&document.detachEvent("onkeydown",this._onKeyDown),this.$el.trigger("chardinJs:stop")},e.prototype._overlay_visible=function(){return 0!==this.$el.find(".chardinjs-overlay").length},e.prototype._add_overlay_layer=function(){var e,t,n,i=this;return this._overlay_visible()?!1:(t=document.createElement("div"),n="",t.className="chardinjs-overlay","BODY"===this.$el.prop("tagName")?(n+="top: 0;bottom: 0; left: 0;right: 0;position: fixed;",t.setAttribute("style",n)):(e=this._get_offset(this.$el.get()[0]),e&&(n+="width: "+e.width+"px; height:"+e.height+"px; top:"+e.top+"px;left: "+e.left+"px;",t.setAttribute("style",n))),this.$el.get()[0].appendChild(t),t.onclick=function(){return i.stop()},setTimeout(function(){return n+="opacity: 1;",t.setAttribute("style",n)},10))},e.prototype._get_position=function(e){return e.getAttribute("data-position")||"bottom"},e.prototype._place_tooltip=function(e){var n,i,a,s,o,r,l;switch(r=t(e).data("tooltip_layer"),l=this._get_offset(r),r.style.top=null,r.style.right=null,r.style.bottom=null,r.style.bottomlower=null,r.style.left=null,this._get_position(e)){case"top":case"bottom":case"bottomlower":a=this._get_offset(e),o=a.width,i=t(r).width(),r.style.left=""+(o/2-l.width/2)+"px";break;case"left":case"right":a=this._get_offset(e),s=a.height,n=t(r).height(),r.style.top=""+(s/2-l.height/2)+"px"}switch(this._get_position(e)){case"left":return r.style.left="-"+(l.width-34)+"px";case"right":return r.style.right="-"+(l.width-34)+"px";case"bottom":return r.style.bottom="-"+l.height+"px";case"bottomlower":return r.style.bottom="-"+l.height+"px";case"top":return r.style.top="-"+l.height+"px"}},e.prototype._position_helper_layer=function(e){var n,i;return i=t(e).data("helper_layer"),n=this._get_offset(e),i.setAttribute("style","width: "+n.width+"px; height:"+n.height+"px; top:"+n.top+"px; left: "+n.left+"px;")},e.prototype._show_element=function(e){var n,i,a,s;return i=this._get_offset(e),a=document.createElement("div"),s=document.createElement("div"),t(e).data("helper_layer",a).data("tooltip_layer",s),e.id&&a.setAttribute("data-id",e.id),a.className="chardinjs-helper-layer chardinjs-"+this._get_position(e),this._position_helper_layer(e),this.$el.get()[0].appendChild(a),s.className="chardinjs-tooltip chardinjs-"+this._get_position(e),s.innerHTML="<div class='chardinjs-tooltiptext'>"+e.getAttribute("data-intro")+"</div>",a.appendChild(s),this._place_tooltip(e),e.className+=" chardinjs-show-element",n="",e.currentStyle?n=e.currentStyle.position:document.defaultView&&document.defaultView.getComputedStyle&&(n=document.defaultView.getComputedStyle(e,null).getPropertyValue("position")),n=n.toLowerCase(),"absolute"!==n&&"relative"!==n?e.className+=" chardinjs-relative-position":void 0},e.prototype._get_offset=function(e){var t,n,i;for(t={"width":e.offsetWidth,"height":e.offsetHeight},n=0,i=0;e&&!isNaN(e.offsetLeft)&&!isNaN(e.offsetTop);)n+=e.offsetLeft,i+=e.offsetTop,e=e.offsetParent;return t.top=i,t.left=n,t},e}(),t.fn.extend({"chardinJs":function(){var n,a,s,o;return o=arguments[0],a=2<=arguments.length?e.call(arguments,1):[],n=t(this[0]),s=n.data("chardinJs"),s||n.data("chardinJs",s=new i(this,o)),"string"==typeof o&&s[o].apply(s,a),s}})}(window.jQuery,window)}.call(this),function(e,t){"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?module.exports=t():e.Handlebars=e.Handlebars||t()}(this,function(){var e=function(){"use strict";function e(e){this.string=e}var t;return e.prototype.toString=function(){return""+this.string},t=e}(),t=function(e){"use strict";function t(e){return l[e]}function n(e){for(var t=1;t<arguments.length;t++)for(var n in arguments[t])Object.prototype.hasOwnProperty.call(arguments[t],n)&&(e[n]=arguments[t][n]);return e}function i(e){return e instanceof r?e.toString():null==e?"":e?(e=""+e,u.test(e)?e.replace(c,t):e):e+""}function a(e){return e||0===e?p(e)&&0===e.length?!0:!1:!0}function s(e,t){return(e?e+".":"")+t}var o={},r=e,l={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},c=/[&<>"'`]/g,u=/[&<>"'`]/;o.extend=n;var d=Object.prototype.toString;o.toString=d;var h=function(e){return"function"==typeof e};h(/x/)&&(h=function(e){return"function"==typeof e&&"[object Function]"===d.call(e)});var h;o.isFunction=h;var p=Array.isArray||function(e){return e&&"object"==typeof e?"[object Array]"===d.call(e):!1};return o.isArray=p,o.escapeExpression=i,o.isEmpty=a,o.appendContextPath=s,o}(e),n=function(){"use strict";function e(e,t){var i;t&&t.firstLine&&(i=t.firstLine,e+=" - "+i+":"+t.firstColumn);for(var a=Error.prototype.constructor.call(this,e),s=0;s<n.length;s++)this[n[s]]=a[n[s]];i&&(this.lineNumber=i,this.column=t.firstColumn)}var t,n=["description","fileName","lineNumber","message","name","number","stack"];return e.prototype=new Error,t=e}(),i=function(e,t){"use strict";function n(e,t){this.helpers=e||{},this.partials=t||{},i(this)}function i(e){e.registerHelper("helperMissing",function(){if(1===arguments.length)return void 0;throw new o("Missing helper: '"+arguments[arguments.length-1].name+"'")}),e.registerHelper("blockHelperMissing",function(t,n){var i=n.inverse,a=n.fn;if(t===!0)return a(this);if(t===!1||null==t)return i(this);if(u(t))return t.length>0?(n.ids&&(n.ids=[n.name]),e.helpers.each(t,n)):i(this);if(n.data&&n.ids){var o=g(n.data);o.contextPath=s.appendContextPath(n.data.contextPath,n.name),n={"data":o}}return a(t,n)}),e.registerHelper("each",function(e,t){if(!t)throw new o("Must pass iterator to #each");var n,i,a=t.fn,r=t.inverse,l=0,c="";if(t.data&&t.ids&&(i=s.appendContextPath(t.data.contextPath,t.ids[0])+"."),d(e)&&(e=e.call(this)),t.data&&(n=g(t.data)),e&&"object"==typeof e)if(u(e))for(var h=e.length;h>l;l++)n&&(n.index=l,n.first=0===l,n.last=l===e.length-1,i&&(n.contextPath=i+l)),c+=a(e[l],{"data":n});else for(var p in e)e.hasOwnProperty(p)&&(n&&(n.key=p,n.index=l,n.first=0===l,i&&(n.contextPath=i+p)),c+=a(e[p],{"data":n}),l++);return 0===l&&(c=r(this)),c}),e.registerHelper("if",function(e,t){return d(e)&&(e=e.call(this)),!t.hash.includeZero&&!e||s.isEmpty(e)?t.inverse(this):t.fn(this)}),e.registerHelper("unless",function(t,n){return e.helpers["if"].call(this,t,{"fn":n.inverse,"inverse":n.fn,"hash":n.hash})}),e.registerHelper("with",function(e,t){d(e)&&(e=e.call(this));var n=t.fn;if(s.isEmpty(e))return t.inverse(this);if(t.data&&t.ids){var i=g(t.data);i.contextPath=s.appendContextPath(t.data.contextPath,t.ids[0]),t={"data":i}}return n(e,t)}),e.registerHelper("log",function(t,n){var i=n.data&&null!=n.data.level?parseInt(n.data.level,10):1;e.log(i,t)}),e.registerHelper("lookup",function(e,t){return e&&e[t]})}var a={},s=e,o=t,r="2.0.0";a.VERSION=r;var l=6;a.COMPILER_REVISION=l;var c={"1":"<= 1.0.rc.2","2":"== 1.0.0-rc.3","3":"== 1.0.0-rc.4","4":"== 1.x.x","5":"== 2.0.0-alpha.x","6":">= 2.0.0-beta.1"};a.REVISION_CHANGES=c;var u=s.isArray,d=s.isFunction,h=s.toString,p="[object Object]";a.HandlebarsEnvironment=n,n.prototype={"constructor":n,"logger":f,"log":m,"registerHelper":function(e,t){if(h.call(e)===p){if(t)throw new o("Arg not supported with multiple helpers");s.extend(this.helpers,e)}else this.helpers[e]=t},"unregisterHelper":function(e){delete this.helpers[e]},"registerPartial":function(e,t){h.call(e)===p?s.extend(this.partials,e):this.partials[e]=t},"unregisterPartial":function(e){delete this.partials[e]}};var f={"methodMap":{"0":"debug","1":"info","2":"warn","3":"error"},"DEBUG":0,"INFO":1,"WARN":2,"ERROR":3,"level":3,"log":function(e,t){if(f.level<=e){var n=f.methodMap[e];"undefined"!=typeof console&&console[n]&&console[n].call(console,t)}}};a.logger=f;var m=f.log;a.log=m;var g=function(e){var t=s.extend({},e);return t._parent=e,t};return a.createFrame=g,a}(t,n),a=function(e,t,n){"use strict";function i(e){var t=e&&e[0]||1,n=h;if(t!==n){if(n>t){var i=p[n],a=p[t];throw new d("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+i+") or downgrade your runtime to an older version ("+a+").")}throw new d("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+e[1]+").")}}function a(e,t){if(!t)throw new d("No environment passed to template");if(!e||!e.main)throw new d("Unknown template object: "+typeof e);t.VM.checkRevision(e.compiler);var n=function(n,i,a,s,o,r,l,c,h){o&&(s=u.extend({},s,o));var p=t.VM.invokePartial.call(this,n,a,s,r,l,c,h);if(null==p&&t.compile){var f={"helpers":r,"partials":l,"data":c,"depths":h};l[a]=t.compile(n,{"data":void 0!==c,"compat":e.compat},t),p=l[a](s,f)}if(null!=p){if(i){for(var m=p.split("\n"),g=0,v=m.length;v>g&&(m[g]||g+1!==v);g++)m[g]=i+m[g];p=m.join("\n")}return p}throw new d("The partial "+a+" could not be compiled when running in runtime-only mode")},i={"lookup":function(e,t){for(var n=e.length,i=0;n>i;i++)if(e[i]&&null!=e[i][t])return e[i][t]},"lambda":function(e,t){return"function"==typeof e?e.call(t):e},"escapeExpression":u.escapeExpression,"invokePartial":n,"fn":function(t){return e[t]},"programs":[],"program":function(e,t,n){var i=this.programs[e],a=this.fn(e);return t||n?i=s(this,e,a,t,n):i||(i=this.programs[e]=s(this,e,a)),i},"data":function(e,t){for(;e&&t--;)e=e._parent;return e},"merge":function(e,t){var n=e||t;return e&&t&&e!==t&&(n=u.extend({},t,e)),n},"noop":t.VM.noop,"compilerInfo":e.compiler},a=function(t,n){n=n||{};var s=n.data;a._setup(n),!n.partial&&e.useData&&(s=l(t,s));var o;return e.useDepths&&(o=n.depths?[t].concat(n.depths):[t]),e.main.call(i,t,i.helpers,i.partials,s,o)};return a.isTop=!0,a._setup=function(n){n.partial?(i.helpers=n.helpers,i.partials=n.partials):(i.helpers=i.merge(n.helpers,t.helpers),e.usePartial&&(i.partials=i.merge(n.partials,t.partials)))},a._child=function(t,n,a){if(e.useDepths&&!a)throw new d("must pass parent depths");return s(i,t,e[t],n,a)},a}function s(e,t,n,i,a){var s=function(t,s){return s=s||{},n.call(e,t,e.helpers,e.partials,s.data||i,a&&[t].concat(a))};return s.program=t,s.depth=a?a.length:0,s}function o(e,t,n,i,a,s,o){var r={"partial":!0,"helpers":i,"partials":a,"data":s,"depths":o};if(void 0===e)throw new d("The partial "+t+" could not be found");return e instanceof Function?e(n,r):void 0}function r(){return""}function l(e,t){return t&&"root"in t||(t=t?f(t):{},t.root=e),t}var c={},u=e,d=t,h=n.COMPILER_REVISION,p=n.REVISION_CHANGES,f=n.createFrame;return c.checkRevision=i,c.template=a,c.program=s,c.invokePartial=o,c.noop=r,c}(t,n,i),s=function(e,t,n,i,a){"use strict";var s,o=e,r=t,l=n,c=i,u=a,d=function(){var e=new o.HandlebarsEnvironment;return c.extend(e,o),e.SafeString=r,e.Exception=l,e.Utils=c,e.escapeExpression=c.escapeExpression,e.VM=u,e.template=function(t){return u.template(t,e)},e},h=d();return h.create=d,h["default"]=h,s=h}(i,e,n,t,a);return s}),!function(e,t,n,i){"use strict";function a(e,t,n){return setTimeout(u(e,n),t)}function s(e,t,n){return Array.isArray(e)?(o(e,n[t],n),!0):!1}function o(e,t,n){var a;if(e)if(e.forEach)e.forEach(t,n);else if(e.length!==i)for(a=0;a<e.length;)t.call(n,e[a],a,e),a++;else for(a in e)e.hasOwnProperty(a)&&t.call(n,e[a],a,e)}function r(e,t,n){for(var a=Object.keys(t),s=0;s<a.length;)(!n||n&&e[a[s]]===i)&&(e[a[s]]=t[a[s]]),s++;return e}function l(e,t){return r(e,t,!0)}function c(e,t,n){var i,a=t.prototype;i=e.prototype=Object.create(a),i.constructor=e,i._super=a,n&&r(i,n)}function u(e,t){return function(){return e.apply(t,arguments)}}function d(e,t){return typeof e==ue?e.apply(t?t[0]||i:i,t):e}function h(e,t){return e===i?t:e}function p(e,t,n){o(v(t),function(t){e.addEventListener(t,n,!1)})}function f(e,t,n){o(v(t),function(t){e.removeEventListener(t,n,!1)})}function m(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1}function g(e,t){return e.indexOf(t)>-1}function v(e){return e.trim().split(/\s+/g)}function _(e,t,n){if(e.indexOf&&!n)return e.indexOf(t);for(var i=0;i<e.length;){if(n&&e[i][n]==t||!n&&e[i]===t)return i;i++}return-1}function b(e){return Array.prototype.slice.call(e,0)}function y(e,t,n){for(var i=[],a=[],s=0;s<e.length;){var o=t?e[s][t]:e[s];_(a,o)<0&&i.push(e[s]),a[s]=o,s++}return n&&(i=t?i.sort(function(e,n){return e[t]>n[t]}):i.sort()),i}function S(e,t){for(var n,a,s=t[0].toUpperCase()+t.slice(1),o=0;o<le.length;){if(n=le[o],a=n?n+s:t,a in e)return a;o++}return i}function w(){return fe++}function T(e){var t=e.ownerDocument;return t.defaultView||t.parentWindow}function k(e,t){var n=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){d(e.options.enable,[e])&&n.handler(t)},this.init()}function x(e){var t,n=e.options.inputClass;return new(t=n?n:ve?U:_e?G:ge?z:F)(e,C)}function C(e,t,n){var i=n.pointers.length,a=n.changedPointers.length,s=t&ke&&i-a===0,o=t&(Ce|$e)&&i-a===0;n.isFirst=!!s,n.isFinal=!!o,s&&(e.session={}),n.eventType=t,$(e,n),e.emit("hammer.input",n),e.recognize(n),e.session.prevInput=n}function $(e,t){var n=e.session,i=t.pointers,a=i.length;n.firstInput||(n.firstInput=I(t)),a>1&&!n.firstMultiple?n.firstMultiple=I(t):1===a&&(n.firstMultiple=!1);var s=n.firstInput,o=n.firstMultiple,r=o?o.center:s.center,l=t.center=A(i);t.timeStamp=pe(),t.deltaTime=t.timeStamp-s.timeStamp,t.angle=O(r,l),t.distance=q(r,l),E(n,t),t.offsetDirection=L(t.deltaX,t.deltaY),t.scale=o?N(o.pointers,i):1,t.rotation=o?P(o.pointers,i):0,M(n,t);var c=e.element;m(t.srcEvent.target,c)&&(c=t.srcEvent.target),t.target=c}function E(e,t){var n=t.center,i=e.offsetDelta||{},a=e.prevDelta||{},s=e.prevInput||{};(t.eventType===ke||s.eventType===Ce)&&(a=e.prevDelta={"x":s.deltaX||0,"y":s.deltaY||0},i=e.offsetDelta={"x":n.x,"y":n.y}),t.deltaX=a.x+(n.x-i.x),t.deltaY=a.y+(n.y-i.y)}function M(e,t){var n,a,s,o,r=e.lastInterval||t,l=t.timeStamp-r.timeStamp;if(t.eventType!=$e&&(l>Te||r.velocity===i)){var c=r.deltaX-t.deltaX,u=r.deltaY-t.deltaY,d=D(l,c,u);a=d.x,s=d.y,n=he(d.x)>he(d.y)?d.x:d.y,o=L(c,u),e.lastInterval=t}else n=r.velocity,a=r.velocityX,s=r.velocityY,o=r.direction;t.velocity=n,t.velocityX=a,t.velocityY=s,t.direction=o}function I(e){for(var t=[],n=0;n<e.pointers.length;)t[n]={"clientX":de(e.pointers[n].clientX),"clientY":de(e.pointers[n].clientY)},n++;return{"timeStamp":pe(),"pointers":t,"center":A(t),"deltaX":e.deltaX,"deltaY":e.deltaY}}function A(e){var t=e.length;if(1===t)return{"x":de(e[0].clientX),"y":de(e[0].clientY)};for(var n=0,i=0,a=0;t>a;)n+=e[a].clientX,i+=e[a].clientY,a++;return{"x":de(n/t),"y":de(i/t)}}function D(e,t,n){return{"x":t/e||0,"y":n/e||0}}function L(e,t){return e===t?Ee:he(e)>=he(t)?e>0?Me:Ie:t>0?Ae:De}function q(e,t,n){n||(n=Pe);var i=t[n[0]]-e[n[0]],a=t[n[1]]-e[n[1]];return Math.sqrt(i*i+a*a)}function O(e,t,n){n||(n=Pe);var i=t[n[0]]-e[n[0]],a=t[n[1]]-e[n[1]];return 180*Math.atan2(a,i)/Math.PI}function P(e,t){return O(t[1],t[0],Ne)-O(e[1],e[0],Ne)}function N(e,t){return q(t[0],t[1],Ne)/q(e[0],e[1],Ne)}function F(){this.evEl=Ue,this.evWin=He,this.allow=!0,this.pressed=!1,k.apply(this,arguments)}function U(){this.evEl=Re,this.evWin=ze,k.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function H(){this.evTarget=Be,this.evWin=We,this.started=!1,k.apply(this,arguments)}function j(e,t){var n=b(e.touches),i=b(e.changedTouches);return t&(Ce|$e)&&(n=y(n.concat(i),"identifier",!0)),[n,i]}function G(){this.evTarget=Ve,this.targetIds={},k.apply(this,arguments)}function R(e,t){var n=b(e.touches),i=this.targetIds;if(t&(ke|xe)&&1===n.length)return i[n[0].identifier]=!0,[n,n];var a,s,o=b(e.changedTouches),r=[],l=this.target;if(s=n.filter(function(e){return m(e.target,l)}),t===ke)for(a=0;a<s.length;)i[s[a].identifier]=!0,a++;for(a=0;a<o.length;)i[o[a].identifier]&&r.push(o[a]),t&(Ce|$e)&&delete i[o[a].identifier],a++;return r.length?[y(s.concat(r),"identifier",!0),r]:void 0}function z(){k.apply(this,arguments);var e=u(this.handler,this);this.touch=new G(this.manager,e),this.mouse=new F(this.manager,e)}function Y(e,t){this.manager=e,this.set(t)}function B(e){if(g(e,tt))return tt;var t=g(e,nt),n=g(e,it);return t&&n?nt+" "+it:t||n?t?nt:it:g(e,et)?et:Ze}function W(e){this.id=w(),this.manager=null,this.options=l(e||{},this.defaults),this.options.enable=h(this.options.enable,!0),this.state=at,this.simultaneous={},this.requireFail=[]}function J(e){return e&ct?"cancel":e&rt?"end":e&ot?"move":e&st?"start":""}function V(e){return e==De?"down":e==Ae?"up":e==Me?"left":e==Ie?"right":""}function K(e,t){var n=t.manager;return n?n.get(e):e}function X(){W.apply(this,arguments)}function Q(){X.apply(this,arguments),this.pX=null,this.pY=null}function Z(){X.apply(this,arguments)}function ee(){W.apply(this,arguments),this._timer=null,this._input=null}function te(){X.apply(this,arguments)}function ne(){X.apply(this,arguments)}function ie(){W.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function ae(e,t){return t=t||{},t.recognizers=h(t.recognizers,ae.defaults.preset),new se(e,t)}function se(e,t){t=t||{},this.options=l(t,ae.defaults),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.element=e,this.input=x(this),this.touchAction=new Y(this,this.options.touchAction),oe(this,!0),o(t.recognizers,function(e){var t=this.add(new e[0](e[1]));e[2]&&t.recognizeWith(e[2]),e[3]&&t.requireFailure(e[3])},this)}function oe(e,t){var n=e.element;o(e.options.cssProps,function(e,i){n.style[S(n.style,i)]=t?e:""})}function re(e,n){var i=t.createEvent("Event");i.initEvent(e,!0,!0),i.gesture=n,n.target.dispatchEvent(i)}var le=["","webkit","moz","MS","ms","o"],ce=t.createElement("div"),ue="function",de=Math.round,he=Math.abs,pe=Date.now,fe=1,me=/mobile|tablet|ip(ad|hone|od)|android/i,ge="ontouchstart"in e,ve=S(e,"PointerEvent")!==i,_e=ge&&me.test(navigator.userAgent),be="touch",ye="pen",Se="mouse",we="kinect",Te=25,ke=1,xe=2,Ce=4,$e=8,Ee=1,Me=2,Ie=4,Ae=8,De=16,Le=Me|Ie,qe=Ae|De,Oe=Le|qe,Pe=["x","y"],Ne=["clientX","clientY"];k.prototype={"handler":function(){},"init":function(){this.evEl&&p(this.element,this.evEl,this.domHandler),this.evTarget&&p(this.target,this.evTarget,this.domHandler),this.evWin&&p(T(this.element),this.evWin,this.domHandler)},"destroy":function(){this.evEl&&f(this.element,this.evEl,this.domHandler),this.evTarget&&f(this.target,this.evTarget,this.domHandler),this.evWin&&f(T(this.element),this.evWin,this.domHandler)}};var Fe={"mousedown":ke,"mousemove":xe,"mouseup":Ce},Ue="mousedown",He="mousemove mouseup";c(F,k,{"handler":function(e){var t=Fe[e.type];t&ke&&0===e.button&&(this.pressed=!0),t&xe&&1!==e.which&&(t=Ce),this.pressed&&this.allow&&(t&Ce&&(this.pressed=!1),this.callback(this.manager,t,{"pointers":[e],"changedPointers":[e],"pointerType":Se,"srcEvent":e}))}});var je={"pointerdown":ke,"pointermove":xe,"pointerup":Ce,"pointercancel":$e,"pointerout":$e},Ge={"2":be,"3":ye,"4":Se,"5":we},Re="pointerdown",ze="pointermove pointerup pointercancel";e.MSPointerEvent&&(Re="MSPointerDown",ze="MSPointerMove MSPointerUp MSPointerCancel"),c(U,k,{"handler":function(e){var t=this.store,n=!1,i=e.type.toLowerCase().replace("ms",""),a=je[i],s=Ge[e.pointerType]||e.pointerType,o=s==be,r=_(t,e.pointerId,"pointerId");a&ke&&(0===e.button||o)?0>r&&(t.push(e),r=t.length-1):a&(Ce|$e)&&(n=!0),0>r||(t[r]=e,this.callback(this.manager,a,{"pointers":t,"changedPointers":[e],"pointerType":s,"srcEvent":e}),n&&t.splice(r,1))}});var Ye={"touchstart":ke,"touchmove":xe,"touchend":Ce,"touchcancel":$e},Be="touchstart",We="touchstart touchmove touchend touchcancel";c(H,k,{"handler":function(e){var t=Ye[e.type];if(t===ke&&(this.started=!0),this.started){var n=j.call(this,e,t);t&(Ce|$e)&&n[0].length-n[1].length===0&&(this.started=!1),this.callback(this.manager,t,{"pointers":n[0],"changedPointers":n[1],"pointerType":be,"srcEvent":e})}}});var Je={"touchstart":ke,"touchmove":xe,"touchend":Ce,"touchcancel":$e},Ve="touchstart touchmove touchend touchcancel";c(G,k,{"handler":function(e){var t=Je[e.type],n=R.call(this,e,t);n&&this.callback(this.manager,t,{"pointers":n[0],"changedPointers":n[1],"pointerType":be,"srcEvent":e})}}),c(z,k,{"handler":function(e,t,n){var i=n.pointerType==be,a=n.pointerType==Se;if(i)this.mouse.allow=!1;else if(a&&!this.mouse.allow)return;t&(Ce|$e)&&(this.mouse.allow=!0),this.callback(e,t,n)},"destroy":function(){this.touch.destroy(),this.mouse.destroy()}});var Ke=S(ce.style,"touchAction"),Xe=Ke!==i,Qe="compute",Ze="auto",et="manipulation",tt="none",nt="pan-x",it="pan-y";Y.prototype={"set":function(e){e==Qe&&(e=this.compute()),Xe&&(this.manager.element.style[Ke]=e),this.actions=e.toLowerCase().trim()},"update":function(){this.set(this.manager.options.touchAction)},"compute":function(){var e=[];return o(this.manager.recognizers,function(t){d(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))}),B(e.join(" "))},"preventDefaults":function(e){if(!Xe){var t=e.srcEvent,n=e.offsetDirection;if(this.manager.session.prevented)return void t.preventDefault();var i=this.actions,a=g(i,tt),s=g(i,it),o=g(i,nt);return a||s&&n&Le||o&&n&qe?this.preventSrc(t):void 0}},"preventSrc":function(e){this.manager.session.prevented=!0,e.preventDefault()}};var at=1,st=2,ot=4,rt=8,lt=rt,ct=16,ut=32;W.prototype={"defaults":{},"set":function(e){return r(this.options,e),this.manager&&this.manager.touchAction.update(),this},"recognizeWith":function(e){if(s(e,"recognizeWith",this))return this;var t=this.simultaneous;return e=K(e,this),t[e.id]||(t[e.id]=e,e.recognizeWith(this)),this},"dropRecognizeWith":function(e){return s(e,"dropRecognizeWith",this)?this:(e=K(e,this),delete this.simultaneous[e.id],this)},"requireFailure":function(e){if(s(e,"requireFailure",this))return this;var t=this.requireFail;return e=K(e,this),-1===_(t,e)&&(t.push(e),e.requireFailure(this)),this},"dropRequireFailure":function(e){if(s(e,"dropRequireFailure",this))return this;e=K(e,this);var t=_(this.requireFail,e);return t>-1&&this.requireFail.splice(t,1),this},"hasRequireFailures":function(){return this.requireFail.length>0},"canRecognizeWith":function(e){return!!this.simultaneous[e.id]},"emit":function(e){function t(t){n.manager.emit(n.options.event+(t?J(i):""),e)}var n=this,i=this.state;rt>i&&t(!0),t(),i>=rt&&t(!0)},"tryEmit":function(e){return this.canEmit()?this.emit(e):void(this.state=ut)},"canEmit":function(){for(var e=0;e<this.requireFail.length;){if(!(this.requireFail[e].state&(ut|at)))return!1;e++}return!0},"recognize":function(e){var t=r({},e);return d(this.options.enable,[this,t])?(this.state&(lt|ct|ut)&&(this.state=at),this.state=this.process(t),void(this.state&(st|ot|rt|ct)&&this.tryEmit(t))):(this.reset(),void(this.state=ut))},"process":function(){},"getTouchAction":function(){},"reset":function(){}},c(X,W,{"defaults":{"pointers":1},"attrTest":function(e){var t=this.options.pointers;return 0===t||e.pointers.length===t},"process":function(e){var t=this.state,n=e.eventType,i=t&(st|ot),a=this.attrTest(e);return i&&(n&$e||!a)?t|ct:i||a?n&Ce?t|rt:t&st?t|ot:st:ut}}),c(Q,X,{"defaults":{"event":"pan","threshold":10,"pointers":1,"direction":Oe},"getTouchAction":function(){var e=this.options.direction,t=[];return e&Le&&t.push(it),e&qe&&t.push(nt),t},"directionTest":function(e){var t=this.options,n=!0,i=e.distance,a=e.direction,s=e.deltaX,o=e.deltaY;return a&t.direction||(t.direction&Le?(a=0===s?Ee:0>s?Me:Ie,n=s!=this.pX,i=Math.abs(e.deltaX)):(a=0===o?Ee:0>o?Ae:De,
n=o!=this.pY,i=Math.abs(e.deltaY))),e.direction=a,n&&i>t.threshold&&a&t.direction},"attrTest":function(e){return X.prototype.attrTest.call(this,e)&&(this.state&st||!(this.state&st)&&this.directionTest(e))},"emit":function(e){this.pX=e.deltaX,this.pY=e.deltaY;var t=V(e.direction);t&&this.manager.emit(this.options.event+t,e),this._super.emit.call(this,e)}}),c(Z,X,{"defaults":{"event":"pinch","threshold":0,"pointers":2},"getTouchAction":function(){return[tt]},"attrTest":function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||this.state&st)},"emit":function(e){if(this._super.emit.call(this,e),1!==e.scale){var t=e.scale<1?"in":"out";this.manager.emit(this.options.event+t,e)}}}),c(ee,W,{"defaults":{"event":"press","pointers":1,"time":500,"threshold":5},"getTouchAction":function(){return[Ze]},"process":function(e){var t=this.options,n=e.pointers.length===t.pointers,i=e.distance<t.threshold,s=e.deltaTime>t.time;if(this._input=e,!i||!n||e.eventType&(Ce|$e)&&!s)this.reset();else if(e.eventType&ke)this.reset(),this._timer=a(function(){this.state=lt,this.tryEmit()},t.time,this);else if(e.eventType&Ce)return lt;return ut},"reset":function(){clearTimeout(this._timer)},"emit":function(e){this.state===lt&&(e&&e.eventType&Ce?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=pe(),this.manager.emit(this.options.event,this._input)))}}),c(te,X,{"defaults":{"event":"rotate","threshold":0,"pointers":2},"getTouchAction":function(){return[tt]},"attrTest":function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||this.state&st)}}),c(ne,X,{"defaults":{"event":"swipe","threshold":10,"velocity":.65,"direction":Le|qe,"pointers":1},"getTouchAction":function(){return Q.prototype.getTouchAction.call(this)},"attrTest":function(e){var t,n=this.options.direction;return n&(Le|qe)?t=e.velocity:n&Le?t=e.velocityX:n&qe&&(t=e.velocityY),this._super.attrTest.call(this,e)&&n&e.direction&&e.distance>this.options.threshold&&he(t)>this.options.velocity&&e.eventType&Ce},"emit":function(e){var t=V(e.direction);t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)}}),c(ie,W,{"defaults":{"event":"tap","pointers":1,"taps":1,"interval":300,"time":250,"threshold":2,"posThreshold":10},"getTouchAction":function(){return[et]},"process":function(e){var t=this.options,n=e.pointers.length===t.pointers,i=e.distance<t.threshold,s=e.deltaTime<t.time;if(this.reset(),e.eventType&ke&&0===this.count)return this.failTimeout();if(i&&s&&n){if(e.eventType!=Ce)return this.failTimeout();var o=this.pTime?e.timeStamp-this.pTime<t.interval:!0,r=!this.pCenter||q(this.pCenter,e.center)<t.posThreshold;this.pTime=e.timeStamp,this.pCenter=e.center,r&&o?this.count+=1:this.count=1,this._input=e;var l=this.count%t.taps;if(0===l)return this.hasRequireFailures()?(this._timer=a(function(){this.state=lt,this.tryEmit()},t.interval,this),st):lt}return ut},"failTimeout":function(){return this._timer=a(function(){this.state=ut},this.options.interval,this),ut},"reset":function(){clearTimeout(this._timer)},"emit":function(){this.state==lt&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),ae.VERSION="2.0.4",ae.defaults={"domEvents":!1,"touchAction":Qe,"enable":!0,"inputTarget":null,"inputClass":null,"preset":[[te,{"enable":!1}],[Z,{"enable":!1},["rotate"]],[ne,{"direction":Le}],[Q,{"direction":Le},["swipe"]],[ie],[ie,{"event":"doubletap","taps":2},["tap"]],[ee]],"cssProps":{"userSelect":"none","touchSelect":"none","touchCallout":"none","contentZooming":"none","userDrag":"none","tapHighlightColor":"rgba(0,0,0,0)"}};var dt=1,ht=2;se.prototype={"set":function(e){return r(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},"stop":function(e){this.session.stopped=e?ht:dt},"recognize":function(e){var t=this.session;if(!t.stopped){this.touchAction.preventDefaults(e);var n,i=this.recognizers,a=t.curRecognizer;(!a||a&&a.state&lt)&&(a=t.curRecognizer=null);for(var s=0;s<i.length;)n=i[s],t.stopped===ht||a&&n!=a&&!n.canRecognizeWith(a)?n.reset():n.recognize(e),!a&&n.state&(st|ot|rt)&&(a=t.curRecognizer=n),s++}},"get":function(e){if(e instanceof W)return e;for(var t=this.recognizers,n=0;n<t.length;n++)if(t[n].options.event==e)return t[n];return null},"add":function(e){if(s(e,"add",this))return this;var t=this.get(e.options.event);return t&&this.remove(t),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e},"remove":function(e){if(s(e,"remove",this))return this;var t=this.recognizers;return e=this.get(e),t.splice(_(t,e),1),this.touchAction.update(),this},"on":function(e,t){var n=this.handlers;return o(v(e),function(e){n[e]=n[e]||[],n[e].push(t)}),this},"off":function(e,t){var n=this.handlers;return o(v(e),function(e){t?n[e].splice(_(n[e],t),1):delete n[e]}),this},"emit":function(e,t){this.options.domEvents&&re(e,t);var n=this.handlers[e]&&this.handlers[e].slice();if(n&&n.length){t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()};for(var i=0;i<n.length;)n[i](t),i++}},"destroy":function(){this.element&&oe(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},r(ae,{"INPUT_START":ke,"INPUT_MOVE":xe,"INPUT_END":Ce,"INPUT_CANCEL":$e,"STATE_POSSIBLE":at,"STATE_BEGAN":st,"STATE_CHANGED":ot,"STATE_ENDED":rt,"STATE_RECOGNIZED":lt,"STATE_CANCELLED":ct,"STATE_FAILED":ut,"DIRECTION_NONE":Ee,"DIRECTION_LEFT":Me,"DIRECTION_RIGHT":Ie,"DIRECTION_UP":Ae,"DIRECTION_DOWN":De,"DIRECTION_HORIZONTAL":Le,"DIRECTION_VERTICAL":qe,"DIRECTION_ALL":Oe,"Manager":se,"Input":k,"TouchAction":Y,"TouchInput":G,"MouseInput":F,"PointerEventInput":U,"TouchMouseInput":z,"SingleTouchInput":H,"Recognizer":W,"AttrRecognizer":X,"Tap":ie,"Pan":Q,"Swipe":ne,"Pinch":Z,"Rotate":te,"Press":ee,"on":p,"off":f,"each":o,"merge":l,"extend":r,"inherit":c,"bindFn":u,"prefixed":S}),typeof define==ue&&define.amd?define(function(){return ae}):"undefined"!=typeof module&&module.exports?module.exports=ae:e[n]=ae}(window,document,"Hammer"),function(){function e(e){var n=!1;return function(){if(n)throw new Error("Callback was already called.");n=!0,e.apply(t,arguments)}}var t,n,i={};t=this,null!=t&&(n=t.async),i.noConflict=function(){return t.async=n,i};var a=function(e,t){if(e.forEach)return e.forEach(t);for(var n=0;n<e.length;n+=1)t(e[n],n,e)},s=function(e,t){if(e.map)return e.map(t);var n=[];return a(e,function(e,i,a){n.push(t(e,i,a))}),n},o=function(e,t,n){return e.reduce?e.reduce(t,n):(a(e,function(e,i,a){n=t(n,e,i,a)}),n)},r=function(e){if(Object.keys)return Object.keys(e);var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t};"undefined"!=typeof process&&process.nextTick?(i.nextTick=process.nextTick,i.setImmediate="undefined"!=typeof setImmediate?setImmediate:i.nextTick):"function"==typeof setImmediate?(i.setImmediate=setImmediate,i.nextTick=setImmediate):(i.setImmediate=i.nextTick,i.nextTick=function(e){setTimeout(e,0)}),i.each=function(t,n,i){if(i=i||function(){},!t.length)return i();var s=0;a(t,function(a){n(a,e(function(e){e?(i(e),i=function(){}):(s+=1,s>=t.length&&i(null))}))})},i.forEach=i.each,i.eachSeries=function(e,t,n){if(n=n||function(){},!e.length)return n();var i=0,a=function(){t(e[i],function(t){t?(n(t),n=function(){}):(i+=1,i>=e.length?n(null):a())})};a()},i.forEachSeries=i.eachSeries,i.eachLimit=function(e,t,n,i){var a=l(t);a.apply(null,[e,n,i])},i.forEachLimit=i.eachLimit;var l=function(e){return function(t,n,i){if(i=i||function(){},!t.length||0>=e)return i();var a=0,s=0,o=0;!function r(){if(a>=t.length)return i();for(;e>o&&s<t.length;)s+=1,o+=1,n(t[s-1],function(e){e?(i(e),i=function(){}):(a+=1,o-=1,a>=t.length?i():r())})}()}},c=function(e){return function(){var t=Array.prototype.slice.call(arguments);return e.apply(null,[i.each].concat(t))}},u=function(e,t){return function(){var n=Array.prototype.slice.call(arguments);return t.apply(null,[l(e)].concat(n))}},d=function(e){return function(){var t=Array.prototype.slice.call(arguments);return e.apply(null,[i.eachSeries].concat(t))}},h=function(e,t,n,i){var a=[];t=s(t,function(e,t){return{"index":t,"value":e}}),e(t,function(e,t){n(e.value,function(n,i){a[e.index]=i,t(n)})},function(e){i(e,a)})};i.map=c(h),i.mapSeries=d(h),i.mapLimit=function(e,t,n,i){return p(t)(e,n,i)};var p=function(e){return u(e,h)};i.reduce=function(e,t,n,a){i.eachSeries(e,function(e,i){n(t,e,function(e,n){t=n,i(e)})},function(e){a(e,t)})},i.inject=i.reduce,i.foldl=i.reduce,i.reduceRight=function(e,t,n,a){var o=s(e,function(e){return e}).reverse();i.reduce(o,t,n,a)},i.foldr=i.reduceRight;var f=function(e,t,n,i){var a=[];t=s(t,function(e,t){return{"index":t,"value":e}}),e(t,function(e,t){n(e.value,function(n){n&&a.push(e),t()})},function(e){i(s(a.sort(function(e,t){return e.index-t.index}),function(e){return e.value}))})};i.filter=c(f),i.filterSeries=d(f),i.select=i.filter,i.selectSeries=i.filterSeries;var m=function(e,t,n,i){var a=[];t=s(t,function(e,t){return{"index":t,"value":e}}),e(t,function(e,t){n(e.value,function(n){n||a.push(e),t()})},function(e){i(s(a.sort(function(e,t){return e.index-t.index}),function(e){return e.value}))})};i.reject=c(m),i.rejectSeries=d(m);var g=function(e,t,n,i){e(t,function(e,t){n(e,function(n){n?(i(e),i=function(){}):t()})},function(e){i()})};i.detect=c(g),i.detectSeries=d(g),i.some=function(e,t,n){i.each(e,function(e,i){t(e,function(e){e&&(n(!0),n=function(){}),i()})},function(e){n(!1)})},i.any=i.some,i.every=function(e,t,n){i.each(e,function(e,i){t(e,function(e){e||(n(!1),n=function(){}),i()})},function(e){n(!0)})},i.all=i.every,i.sortBy=function(e,t,n){i.map(e,function(e,n){t(e,function(t,i){t?n(t):n(null,{"value":e,"criteria":i})})},function(e,t){if(e)return n(e);var i=function(e,t){var n=e.criteria,i=t.criteria;return i>n?-1:n>i?1:0};n(null,s(t.sort(i),function(e){return e.value}))})},i.auto=function(e,t){t=t||function(){};var n=r(e);if(!n.length)return t(null);var s={},l=[],c=function(e){l.unshift(e)},u=function(e){for(var t=0;t<l.length;t+=1)if(l[t]===e)return void l.splice(t,1)},d=function(){a(l.slice(0),function(e){e()})};c(function(){r(s).length===n.length&&(t(null,s),t=function(){})}),a(n,function(n){var l=e[n]instanceof Function?[e[n]]:e[n],h=function(e){var o=Array.prototype.slice.call(arguments,1);if(o.length<=1&&(o=o[0]),e){var l={};a(r(s),function(e){l[e]=s[e]}),l[n]=o,t(e,l),t=function(){}}else s[n]=o,i.setImmediate(d)},p=l.slice(0,Math.abs(l.length-1))||[],f=function(){return o(p,function(e,t){return e&&s.hasOwnProperty(t)},!0)&&!s.hasOwnProperty(n)};if(f())l[l.length-1](h,s);else{var m=function(){f()&&(u(m),l[l.length-1](h,s))};c(m)}})},i.waterfall=function(e,t){if(t=t||function(){},e.constructor!==Array){var n=new Error("First argument to waterfall must be an array of functions");return t(n)}if(!e.length)return t();var a=function(e){return function(n){if(n)t.apply(null,arguments),t=function(){};else{var s=Array.prototype.slice.call(arguments,1),o=e.next();s.push(o?a(o):t),i.setImmediate(function(){e.apply(null,s)})}}};a(i.iterator(e))()};var v=function(e,t,n){if(n=n||function(){},t.constructor===Array)e.map(t,function(e,t){e&&e(function(e){var n=Array.prototype.slice.call(arguments,1);n.length<=1&&(n=n[0]),t.call(null,e,n)})},n);else{var i={};e.each(r(t),function(e,n){t[e](function(t){var a=Array.prototype.slice.call(arguments,1);a.length<=1&&(a=a[0]),i[e]=a,n(t)})},function(e){n(e,i)})}};i.parallel=function(e,t){v({"map":i.map,"each":i.each},e,t)},i.parallelLimit=function(e,t,n){v({"map":p(t),"each":l(t)},e,n)},i.series=function(e,t){if(t=t||function(){},e.constructor===Array)i.mapSeries(e,function(e,t){e&&e(function(e){var n=Array.prototype.slice.call(arguments,1);n.length<=1&&(n=n[0]),t.call(null,e,n)})},t);else{var n={};i.eachSeries(r(e),function(t,i){e[t](function(e){var a=Array.prototype.slice.call(arguments,1);a.length<=1&&(a=a[0]),n[t]=a,i(e)})},function(e){t(e,n)})}},i.iterator=function(e){var t=function(n){var i=function(){return e.length&&e[n].apply(null,arguments),i.next()};return i.next=function(){return n<e.length-1?t(n+1):null},i};return t(0)},i.apply=function(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t.concat(Array.prototype.slice.call(arguments)))}};var _=function(e,t,n,i){var a=[];e(t,function(e,t){n(e,function(e,n){a=a.concat(n||[]),t(e)})},function(e){i(e,a)})};i.concat=c(_),i.concatSeries=d(_),i.whilst=function(e,t,n){e()?t(function(a){return a?n(a):void i.whilst(e,t,n)}):n()},i.doWhilst=function(e,t,n){e(function(a){return a?n(a):void(t()?i.doWhilst(e,t,n):n())})},i.until=function(e,t,n){e()?n():t(function(a){return a?n(a):void i.until(e,t,n)})},i.doUntil=function(e,t,n){e(function(a){return a?n(a):void(t()?n():i.doUntil(e,t,n))})},i.queue=function(t,n){function s(e,t,s,o){t.constructor!==Array&&(t=[t]),a(t,function(t){var a={"data":t,"callback":"function"==typeof o?o:null};s?e.tasks.unshift(a):e.tasks.push(a),e.saturated&&e.tasks.length===n&&e.saturated(),i.setImmediate(e.process)})}void 0===n&&(n=1);var o=0,r={"tasks":[],"concurrency":n,"saturated":null,"empty":null,"drain":null,"push":function(e,t){s(r,e,!1,t)},"unshift":function(e,t){s(r,e,!0,t)},"process":function(){if(o<r.concurrency&&r.tasks.length){var n=r.tasks.shift();r.empty&&0===r.tasks.length&&r.empty(),o+=1;var i=function(){o-=1,n.callback&&n.callback.apply(n,arguments),r.drain&&r.tasks.length+o===0&&r.drain(),r.process()},a=e(i);t(n.data,a)}},"length":function(){return r.tasks.length},"running":function(){return o}};return r},i.cargo=function(e,t){var n=!1,o=[],r={"tasks":o,"payload":t,"saturated":null,"empty":null,"drain":null,"push":function(e,n){e.constructor!==Array&&(e=[e]),a(e,function(e){o.push({"data":e,"callback":"function"==typeof n?n:null}),r.saturated&&o.length===t&&r.saturated()}),i.setImmediate(r.process)},"process":function l(){if(!n){if(0===o.length)return void(r.drain&&r.drain());var i="number"==typeof t?o.splice(0,t):o.splice(0),c=s(i,function(e){return e.data});r.empty&&r.empty(),n=!0,e(c,function(){n=!1;var e=arguments;a(i,function(t){t.callback&&t.callback.apply(null,e)}),l()})}},"length":function(){return o.length},"running":function(){return n}};return r};var b=function(e){return function(t){var n=Array.prototype.slice.call(arguments,1);t.apply(null,n.concat([function(t){var n=Array.prototype.slice.call(arguments,1);"undefined"!=typeof console&&(t?console.error&&console.error(t):console[e]&&a(n,function(t){console[e](t)}))}]))}};i.log=b("log"),i.dir=b("dir"),i.memoize=function(e,t){var n={},i={};t=t||function(e){return e};var a=function(){var a=Array.prototype.slice.call(arguments),s=a.pop(),o=t.apply(null,a);o in n?s.apply(null,n[o]):o in i?i[o].push(s):(i[o]=[s],e.apply(null,a.concat([function(){n[o]=arguments;var e=i[o];delete i[o];for(var t=0,a=e.length;a>t;t++)e[t].apply(null,arguments)}])))};return a.memo=n,a.unmemoized=e,a},i.unmemoize=function(e){return function(){return(e.unmemoized||e).apply(null,arguments)}},i.times=function(e,t,n){for(var a=[],s=0;e>s;s++)a.push(s);return i.map(a,t,n)},i.timesSeries=function(e,t,n){for(var a=[],s=0;e>s;s++)a.push(s);return i.mapSeries(a,t,n)},i.compose=function(){var e=Array.prototype.reverse.call(arguments);return function(){var t=this,n=Array.prototype.slice.call(arguments),a=n.pop();i.reduce(e,n,function(e,n,i){n.apply(t,e.concat([function(){var e=arguments[0],t=Array.prototype.slice.call(arguments,1);i(e,t)}]))},function(e,n){a.apply(t,[e].concat(n))})}};var y=function(e,t){var n=function(){var n=this,i=Array.prototype.slice.call(arguments),a=i.pop();return e(t,function(e,t){e.apply(n,i.concat([t]))},a)};if(arguments.length>2){var i=Array.prototype.slice.call(arguments,2);return n.apply(this,i)}return n};i.applyEach=c(y),i.applyEachSeries=d(y),i.forever=function(e,t){function n(i){if(i){if(t)return t(i);throw i}e(n)}n()},"undefined"!=typeof define&&define.amd?define([],function(){return i}):"undefined"!=typeof module&&module.exports?module.exports=i:t.async=i}(),function(){var e=Handlebars.template,t=Handlebars.templates=Handlebars.templates||{};t.betawelcome=e({"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,n,i){var a,s=this.lambda,o=this.escapeExpression;return'<div class="overlay_detail overlay_detail_gsf overlay_detail_betawelcome">\n	<div class="gsf_one gsf_active clearfix">\n		<a class="close" href="#">'+o(s(null!=(a=null!=e?e.cta:e)?a.close:a,e))+"</a>\n		<h3>"+o(s(null!=(a=null!=e?e.queue:e)?a.welcome_title:a,e))+'</h3>\n		<div class="gsf_bg"></div>\n		<div class="gsf_content">\n			<p class="betawelcome_partone">'+o(s(null!=(a=null!=e?e.queue:e)?a.welcome_body1:a,e))+'</p>\n			<p class="betawelcome_parttwo">'+o(s(null!=(a=null!=e?e.queue:e)?a.welcome_body2:a,e))+'</p>\n			<p class="gsf_buttoncontainer"><a class="button" href="#">'+o(s(null!=(a=null!=e?e.queue:e)?a.welcome_cta:a,e))+"</a></p>\n		</div>\n	</div>\n</div>"},"useData":!0}),t.gsf_allsetup=e({"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,n,i){var a,s=this.lambda,o=this.escapeExpression;return'<div class="gsf-tooltip-detail-setup">\n	<div class="gsf-tooltip-logo"></div>\n	<div class="gsf-tooltip-extracontent">\n		<h5 class="gsf-tooltip-headline">'+o(s(null!=(a=null!=e?e.gsf:e)?a.youareallsetup:a,e))+"</h5>\n		<p>"+o(s(null!=(a=null!=e?e.gsf:e)?a.thenexttime:a,e))+"</p>\n	</div>\n</div>"},"useData":!0}),t.gsf_chromeinlineinstall=e({"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,n,i){var a,s=this.lambda,o=this.escapeExpression;return'<div class="overlay_screen overlay_screen_alt">\n	<div class="overlay_note_container">\n		<div class="overlay_arrow"></div>\n		<p>'+o(s(null!=(a=null!=e?e.gsf:e)?a.doesnotviewtransmit:a,e))+"<br>"+o(s(null!=(a=null!=e?e.gsf:e)?a.orstorebrowsinghistory:a,e))+'</p>\n		<p class="learn">'+o(s(null!=(a=null!=e?e.gsf:e)?a.morequestions:a,e))+"<br>"+o(s(null!=(a=null!=e?e.gsf:e)?a["goto"]:a,e))+": GetPocket.com/ChromePrivacy</p>\n	</div>\n</div>"},"useData":!0}),t.gsf_comingback=e({"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,n,i){var a,s=this.lambda,o=this.escapeExpression;return'<div class="gsf-tooltip-detail-comingback">\n	<div class="gsf-tooltip-readinglist"></div>\n	<div class="gsf-tooltip-extracontent">\n		<h5 class="gsf-tooltip-headline">'+o(s(null!=(a=null!=e?e.gsf:e)?a.comingbackpocket:a,e))+"</h5>\n		<p>"+o(s(null!=(a=null!=e?e.gsf:e)?a.whenviewlist:a,e))+"</p>\n	</div>\n</div>"},"useData":!0}),t.gsf_gamifyhowsave=e({"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,n,i){var a,s=this.lambda,o=this.escapeExpression;return'<div class="gsf-tooltip-detail-howsave">\n	<div class="gsf-tooltip-logoalt"></div>\n	<div class="gsf-tooltip-extracontent">\n		<h5 class="gsf-tooltip-headline">'+o(s(null!=(a=null!=e?e.gamify:e)?a.saveanyarticle:a,e))+"</h5>\n		<p>"+o(s(null!=(a=null!=e?e.gamify:e)?a.ventureout:a,e))+"</p>\n	</div>\n</div>"},"useData":!0}),t.gsf_inceptionpopup=e({"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,n,i){var a,s=this.lambda,o=this.escapeExpression;return'<div class="gsf-tooltip-detail-inception">\n	<div class="gsf-tooltip-inception-content">\n		<h5 class="gsf-tooltip-headline">'+o(s(null!=(a=null!=e?e.gsf:e)?a.clickpocketbuttonsaving:a,e))+'</h5>\n		<p class="gsf-tooltip-inception-arrow-detail">Try clicking this button now</p>\n		<div class="gsf-tooltip-inception-browser">\n			<div class="gsf-tooltip-inception-arrow"></div>\n			<a href="#" class="gsf-tooltip-inception-link"></a>\n		</div>\n	</div>\n</div>'},"useData":!0}),t.gsf_mobilepopup=e({"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,n,i){var a,s=this.lambda,o=this.escapeExpression;return'<div class="overlay_detail gsf-tooltip-detail-mobile">\n	<div class="gsf-tooltip-mobile-images"></div>\n	<a class="gsf-tooltip-close" href="#">'+o(s(null!=(a=null!=e?e.cta:e)?a.close:a,e))+'</a>\n	<div class="gsf-tooltip-mobile-content">\n		<h5 class="gsf-tooltip-headline">'+o(s(null!=(a=null!=e?e.gamify:e)?a.nointernet:a,e))+'</h5>\n		<p class="button-container">\n			<a href="#" class="button"><span class="gsf-tooltip-spinner"></span>'+o(s(null!=(a=null!=e?e.gsf:e)?a.emaillink:a,e))+'</a>\n			<a href="#" class="button button-inactive button-sent"><span class="gsf-tooltip-checkmark"></span>'+o(s(null!=(a=null!=e?e.gsf:e)?a.emailsent:a,e))+'</a>\n		</p>\n		<p class="gsf-tooltip-appstorebuttons">\n			<a href="/apps/link/pocket-android?s=gsfgamify" target="_blank" class="gsf-tooltip-mobilecta gsf-tooltip-mobile-gplay">Google Play</a>\n			<a href="/apps/link/pocket-iphone?s=gsfgamify" target="_blank" class="gsf-tooltip-mobilecta gsf-tooltip-mobile-ios">App Store</a>\n		</p>\n	</div>\n</div>'},"useData":!0}),t.gsf_needhelpsaving=e({"1":function(e,t,n,i){return'		<div class="close"></div>\n'},"3":function(e,t,n,i){var a,s=this.lambda,o=this.escapeExpression;return"			<p>"+o(s(null!=(a=null!=e?e.gsf:e)?a.savenewsarticles:a,e))+"</p>\n			<p>"+o(s(null!=(a=null!=e?e.gsf:e)?a.trybuttonlinks:a,e))+'</p>\n			<p><a class="button button-gotit" href="#">'+o(s(null!=(a=null!=e?e.gsf:e)?a.gotit:a,e))+"</a></p>\n"},"5":function(e,t,n,i){var a,s=this.lambda,o=this.escapeExpression;return"			<p>"+o(s(null!=(a=null!=e?e.gsf:e)?a.connectpocketforeasywaysave:a,e))+"</p>\n			<p>"+o(s(null!=(a=null!=e?e.gsf:e)?a.trybuttonlinks:a,e))+'</p>\n			<p><a class="button button-connect" href="#">'+o(s(null!=(a=null!=e?e.gsf:e)?a.connectbutton:a,e))+"</a></p>\n"},"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,n,i){var a,s=this.lambda,o=this.escapeExpression,r='<div class="overlay_detail overlay_detail_gsf">\n	<div class="gsf_four clearfix">\n';return a=t.unless.call(e,null!=(a=null!=e?e.manual:e)?a.wextension:a,{"name":"unless","hash":{},"fn":this.program(1,i),"inverse":this.noop,"data":i}),null!=a&&(r+=a),r+="		<h3>"+o(s(null!=(a=null!=e?e.gsf:e)?a.needhelpsaving:a,e))+'</h3>\n		<div class="gsf_bg"></div>\n		<div class="gsf_content">\n',a=t["if"].call(e,null!=(a=null!=e?e.manual:e)?a.wextension:a,{"name":"if","hash":{},"fn":this.program(3,i),"inverse":this.program(5,i),"data":i}),null!=a&&(r+=a),r+"		</div>\n	</div>\n</div>"},"useData":!0}),t.gsf_newtooltipdetail=e({"1":function(e,t,n,i){var a,s="";return a=t["if"].call(e,null!=e?e.selected:e,{"name":"if","hash":{},"fn":this.program(2,i),"inverse":this.program(4,i),"data":i}),null!=a&&(s+=a),s},"2":function(e,t,n,i){return'			<li class="gsf-tooltip-progressitem gsf-tooltip-progressselected"></li>\n'},"4":function(e,t,n,i){return'			<li class="gsf-tooltip-progressitem"></li>\n'},"6":function(e,t,n,i){var a,s=this.lambda,o=this.escapeExpression;return'		<a href="#" class="gsf-tooltip-confirm">'+o(s(null!=(a=null!=e?e.manual:e)?a.gsftooltipconfirmtext:a,e))+"</a>\n"},"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,n,i){var a,s=this.lambda,o=this.escapeExpression,r='<div class="gsf-tooltip-detail">\n	<div class="gsf-tooltip-header">\n		<h5 class="gsf-tooltip-headline">'+o(s(null!=(a=null!=e?e.manual:e)?a.gsfheadline:a,e))+'</h5>\n		<div class="gsf-tooltip-content clearfix">\n			';return a=s(null!=(a=null!=e?e.manual:e)?a.gsfbody:a,e),null!=a&&(r+=a),r+='\n		</div>\n	</div>\n	<div class="gsf-tooltip-footer clearfix">\n		<ul class="gsf-tooltip-progress">\n',a=t.each.call(e,null!=(a=null!=e?e.manual:e)?a.gsfprogresscount:a,{"name":"each","hash":{},"fn":this.program(1,i),"inverse":this.noop,"data":i}),null!=a&&(r+=a),r+="		</ul>\n",a=t["if"].call(e,null!=(a=null!=e?e.manual:e)?a.gsftooltipconfirm:a,{"name":"if","hash":{},"fn":this.program(6,i),"inverse":this.noop,"data":i}),null!=a&&(r+=a),r+"	</div>\n</div>"},"useData":!0}),t.gsf_overlayalt=e({"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,n,i){var a,s=this.lambda,o=this.escapeExpression,r='<div class="overlay_detail overlay_detail_gsf">\n	<div class="gsf_twopointfive gsf_active clearfix">\n		<h3 class="gsf_pocketlogo">Pocket</h3>\n		<p class="gsf_tagline">'+o(s(null!=(a=null!=e?e.gsf:e)?a.welcometopocket:a,e))+'</p>\n		<div class="gsf_bg"></div>\n		<div class="gsf_content">\n			<p class="gsf_disclaimer"><input type="checkbox" class="gsf_sendtips" name="sendtips" checked="true">'+o(s(null!=(a=null!=e?e.gsf:e)?a.sendmetips:a,e))+'</p>\n			<p class="button_container"><a class="button" href="#">'+o(s(null!=(a=null!=e?e.cta:e)?a.getstarted:a,e))+'</a></p>\n			<p class="gsf_disclaimer">';return a=s(null!=(a=null!=e?e.manual:e)?a.termsconditions:a,e),null!=a&&(r+=a),r+"</p>\n		</div>\n	</div>\n</div>"},"useData":!0}),t.gsf_overlaygamifyrecommended=e({"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,n,i){var a,s=this.lambda,o=this.escapeExpression,r='<div class="overlay_detail overlay_detail_gsf overlaygamify_roorecommended">\n    <div class="overlaygamify_roorecommendedimg"></div>\n    <div class="overlaygamify_text">\n        <p class="overlaygamify_textdetail">'+o(s(null!=(a=null!=e?e.gamify:e)?a.recommendshows:a,e))+'</p>\n        <p class="overlaygamify_textdetail">';return a=s(null!=(a=null!=e?e.manual:e)?a.gamifyclickpocket:a,e),null!=a&&(r+=a),r+'</p>\n        <p class="overlaygamify_textdetail"><a class="button overlaygamify_button" href="#">'+o(s(null!=(a=null!=e?e.cta:e)?a.letsgo:a,e))+"</a></p>\n    </div>\n</div>"},"useData":!0}),t.gsf_overlayone=e({"1":function(e,t,n,i){var a,s=this.lambda,o=this.escapeExpression,r='	<div class="gsf_zero gsf_active clearfix">\n		<h3>'+o(s(null!=(a=null!=e?e.gsf:e)?a.congrats:a,e))+'</h3>\n		<div class="gsf_bg"></div>\n		<div class="gsf_content">\n';return a=t["if"].call(e,null!=(a=null!=e?e.manual:e)?a.simplesignupnoemail:a,{"name":"if","hash":{},"fn":this.program(2,i),"inverse":this.program(4,i),"data":i}),null!=a&&(r+=a),r+'			<p><a class="button" href="#">'+o(s(null!=(a=null!=e?e.cta:e)?a.ok:a,e))+'</a></p>\n		</div>\n	</div>\n	<div class="gsf_one clearfix">\n'},"2":function(e,t,n,i){var a,s=this.lambda,o=this.escapeExpression;return"			<p>"+o(s(null!=(a=null!=e?e.gsf:e)?a.assignedaemailpassword:a,e))+'</p>\n			<p class="tempemail">'+o(s(null!=(a=null!=e?e.manual:e)?a.tempemail:a,e))+'</p>\n			<p class="temppass">'+o(s(null!=(a=null!=e?e.manual:e)?a.temppass:a,e))+'</p>\n			<p class="reduced">'+o(s(null!=(a=null!=e?e.gsf:e)?a.temppassintroone:a,e))+"</p>\n			<p>"+o(s(null!=(a=null!=e?e.gsf:e)?a.temppassintrotwoalt:a,e))+"</p>\n"},"4":function(e,t,n,i){var a,s=this.lambda,o=this.escapeExpression;return"			<p>"+o(s(null!=(a=null!=e?e.gsf:e)?a.assignedapassword:a,e))+'</p>\n			<p class="temppass">'+o(s(null!=(a=null!=e?e.manual:e)?a.temppass:a,e))+"</p>\n			<p>"+o(s(null!=(a=null!=e?e.gsf:e)?a.temppassintroone:a,e))+"</p>\n			<p>"+o(s(null!=(a=null!=e?e.gsf:e)?a.temppassintrotwo:a,e))+"</p>\n"},"6":function(e,t,n,i){return'	<div class="gsf_one gsf_active clearfix">\n'},"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,n,i){var a,s=this.lambda,o=this.escapeExpression,r='<div class="overlay_detail overlay_detail_gsf">\n';return a=t["if"].call(e,null!=(a=null!=e?e.manual:e)?a.simplesignup:a,{"name":"if","hash":{},"fn":this.program(1,i),"inverse":this.program(6,i),"data":i}),null!=a&&(r+=a),r+="		<h3>"+o(s(null!=(a=null!=e?e.gsf:e)?a.congrats:a,e))+'</h3>\n		<div class="gsf_bg"></div>\n		<div class="gsf_content">\n			<p>'+o(s(null!=(a=null!=e?e.gsf:e)?a.youvesignedupforpocket:a,e))+'</p>\n			<p class="gsf_accesspocket">'+o(s(null!=(a=null!=e?e.gsf:e)?a.accesspocketondevices:a,e))+'</p>\n			<p class="gsf_buttoncontainer"><a class="button" href="#">'+o(s(null!=(a=null!=e?e.cta:e)?a.getstarted:a,e))+'</a></p>\n		</div>\n	</div>\n	<div class="gsf_two clearfix">\n		<a class="skip_link" href="#">'+o(s(null!=(a=null!=e?e.gsf:e)?a.skipthisstep:a,e))+"</a>\n		<h3>"+o(s(null!=(a=null!=e?e.gsf:e)?a.savethingsviewlater:a,e))+'</h3>\n		<div class="gsf_bg"></div>\n		<div class="gsf_content">\n			<p>'+o(s(null!=(a=null!=e?e.gsf:e)?a.connectingpocketbuttonprovides:a,e))+"</p>\n			<p>"+o(s(null!=(a=null!=e?e.gsf:e)?a.buttonsitsintoolbar:a,e))+'</p>\n			<p><a class="button" href="#">'+o(s(null!=(a=null!=e?e.cta:e)?a.connectnow:a,e))+'</a></p>\n		</div>\n	</div>\n	<div class="gsf_twopointfive clearfix">\n		<h3 class="gsf_pocketlogo">Pocket</h3>\n		<p class="gsf_tagline">'+o(s(null!=(a=null!=e?e.gsf:e)?a.welcometopocket:a,e))+'</p>\n		<div class="gsf_bg"></div>\n		<div class="gsf_content">\n			<p class="gsf_disclaimer"><input type="checkbox" class="gsf_sendtips" name="sendtips" checked="true">'+o(s(null!=(a=null!=e?e.gsf:e)?a.sendmetips:a,e))+'</p>\n			<p class="button_container"><a class="button" href="#">'+o(s(null!=(a=null!=e?e.cta:e)?a.getstarted:a,e))+'</a></p>\n			<p class="gsf_disclaimer">',a=s(null!=(a=null!=e?e.manual:e)?a.termsconditions:a,e),null!=a&&(r+=a),r+'</p>\n		</div>\n	</div>\n	<div class="gsf_three clearfix">\n		<h3>'+o(s(null!=(a=null!=e?e.gsf:e)?a.yourereadytosavealt:a,e))+"</h3>\n		<h5>"+o(s(null!=(a=null!=e?e.gsf:e)?a.clickthepocketbutton:a,e))+'</h5>\n		<div class="gsf_bg"></div>\n		<div class="gsf_content">\n			<div class="step">1</div>\n			<p>'+o(s(null!=(a=null!=e?e.gsf:e)?a.clicktosaveapage:a,e))+'</p>\n			<div class="step">2</div>\n			<p>'+o(s(null!=(a=null!=e?e.gsf:e)?a.returntogetpocket:a,e))+'</p>\n			<p class="button_container"><a class="button" href="#">'+o(s(null!=(a=null!=e?e.gsf:e)?a.savesomething:a,e))+'</a></p>\n		</div>\n	</div>\n	<ul class="gsf_progress">\n		<li class="selected">1</li>\n		<li>2</li>\n	</ul>\n</div>'},"useData":!0}),t.gsf_savefirstitem=e({"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,n,i){var a,s=this.lambda,o=this.escapeExpression;return"<p>"+o(s(null!=(a=null!=e?e.gsf:e)?a.clickpocketbuttontoolbar:a,e))+'</p>\n<div class="gsf-tooltip-article clearfix">\n	<p>'+o(s(null!=(a=null!=e?e.manual:e)?a.gsftooltiptitle:a,e))+'</p>\n	<div class="gsf-tooltip-articleimg" style="background-image: url('+o(s(null!=(a=null!=e?e.manual:e)?a.gsftooltipimgsrc:a,e))+');"></div>\n	<a class="gsf-tooltip-articlelink" href="'+o(s(null!=(a=null!=e?e.manual:e)?a.gsftooltiplink:a,e))+'" target="_blank"></a>\n</div>'},"useData":!0}),t.gsf_saveinwebappwarning=e({"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,n,i){var a,s=this.lambda,o=this.escapeExpression;return'<div class="gsf-tooltip-detail-webviewonly">\n	<h3 class="gsf-tooltip-bigheadline">'+o(s(null!=(a=null!=e?e.gsf:e)?a.greatpocketbutton:a,e))+"</h3>\n	<p>"+o(s(null!=(a=null!=e?e.gsf:e)?a.nextleavesave:a,e))+'</p>\n	<div class="gsf-tooltip-article clearfix">\n		<p>'+o(s(null!=(a=null!=e?e.manual:e)?a.gsftooltiptitle:a,e))+'</p>\n		<div class="gsf-tooltip-articleimg" style="background-image: url('+o(s(null!=(a=null!=e?e.manual:e)?a.gsftooltipimgsrc:a,e))+');"></div>\n		<a class="gsf-tooltip-articlelink" href="'+o(s(null!=(a=null!=e?e.manual:e)?a.gsftooltiplink:a,e))+'" target="_blank"></a>\n	</div>\n</div>'},"useData":!0}),t.gsf_simpletooltip=e({"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,n,i){var a,s=this.lambda,o=this.escapeExpression;return"<p>"+o(s(null!=(a=null!=e?e.manual:e)?a.gsftooltipcontent:a,e))+"</p>"},"useData":!0}),t.gsf_webviewclickwarning=e({"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,n,i){var a,s=this.lambda,o=this.escapeExpression;return'<h5 class="gsf-tooltip-headline">'+o(s(null!=(a=null!=e?e.queue:e)?a.webviewwarn_webonlyview:a,e))+"</h5>\n<p>"+o(s(null!=(a=null!=e?e.queue:e)?a.webviewwarn_webonlydetail:a,e))+"</p>"},"useData":!0}),t.gsf_webviewonlywarning=e({"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,n,i){var a,s=this.lambda,o=this.escapeExpression;return'<div class="gsf-tooltip-detail-webviewonly">\n	<h3 class="gsf-tooltip-bigheadline">'+o(s(null!=(a=null!=e?e.gsf:e)?a.yousavedpagebut:a,e))+"</h3>\n	<p>"+o(s(null!=(a=null!=e?e.gsf:e)?a.letstrysavinganarticle:a,e))+"</p>\n	<p>"+o(s(null!=(a=null!=e?e.gsf:e)?a.heresasuggestion:a,e))+'</p>\n	<div class="gsf-tooltip-article clearfix">\n		<p>'+o(s(null!=(a=null!=e?e.manual:e)?a.gsftooltiptitle:a,e))+'</p>\n		<div class="gsf-tooltip-articleimg" style="background-image: url('+o(s(null!=(a=null!=e?e.manual:e)?a.gsftooltipimgsrc:a,e))+');"></div>\n		<a class="gsf-tooltip-articlelink" href="'+o(s(null!=(a=null!=e?e.manual:e)?a.gsftooltiplink:a,e))+'" target="_blank"></a>\n	</div>\n</div>';

},"useData":!0}),t.init_requirepassword=e({"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,n,i){var a,s=this.lambda,o=this.escapeExpression;return'<div class="overlay_createpasswordcontainer">\n	<h2>'+o(s(null!=(a=null!=e?e.gsf:e)?a.createpassword:a,e))+'</h2>\n	<div class="form-msg">'+o(s(null!=(a=null!=e?e.gsf:e)?a.passwordsaved:a,e))+'</div>\n	<div class="avatar"></div>\n	<h3 class="hi">'+o(s(null!=(a=null!=e?e.gsf:e)?a.hi:a,e))+' <span class="name"></span>!</h3>\n	<p class="email"></p>\n\n	<p>'+o(s(null!=(a=null!=e?e.gsf:e)?a.thispasswordwill:a,e))+'</p>\n	<form class="form-changepassword">\n	<input type="text" class="extrausername" id="extrausername" name="username" autocomplete="off">\n		<div class="form-field">\n	        <span class="error-bubble"><span class="error-msg">'+o(s(null!=(a=null!=e?e.gsf:e)?a.invalidpassword:a,e))+'</span><span class="error-arrow"></span></span>\n	        <label for="password">'+o(s(null!=(a=null!=e?e.gsf:e)?a.enterpassword:a,e))+'</label>\n	        <input type="password" id="password" name="password" autofocus autocomplete="off" tabindex="1" placeholder="'+o(s(null!=(a=null!=e?e.gsf:e)?a.enterpassword:a,e))+'">\n	    </div><br>\n	    <div class="form-processing"></div>\n	    <input tabindex="2" type="submit" value="'+o(s(null!=(a=null!=e?e.gsf:e)?a.finish:a,e))+'" class="button password-btn-add">\n	</form>\n</div>'},"useData":!0}),t.isolate_screen=e({"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,n,i){return'<div class="isolate_screen_detail isolate_screen_top"></div>\n<div class="isolate_screen_detail isolate_screen_left"></div>\n<div class="isolate_screen_detail isolate_screen_right"></div>\n<div class="isolate_screen_detail isolate_screen_bottom"></div>'},"useData":!0}),t.notification_persistent=e({"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,n,i){var a,s=this.lambda,o=this.escapeExpression;return'<div class=\'notifications-persistent\'>\n	<p class="content"></p>\n	<a href="#" class="close">'+o(s(null!=(a=null!=e?e.cta:e)?a.close:a,e))+"</a>\n</div>"},"useData":!0}),t.notification_pocketpremupsell=e({"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,n,i){var a,s=this.lambda,o=this.escapeExpression;return'<div class="overlay_detail overlay_detail_premupsell">\n		<a class="close" href="#">'+o(s(null!=(a=null!=e?e.cta:e)?a.close:a,e))+'</a>\n		<div class="premupsell_divider"><h5>'+o(s(null!=(a=null!=e?e.queue:e)?a.introducing:a,e))+"</h5></div>\n\n		<h2>"+o(s(null!=(a=null!=e?e.queue:e)?a.pocketpremium:a,e))+"</h2>\n\n		<p>"+o(s(null!=(a=null!=e?e.queue:e)?a.mostpowerful:a,e))+'</p>\n		<a class="button" href="/premium?ep=4" target="_blank">'+o(s(null!=(a=null!=e?e.cta:e)?a.learnmore:a,e))+"</a>\n</div>"},"useData":!0}),t.notification_sync_added=e({"1":function(e,t,n,i){var a,s=this.lambda,o=this.escapeExpression;return'<span class="count count_solo">'+o(s(null!=(a=null!=e?e.manual:e)?a.sync_count:a,e))+"</span> "+o(s(null!=(a=null!=e?e.notification:e)?a.itemadded:a,e))+"\n"},"3":function(e,t,n,i){var a,s=this.lambda,o=this.escapeExpression;return'<span class="count">'+o(s(null!=(a=null!=e?e.manual:e)?a.sync_count:a,e))+"</span> "+o(s(null!=(a=null!=e?e.notification:e)?a.itemsadded:a,e))+"\n"},"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,n,i){var a;return a=t["if"].call(e,null!=(a=null!=e?e.manual:e)?a.sync_singular:a,{"name":"if","hash":{},"fn":this.program(1,i),"inverse":this.program(3,i),"data":i}),null!=a?a:""},"useData":!0}),t.notification_sync_archived=e({"1":function(e,t,n,i){var a,s=this.lambda,o=this.escapeExpression;return'<span class="count count_solo">'+o(s(null!=(a=null!=e?e.manual:e)?a.sync_count:a,e))+"</span> "+o(s(null!=(a=null!=e?e.notification:e)?a.itemarchived:a,e))+"\n"},"3":function(e,t,n,i){var a,s=this.lambda,o=this.escapeExpression;return'<span class="count">'+o(s(null!=(a=null!=e?e.manual:e)?a.sync_count:a,e))+"</span> "+o(s(null!=(a=null!=e?e.notification:e)?a.itemsarchived:a,e))+"\n"},"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,n,i){var a;return a=t["if"].call(e,null!=(a=null!=e?e.manual:e)?a.sync_singular:a,{"name":"if","hash":{},"fn":this.program(1,i),"inverse":this.program(3,i),"data":i}),null!=a?a:""},"useData":!0}),t.notification_sync_deleted=e({"1":function(e,t,n,i){var a,s=this.lambda,o=this.escapeExpression;return'<span class="count count_solo">'+o(s(null!=(a=null!=e?e.manual:e)?a.sync_count:a,e))+"</span> "+o(s(null!=(a=null!=e?e.notification:e)?a.itemdeleted:a,e))+"\n"},"3":function(e,t,n,i){var a,s=this.lambda,o=this.escapeExpression;return'<span class="count">'+o(s(null!=(a=null!=e?e.manual:e)?a.sync_count:a,e))+"</span> "+o(s(null!=(a=null!=e?e.notification:e)?a.itemsdeleted:a,e))+"\n"},"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,n,i){var a;return a=t["if"].call(e,null!=(a=null!=e?e.manual:e)?a.sync_singular:a,{"name":"if","hash":{},"fn":this.program(1,i),"inverse":this.program(3,i),"data":i}),null!=a?a:""},"useData":!0}),t.notification_sync_updated=e({"1":function(e,t,n,i){var a,s=this.lambda,o=this.escapeExpression;return'<span class="count count_solo">'+o(s(null!=(a=null!=e?e.manual:e)?a.sync_count:a,e))+"</span> "+o(s(null!=(a=null!=e?e.notification:e)?a.itemupdated:a,e))+"\n"},"3":function(e,t,n,i){var a,s=this.lambda,o=this.escapeExpression;return'<span class="count">'+o(s(null!=(a=null!=e?e.manual:e)?a.sync_count:a,e))+"</span> "+o(s(null!=(a=null!=e?e.notification:e)?a.itemsupdated:a,e))+"\n"},"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,n,i){var a;return a=t["if"].call(e,null!=(a=null!=e?e.manual:e)?a.sync_singular:a,{"name":"if","hash":{},"fn":this.program(1,i),"inverse":this.program(3,i),"data":i}),null!=a?a:""},"useData":!0}),t.queue_additemdialog=e({"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,n,i){var a,s=this.lambda,o=this.escapeExpression;return'<div class="container">\n	<a class="saveurl-close" href="#">'+o(s(null!=(a=null!=e?e.cta:e)?a.close:a,e))+"</a>\n	<h5>"+o(s(null!=(a=null!=e?e.queue:e)?a.saveanitemtopocket:a,e))+"</h5>\n	<p>"+o(s(null!=(a=null!=e?e.queue:e)?a.foreasiersavingexpanded:a,e))+'</p>\n	<input type="text" placeholder="http://..."><a href="#" class="button button-disabled">'+o(s(null!=(a=null!=e?e.cta:e)?a.save:a,e))+"</a>\n</div>\n\n"},"useData":!0}),t.queue_betawelcome=e({"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,n,i){var a,s=this.lambda,o=this.escapeExpression,r='<div class="overlay_detail overlay_detail_betawelcome">\n	<h3>'+o(s(null!=(a=null!=e?e.queue:e)?a.welcomebeta_intro1:a,e))+'</h3>\n\n	<div class="overlay_detail_betalogo">'+o(s(null!=(a=null!=e?e.queue:e)?a.welcomebeta_cta:a,e))+"</div>\n\n	<p>"+o(s(null!=(a=null!=e?e.queue:e)?a.welcomebeta_intro2:a,e))+"</p>\n	<p>";return a=s(null!=(a=null!=e?e.manual:e)?a.welcomebeta_intro3:a,e),null!=a&&(r+=a),r+'</p>\n\n	<a href="#" class="button button-confirm">'+o(s(null!=(a=null!=e?e.login:e)?a.getstarted:a,e))+"</a>\n</div>"},"useData":!0}),t.queue_bulkedit=e({"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,n,i){var a,s=this.lambda,o=this.escapeExpression;return'<div class="container-bulkedit">\n    <div class="bulkedit-content">\n        <div class="bulkedit-status"><p></p></div>\n        <div class="bulkedit-actions">\n            <ul>\n                <li class="bulkedit-archive">\n                    <a href="#">\n                        <span class="bulkedit-icon"></span> \n                        <span class="bulkedit-desc">'+o(s(null!=(a=null!=e?e.queue:e)?a.archive:a,e))+'</span>\n                    </a>\n                </li>\n                <li class="bulkedit-favorite">\n                    <a href="#">\n                        <span class="bulkedit-icon"></span> \n                        <span class="bulkedit-desc">'+o(s(null!=(a=null!=e?e.queue:e)?a.favorite:a,e))+'</span>\n                    </a>\n                </li>\n                <li class="bulkedit-delete">\n                    <a href="#">\n                        <span class="bulkedit-icon"></span> \n                        <span class="bulkedit-desc">'+o(s(null!=(a=null!=e?e.queue:e)?a["delete"]:a,e))+'</span>\n                    </a>\n                </li>\n                <li class="bulkedit-addtag">\n                    <a href="#">\n                        <span class="bulkedit-icon"></span> \n                        <span class="bulkedit-desc">'+o(s(null!=(a=null!=e?e.queue:e)?a.addtag:a,e))+'</span>\n                    </a>\n                </li>\n            </ul>\n        </div>\n        <a class="bulkedit-cancel" href="#"></a>\n    </div>\n</div>'},"useData":!0}),t.queue_bulkeditactions=e({"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,n,i){var a,s=this.lambda,o=this.escapeExpression;return'<ul>\n    <li class="bulkedit-archive"><a title="'+o(s(null!=(a=null!=e?e.queue:e)?a.archive:a,e))+'" href="#">'+o(s(null!=(a=null!=e?e.queue:e)?a.archive:a,e))+'</a></li>\n    <li class="bulkedit-favorite"><a title="'+o(s(null!=(a=null!=e?e.queue:e)?a.favorite:a,e))+'" href="#">'+o(s(null!=(a=null!=e?e.queue:e)?a.favorite:a,e))+'</a></li>\n    <li class="bulkedit-delete"><a title="'+o(s(null!=(a=null!=e?e.queue:e)?a["delete"]:a,e))+'" href="#">'+o(s(null!=(a=null!=e?e.queue:e)?a["delete"]:a,e))+'</a></li>\n    <li class="bulkedit-addtag"><a title="'+o(s(null!=(a=null!=e?e.queue:e)?a.addtag:a,e))+'" href="#">'+o(s(null!=(a=null!=e?e.queue:e)?a.addtag:a,e))+"</a></li>\n</ul>"},"useData":!0}),t.queue_bulktagdialog=e({"1":function(e,t,n,i){var a,s=this.lambda,o=this.escapeExpression;return"	<h3>"+o(s(null!=(a=null!=e?e.tag:e)?a.addtags:a,e))+" <span>("+o(s(null!=(a=null!=e?e.manual:e)?a.tags_count:a,e))+" "+o(s(null!=(a=null!=e?e.search:e)?a.item:a,e))+")</span></h3>\n"},"3":function(e,t,n,i){var a,s=this.lambda,o=this.escapeExpression;return"	<h3>"+o(s(null!=(a=null!=e?e.tag:e)?a.addtags:a,e))+" <span>("+o(s(null!=(a=null!=e?e.manual:e)?a.tags_count:a,e))+" "+o(s(null!=(a=null!=e?e.search:e)?a.items:a,e))+")</span></h3>\n"},"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,n,i){var a,s=this.lambda,o=this.escapeExpression,r='<div class="overlay_detail overlay_detail_confirm overlay_detail_confirmtag">\n';return a=t["if"].call(e,null!=(a=null!=e?e.manual:e)?a.tag_singular:a,{"name":"if","hash":{},"fn":this.program(1,i),"inverse":this.program(3,i),"data":i}),null!=a&&(r+=a),r+'	<a class="close">'+o(s(null!=(a=null!=e?e.cta:e)?a.close:a,e))+'</a>\n	<div class="clearfix">\n		<input id="edit-tags-input" type="text">\n		<a href="#" class="button button-small button-disabled">'+o(s(null!=(a=null!=e?e.cta:e)?a.save:a,e))+"</a>\n	</div>\n</div>"},"useData":!0}),t.queue_confirmdialog_cancel=e({"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,n,i){var a,s=this.lambda,o=this.escapeExpression;return'	<p class="button_container">\n		<a href="#" class="button button-secondary button-small button-cancel">'+o(s(null!=(a=null!=e?e.cta:e)?a.cancel:a,e))+'</a> \n		<a href="#" class="button button-important button-small button-confirm">'+o(s(null!=(a=null!=e?e.manual:e)?a.confirmbuttontext:a,e))+"</a>\n	</p>\n</div>"},"useData":!0}),t.queue_confirmdialog_nocancel=e({"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,n,i){var a,s=this.lambda,o=this.escapeExpression;return'	<p class="button_container">\n		<a href="#" class="button button button-small button-confirm">'+o(s(null!=(a=null!=e?e.cta:e)?a.ok:a,e))+"</a>\n	</p>\n</div>"},"useData":!0}),t.queue_gsfdevicereminder=e({"1":function(e,t,n,i){return'<div class="gsf_device_reminder_container gsf_device_reminder_native gsf_device_reminder_active">\n'},"3":function(e,t,n,i){return'<div class="gsf_device_reminder_container gsf_device_reminder_active">\n'},"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,n,i){var a,s=this.lambda,o=this.escapeExpression,r="";return a=t["if"].call(e,null!=(a=null!=e?e.manual:e)?a.nativeappsupport:a,{"name":"if","hash":{},"fn":this.program(1,i),"inverse":this.program(3,i),"data":i}),null!=a&&(r+=a),r+'	<div class="gsf_device_reminder">\n		<a class="close" href="#">'+o(s(null!=(a=null!=e?e.cta:e)?a.close:a,e))+'</a>\n		<div class="gsf_device_reminder_content_native">\n			<a class="gsf_device_reminder_native_link" href="http://getpocket.com/welcome" target="_blank"></a>\n			<p>'+o(s(null!=(a=null!=e?e.gsf:e)?a.optimizedapp:a,e))+'</p>\n		</div>\n		<div class="gsf_device_reminder_content">\n			<h5>'+o(s(null!=(a=null!=e?e.gsf:e)?a.takepocketwithyou:a,e))+"</h5>\n			<p>"+o(s(null!=(a=null!=e?e.gsf:e)?a.availableon:a,e))+' <a href="http://getpocket.com/apps/link/pocket-iphone/" target="_blank">iPhone</a>,\n				<a href="http://getpocket.com/apps/link/pocket-iphone/" target="_blank">iPad</a>,\n				<a href="http://getpocket.com/apps/link/pocket-android/" target="_blank">Android</a>, '+o(s(null!=(a=null!=e?e.gsf:e)?a.and:a,e))+'\n				<a href="http://getpocket.com/apps/link/pocket-amazon/" target="_blank">Kindle Fire</a>.\n			</p>\n		</div>\n	</div>\n</div>'},"useData":!0}),t.queue_gsfpremreminder=e({"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,n,i){var a,s=this.lambda,o=this.escapeExpression;return'<div class="gsf_device_reminder_container gsf_device_reminder_active">\n	<div class="gsf_device_reminder">\n		<a class="close" href="#">'+o(s(null!=(a=null!=e?e.cta:e)?a.close:a,e))+"</a>\n		<h5>"+o(s(null!=(a=null!=e?e.gsf:e)?a.enjoypremiummonth:a,e))+"</h5>\n		<p>"+o(s(null!=(a=null!=e?e.gsf:e)?a.enjoypremiummonthtwo:a,e))+"</p>\n	</div>\n</div>"},"useData":!0}),t.queue_helpoverlay=e({"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,n,i){var a,s=this.lambda,o=this.escapeExpression;return'<div class="chardinjs-keyboard">\n    <ul>\n        <li class="header">'+o(s(null!=(a=null!=e?e.help:e)?a.keyboardqueueview:a,e))+"</li>\n        <li><span>"+o(s(null!=(a=null!=e?e.manual:e)?a.help_lfa:a,e))+"</span>"+o(s(null!=(a=null!=e?e.help:e)?a.switchhomefavarchive:a,e))+"</li>\n        <li><span>"+o(s(null!=(a=null!=e?e.manual:e)?a.help_rvi:a,e))+"</span>"+o(s(null!=(a=null!=e?e.help:e)?a.filterarticlesvidsimages:a,e))+"</li>\n        <li><span>"+o(s(null!=(a=null!=e?e.manual:e)?a.help_s:a,e))+"</span>"+o(s(null!=(a=null!=e?e.help:e)?a.focussearch:a,e))+"</li>\n        <li><span>"+o(s(null!=(a=null!=e?e.manual:e)?a.help_u:a,e))+"</span>"+o(s(null!=(a=null!=e?e.queue:e)?a.saveurl:a,e))+"</li>\n        <li><span>"+o(s(null!=(a=null!=e?e.manual:e)?a.help_b:a,e))+"</span>"+o(s(null!=(a=null!=e?e.queue:e)?a.bulkedit:a,e))+"</li>\n        <li><span>"+o(s(null!=(a=null!=e?e.manual:e)?a.help_n:a,e))+"</span>"+o(s(null!=(a=null!=e?e.help:e)?a.sortbynewest:a,e))+"</li>\n        <li><span>"+o(s(null!=(a=null!=e?e.manual:e)?a.help_o:a,e))+"</span>"+o(s(null!=(a=null!=e?e.help:e)?a.sortbyoldest:a,e))+"</li>\n        <li><span>"+o(s(null!=(a=null!=e?e.manual:e)?a.help_l:a,e))+"</span>"+o(s(null!=(a=null!=e?e.queue:e)?a.switchtolistview:a,e))+"</li>\n        <li><span>"+o(s(null!=(a=null!=e?e.manual:e)?a.help_t:a,e))+"</span>"+o(s(null!=(a=null!=e?e.queue:e)?a.switchtotileview:a,e))+"</li>\n        <li><span>"+o(s(null!=(a=null!=e?e.manual:e)?a.help_vw:a,e))+"</span>"+o(s(null!=(a=null!=e?e.reader:e)?a.changelight:a,e))+"</li>\n        <li><span>"+o(s(null!=(a=null!=e?e.manual:e)?a.help_vd:a,e))+"</span>"+o(s(null!=(a=null!=e?e.reader:e)?a.changedark:a,e))+"</li>\n        <li><span>"+o(s(null!=(a=null!=e?e.manual:e)?a.help_vs:a,e))+"</span>"+o(s(null!=(a=null!=e?e.reader:e)?a.changesepia:a,e))+" ("+o(s(null!=(a=null!=e?e.reader:e)?a.articleview:a,e))+")</li>\n        <li><span>a</span>"+o(s(null!=(a=null!=e?e.help:e)?a.archiveselected:a,e))+"</li>\n        <li><span>f</span>"+o(s(null!=(a=null!=e?e.help:e)?a.favoriteselected:a,e))+"</li>\n        <li><span>j/k</span>"+o(s(null!=(a=null!=e?e.help:e)?a.selectnextprev:a,e))+"</li>\n        <li><span>o</span>"+o(s(null!=(a=null!=e?e.help:e)?a.vieworigselected:a,e))+"</li>\n        <li><span>t</span>"+o(s(null!=(a=null!=e?e.help:e)?a.tagselected:a,e))+"</li>\n        <li><span>"+o(s(null!=(a=null!=e?e.help:e)?a.enterreturn:a,e))+"</span>"+o(s(null!=(a=null!=e?e.help:e)?a.openselected:a,e))+"</li>\n        <li><span>?</span>"+o(s(null!=(a=null!=e?e.help:e)?a.viewhelp:a,e))+"</li>\n    </ul>\n</div>"},"useData":!0}),t.queue_itembuttons=e({"1":function(e,t,n,i){var a,s=this.lambda,o=this.escapeExpression;return'        <li class="item_content_hidecontainer">\n            <a class="item_content_overflow" data-feeditemid="'+o(s(null!=(a=null!=e?e.manual:e)?a.recommend_feeditemid:a,e))+'" href="#">\n                <svg class="sponsor_icon" viewBox="0 0 25 25"><circle cx="12.336" cy="12.25" r="2.25"/><circle cx="20.15" cy="12.25" r="2.25"/><circle cx="4.85" cy="12.25" r="2.25"/></svg>\n            </a>\n        </li>\n'},"3":function(e,t,n,i){var a,s=this.lambda,o=this.escapeExpression,r='\n    	<li class="action_share" title="'+o(s(null!=(a=null!=e?e.cta:e)?a.share:a,e))+'"><a href="#">'+o(s(null!=(a=null!=e?e.cta:e)?a.share:a,e))+"</a></li>\n";return a=t["if"].call(e,null!=(a=null!=e?e.manual:e)?a.item_buttonarchived:a,{"name":"if","hash":{},"fn":this.program(4,i),"inverse":this.program(6,i),"data":i}),null!=a&&(r+=a),r+'    	<li class="action_delete" title="'+o(s(null!=(a=null!=e?e.cta:e)?a["delete"]:a,e))+'"><a href="#">'+o(s(null!=(a=null!=e?e.cta:e)?a["delete"]:a,e))+'</a></li>\n    	<li class="action_tag" title="'+o(s(null!=(a=null!=e?e.tag:e)?a.edittags:a,e))+'"><a href="#">'+o(s(null!=(a=null!=e?e.tag:e)?a.edittags:a,e))+'</a></li>\n    	<li class="action_favorite '+o(s(null!=(a=null!=e?e.manual:e)?a.item_buttonfavorited:a,e))+'" title="'+o(s(null!=(a=null!=e?e.cta:e)?a.favorite:a,e))+'"><a href="#">'+o(s(null!=(a=null!=e?e.cta:e)?a.favorite:a,e))+"</a></li>\n"},"4":function(e,t,n,i){var a,s=this.lambda,o=this.escapeExpression;return'    	<li class="action_mark action_mark_archived selected" title="'+o(s(null!=(a=null!=e?e.cta:e)?a.addtolist:a,e))+'"><a href="#">'+o(s(null!=(a=null!=e?e.cta:e)?a.addtolist:a,e))+"</a></li>\n"},"6":function(e,t,n,i){var a,s=this.lambda,o=this.escapeExpression;return'    	<li class="action_mark" title="'+o(s(null!=(a=null!=e?e.cta:e)?a.archive:a,e))+'"><a href="#">'+o(s(null!=(a=null!=e?e.cta:e)?a.archive:a,e))+"</a></li>\n"},"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,n,i){var a,s='<ul class="buttons">\n';return a=t["if"].call(e,null!=(a=null!=e?e.sponsor:e)?a.isSponsored:a,{"name":"if","hash":{},"fn":this.program(1,i),"inverse":this.program(3,i),"data":i}),null!=a&&(s+=a),s+"</ul>\n"},"useData":!0}),t.queue_itemfriendsdetail=e({"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,n,i){var a,s=this.lambda,o=this.escapeExpression;return"<span class='row_friends'>\n	<span class='collapsed'>\n		<span class='avatar' style='background-image: url("+o(s(null!=(a=null!=e?e.manual:e)?a.item_friendsbgimg:a,e))+");'></span>\n		"+o(s(null!=(a=null!=e?e.manual:e)?a.item_friendslist:a,e))+"\n	</span>\n	<span class='caret'></span>\n</span>"},"useData":!0}),t.queue_itemshell=e({"1":function(e,t,n,i){var a,s=this.lambda,o=this.escapeExpression,r='<li class="item item_withtopic item_type_'+o(s(null!=(a=null!=e?e.manual:e)?a.tile_class:a,e))+'" id="i'+o(s(null!=(a=null!=e?e.manual:e)?a.item_id:a,e))+'" ';return a=s(null!=(a=null!=e?e.manual:e)?a.item_extraattributes:a,e),null!=a&&(r+=a),r+">\n"},"3":function(e,t,n,i){var a,s=this.lambda,o=this.escapeExpression,r='<li class="item item_type_'+o(s(null!=(a=null!=e?e.manual:e)?a.tile_class:a,e))+'" id="i'+o(s(null!=(a=null!=e?e.manual:e)?a.item_id:a,e))+'" ';return a=s(null!=(a=null!=e?e.manual:e)?a.item_extraattributes:a,e),null!=a&&(r+=a),r+">\n"},"5":function(e,t,n,i){var a,s=this.lambda,o=this.escapeExpression;return'		<a class="topic_detail topic_'+o(s(null!=(a=null!=e?e.manual:e)?a.item_topic_id:a,e))+'" href="#">'+o(s(null!=(a=null!=e?e.manual:e)?a.item_topic_desc:a,e))+"</a>\n"},"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,n,i){var a,s=this.lambda,o=this.escapeExpression,r="";return a=t["if"].call(e,null!=(a=null!=e?e.manual:e)?a.item_topic_desc:a,{"name":"if","hash":{},"fn":this.program(1,i),"inverse":this.program(3,i),"data":i}),null!=a&&(r+=a),r+='	<div class="item_content">\n		<a class="'+o(s(null!=(a=null!=e?e.manual:e)?a.item_linkclasses:a,e))+'" href="'+o(s(null!=(a=null!=e?e.manual:e)?a.item_openurl:a,e))+'" target="_blank"></a>\n		<a class="title" href="'+o(s(null!=(a=null!=e?e.manual:e)?a.item_openurl:a,e))+'">'+o(s(null!=(a=null!=e?e.manual:e)?a.item_title:a,e))+'</a>\n		<span class="thumb" variant="'+o(s(null!=(a=null!=e?e.manual:e)?a.item_thumbvariant:a,e))+'"></span>\n		<img class="favicon" data-originalurl="'+o(s(null!=(a=null!=e?e.manual:e)?a.item_originalurl:a,e))+'">\n		<div class="favstate"></div>\n',a=t["if"].call(e,null!=(a=null!=e?e.manual:e)?a.item_topic_desc:a,{"name":"if","hash":{},"fn":this.program(5,i),"inverse":this.noop,"data":i}),null!=a&&(r+=a),r+"	</div>\n</li>\n"},"useData":!0}),t.queue_itemsubdetail_grid=e({"1":function(e,t,n,i){var a,s=this.lambda,o=this.escapeExpression,r="";return a=t["if"].call(e,null!=(a=null!=e?e.manual:e)?a.item_topic_desc:a,{"name":"if","hash":{},"fn":this.program(2,i),"inverse":this.program(4,i),"data":i}),null!=a&&(r+=a),r+='		<span class="tag_container">',a=s(null!=(a=null!=e?e.manual:e)?a.item_tags:a,e),null!=a&&(r+=a),r+'</span>\n		<a class="edit"><span>'+o(s(null!=(a=null!=e?e.queue:e)?a.addtag:a,e))+"</span></a>\n	</li>\n"},"2":function(e,t,n,i){return'	<li class="tags tags-withtopic hasTags">\n'},"4":function(e,t,n,i){return'	<li class="tags hasTags">\n'},"6":function(e,t,n,i){var a,s=this.lambda,o=this.escapeExpression,r="";return a=t["if"].call(e,null!=(a=null!=e?e.manual:e)?a.item_topic_desc:a,{"name":"if","hash":{},"fn":this.program(7,i),"inverse":this.program(9,i),"data":i}),null!=a&&(r+=a),r+='		<span class="tag_container">',a=s(null!=(a=null!=e?e.manual:e)?a.item_tags:a,e),null!=a&&(r+=a),r+'</span>\n		<a class="edit"><span>'+o(s(null!=(a=null!=e?e.queue:e)?a.addtag:a,e))+"</span></a>\n	</li>\n"},"7":function(e,t,n,i){return'	<li class="tags tags-withtopic">\n'},"9":function(e,t,n,i){return'	<li class="tags">\n'},"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,n,i){var a,s=this.lambda,o=this.escapeExpression,r='<ul class="sub clearfix">\n	<li><a class="original_url" href="'+o(s(null!=(a=null!=e?e.manual:e)?a.item_targeturl:a,e))+'" target="_blank" title="'+o(s(null!=(a=null!=e?e.cta:e)?a.vieworiginal:a,e))+'">'+o(s(null!=(a=null!=e?e.manual:e)?a.item_domain:a,e))+'</a></li>\n</ul>\n<ul class="sub-tags">\n';return a=t["if"].call(e,null!=(a=null!=e?e.manual:e)?a.item_tags:a,{"name":"if","hash":{},"fn":this.program(1,i),"inverse":this.program(6,i),"data":i}),null!=a&&(r+=a),r+"</ul>"},"useData":!0}),t.queue_itemsubdetail_list=e({"1":function(e,t,n,i){var a,s=this.lambda,o=this.escapeExpression;return'	<li class="topic">\n		<a class="topic_detail topic_'+o(s(null!=(a=null!=e?e.manual:e)?a.item_topic_id:a,e))+'" href="#">'+o(s(null!=(a=null!=e?e.manual:e)?a.item_topic_desc:a,e))+"</a>\n	</li>\n"},"3":function(e,t,n,i){var a,s=this.lambda,o=this.escapeExpression,r="";return a=t["if"].call(e,null!=(a=null!=e?e.manual:e)?a.item_topic_desc:a,{"name":"if","hash":{},"fn":this.program(4,i),"inverse":this.program(6,i),"data":i}),null!=a&&(r+=a),r+='		<span class="tag_container">',a=s(null!=(a=null!=e?e.manual:e)?a.item_tags:a,e),null!=a&&(r+=a),r+'</span>\n		<a class="edit"><span>'+o(s(null!=(a=null!=e?e.queue:e)?a.addtag:a,e))+"</span></a>\n	</li>\n"},"4":function(e,t,n,i){return'	<li class="tags tags-withtopic hasTags">\n'},"6":function(e,t,n,i){return'	<li class="tags hasTags">\n'},"8":function(e,t,n,i){var a,s=this.lambda,o=this.escapeExpression,r="";return a=t["if"].call(e,null!=(a=null!=e?e.manual:e)?a.item_topic_desc:a,{"name":"if","hash":{},"fn":this.program(9,i),"inverse":this.program(11,i),"data":i}),null!=a&&(r+=a),r+'		<span class="tag_container"></span>\n		<a class="edit"><span>'+o(s(null!=(a=null!=e?e.queue:e)?a.addtag:a,e))+"</span></a>\n	</li>\n"},"9":function(e,t,n,i){return'	<li class="tags tags-withtopic">\n'},"11":function(e,t,n,i){return'	<li class="tags">\n'},"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,n,i){var a,s=this.lambda,o=this.escapeExpression,r='<ul class="sub clearfix">\n	<li class="original_url_container"><a class="original_url" href="'+o(s(null!=(a=null!=e?e.manual:e)?a.item_targeturl:a,e))+'" target="_blank" title="'+o(s(null!=(a=null!=e?e.cta:e)?a.vieworiginal:a,e))+'">'+o(s(null!=(a=null!=e?e.manual:e)?a.item_domain:a,e))+"</a></li>\n";return a=t["if"].call(e,null!=(a=null!=e?e.manual:e)?a.item_topic_desc:a,{"name":"if","hash":{},"fn":this.program(1,i),"inverse":this.noop,"data":i}),null!=a&&(r+=a),a=t["if"].call(e,null!=(a=null!=e?e.manual:e)?a.item_tags:a,{"name":"if","hash":{},"fn":this.program(3,i),"inverse":this.program(8,i),"data":i}),null!=a&&(r+=a),r+'</ul>\n<div class="clear"></div>'},"useData":!0}),t.queue_itemtitle=e({"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,n,i){return"<span class=\"title\"><span>'+tagEntities(title)+'</span></span>"},"useData":!0}),t.queue_navitem=e({"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,n,i){var a,s,o=this.lambda,r=this.escapeExpression,l="function",c=t.helperMissing;return'<div class="toolbar_queue toolbar navigationItem wrapper wrapper_full">\n    <div class="toolbar_queue_divider"></div>\n    <h1 class="pocket_logo">Pocket</h1>\n    <ul class="icons leftItem">\n        <li id="pagenav_sidenav" class="pagenav_sidenav">\n            <a href="#" class="header-nav-toggle"><span></span></a>\n            <span class="inbox_badge"></span>\n        </li>\n        <li class="pagenav_queuedetail">\n            <h2 class="queue_title queue_title_main">'+r(o(null!=(a=null!=e?e.queue:e)?a.mainmenu_home:a,e))+'</h2>\n            <a class="queue_toggle_listqueue queue_toggle_listqueueprimary" href="#">\n                <span class="nav-toggledetail"></span>\n                <span class="nav-togglenotch"></span>\n            </a>\n        </li>\n        <li class="pagenav_sectiontoggle">\n            <a class="queue_togglesection_option queue_togglesection_optionselected queue_togglesection_home">\n                <span class="queue_togglesection_text">'+r(o(null!=(a=null!=e?e.recommended:e)?a.home:a,e))+'</span>\n            </a>\n            <a class="queue_togglesection_option queue_togglesection_recommended">\n                <span class="queue_togglesection_text">'+r(o(null!=(a=null!=e?e.recommended:e)?a.recommended:a,e))+'</span>\n            </a>\n        </li>\n    </ul>\n    <ul class="icons rightItem">\n        <li id="pagenav_searchicon" class="pagenav_searchicon">\n            <a class="hint-item" title="'+r(o(null!=(a=null!=e?e.queue:e)?a.search:a,e))+'" data-intro="'+r(o(null!=(a=null!=e?e.queue:e)?a.search:a,e))+'" data-position="bottom" href="#">'+r(o(null!=(a=null!=e?e.queue:e)?a.search:a,e))+'</a>\n        </li>\n        <li id="pagenav_addarticle">\n            <a class="hint-item" data-intro="'+r(o(null!=(a=null!=e?e.queue:e)?a.saveurl:a,e))+'" data-position="bottomlower" title="'+r(o(null!=(a=null!=e?e.queue:e)?a.saveurl:a,e))+'" href="#">'+r(o(null!=(a=null!=e?e.queue:e)?a.saveurl:a,e))+'</a>\n        </li>\n        <li id="pagenav_inbox">\n            <span class="inbox_badge"></span>\n            <a class="hint-item pagenav_inbox_link" data-intro="'+r(o(null!=(a=null!=e?e.notification:e)?a.viewinbox:a,e))+'" data-position="bottom" title="'+r(o(null!=(a=null!=e?e.notification:e)?a.viewinbox:a,e))+'" href="#">'+r(o(null!=(a=null!=e?e.notification:e)?a.viewinbox:a,e))+'</a>\n        </li>\n        <li id="pagenav_optionsdivider" class="pagenav_optionsdivider">\n            <a href="#"></a>\n        </li>\n        <li id="pagenav_options">\n            <a class="pagenav_options_link" title="'+r((s=null!=(s=t.mainmenu_options||(null!=e?e.mainmenu_options:e))?s:c,typeof s===l?s.call(e,{"name":"mainmenu_options","hash":{},"data":i}):s))+'" href="#">\n                <span class="nav-avatar" style="background-image: url('+r(o(null!=(a=null!=e?e.manual:e)?a.avatarurl:a,e))+');"></span>\n                <span class="nav-username"></span>\n                <span class="nav-downnotch"></span>\n            </a>\n        </li>\n    </ul>\n    <nav class="expanded_toggle expanded_toggle_filter">\n        <ul>\n            <li><a class="expanded_toggle_mylist expanded_toggle_selected" href="#">'+r(o(null!=(a=null!=e?e.queue:e)?a.search_mylist:a,e))+'</a></li>\n            <li><a class="expanded_toggle_archive" href="#">'+r(o(null!=(a=null!=e?e.queue:e)?a.search_archive:a,e))+"</a></li>\n        </ul>\n    </nav>\n</div>"},"useData":!0}),t.queue_noticecontainer=e({"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,n,i){var a,s=this.lambda,o=this.escapeExpression;return'<div class="notice_container chromeex_warning clearfix">\n	<div class="pocket_button_img"></div>\n	<div class="pocket_button_detail">\n		<h4>'+o(s(null!=(a=null!=e?e.gsf:e)?a.haveyouinstalledpocketbutton:a,e))+"</h4>\n		<p>"+o(s(null!=(a=null!=e?e.gsf:e)?a.installingthepocketbuttonclick:a,e))+'</p>\n		<a class="button" href="http://getpocket.com/welcome/" target="_blank">'+o(s(null!=(a=null!=e?e.cta:e)?a.connectnow:a,e))+'</a>\n		<p class="more">'+o(s(null!=(a=null!=e?e.gsf:e)?a.learnmoreways:a,e))+"</p>\n	</div>\n</div>"},"useData":!0}),t.queue_noticepockethits=e({"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,n,i){return'<li class="queue_msg queue_msg_pockethits">\n    <a class="close" href="#">Close</a>\n    <p><a class="target" href="/hits/" target="_blank">Don\'t miss the best stories of the year.<br><span class="emphasis">Explore Pocket\'s Top Hits of 2013</span></a></p>\n</li>'},"useData":!0}),t.queue_optionsprofile=e({"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,n,i){var a,s=this.lambda,o=this.escapeExpression;return'<span class="popover-profile-avatar" style="background-image: url('+o(s(null!=(a=null!=e?e.manual:e)?a.profile_avatarurl:a,e))+');"></span>\n<span class="popover-profile-text">\n    <h5 class="popover-profile-name">'+o(s(null!=(a=null!=e?e.manual:e)?a.profile_name:a,e))+'</h5>\n    <p class="popover-profile-desc">'+o(s(null!=(a=null!=e?e.sharing:e)?a.viewprofile:a,e))+"</p>\n</span>"},"useData":!0}),t.queue_pageshell=e({"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,n,i){var a,s=this.lambda,o=this.escapeExpression;return'<div id="page_queue" class="wrapper wrapper_full">\n	<div class="queue_secondarynav queue_secondarynav_main">\n		<h2 class="queue_title queue_title_main">'+o(s(null!=(a=null!=e?e.queue:e)?a.mainmenu_home:a,e))+'</h2>\n		<a class="queue_toggle_listqueue queue_toggle_listqueuesecondary" href="#">\n            <span class="nav-toggledetail"></span>\n            <span class="nav-togglenotch"></span>\n        </a>\n		<nav class="queue_secondarynav_actions">\n			<ul>\n		        <li class="pagenav_gridlist pagenav_gridview">\n		            <a class="hint-item" data-intro="'+o(s(null!=(a=null!=e?e.queue:e)?a.tilelistviewtoggle:a,e))+'" data-position="bottom" href="#">'+o(s(null!=(a=null!=e?e.queue:e)?a.tileview:a,e))+'</a>\n		        </li>\n		        <li class="pagenav_bulkedit">\n		            <a class="hint-item" title="'+o(s(null!=(a=null!=e?e.queue:e)?a.bulkedit:a,e))+'" data-intro="'+o(s(null!=(a=null!=e?e.queue:e)?a.bulkedit:a,e))+'" data-position="bottomlower" href="#">'+o(s(null!=(a=null!=e?e.queue:e)?a.bulkedit:a,e))+'</a> \n		        </li>\n		    </ul>\n		</nav>\n	</div>\n    <ul id="queue" class="queue_list queue_list_main"></ul>\n    <div class="queue_secondarynav queue_secondarynav_recommend queue_inactive">\n    	<h2 class="queue_title queue_title_recommend">'+o(s(null!=(a=null!=e?e.recommended:e)?a.recommended:a,e))+'</h2>\n    </div>\n    <ul class="queue_list queue_list_recommend queue_inactive">\n    </ul>\n</div>'},"useData":!0}),t.queue_placeholder=e({"1":function(e,t,n,i){var a,s=this.lambda,o=this.escapeExpression,r="		<h3>"+o(s(null!=(a=null!=e?e.gsf:e)?a.saveditemsappear:a,e))+"</h3>\n";return a=t["if"].call(e,null!=(a=null!=e?e.manual:e)?a.placeholderwextension:a,{"name":"if","hash":{},"fn":this.program(2,i),
"inverse":this.program(4,i),"data":i}),null!=a&&(r+=a),r},"2":function(e,t,n,i){var a,s=this.lambda,o=this.escapeExpression;return"		<p>"+o(s(null!=(a=null!=e?e.gsf:e)?a.savecontentfrom:a,e))+"</p>\n"},"4":function(e,t,n,i){var a,s=this.lambda,o=this.escapeExpression;return"		<p>"+o(s(null!=(a=null!=e?e.gsf:e)?a.foreasiersaving:a,e))+'</p>\n		<p><a href="#" class="button button-connect">'+o(s(null!=(a=null!=e?e.cta:e)?a.connect:a,e))+"</a></p>\n"},"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,n,i){var a,s='<li class="item item_placeholder">\n	<div class="item_content">\n';return a=t["if"].call(e,null!=(a=null!=e?e.manual:e)?a.placeholderdesc:a,{"name":"if","hash":{},"fn":this.program(1,i),"inverse":this.noop,"data":i}),null!=a&&(s+=a),s+"	</div>\n</li>"},"useData":!0}),t.queue_placeholder_gamify=e({"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,n,i){var a,s=this.lambda,o=this.escapeExpression;return'<li class="item item_placeholder_gamify">\n    <div class="item_content">\n        <div class="item_placegamify_titlewrapper">\n            <h5 class="item_placegamify_title">'+o(s(null!=(a=null!=e?e.gamify:e)?a.getstartedpocket:a,e))+'</h5>\n        </div>\n        <ul class="item_placegamify_stepscontainer">\n        </ul>\n    </div>\n</li>'},"useData":!0}),t.queue_placeholder_gamifycontent=e({"1":function(e,t,n,i){var a,s=this.lambda,o=this.escapeExpression;return'<div class="item_placegamify_donestar"></div>\n<p class="item_placegamify_donetext">'+o(s(null!=(a=null!=e?e.gamify:e)?a.yaywork:a,e))+'</p>\n<p class="item_placegamify_donetext"><a class="item_placegamify_donedismiss" href="#">'+o(s(null!=(a=null!=e?e.gamify:e)?a.gotit:a,e))+"</a></p>\n"},"3":function(e,t,n,i){var a,s=this.lambda,o=t.blockHelperMissing,r='<li class="item_placegamify_step';return a=o.call(e,s(null!=(a=null!=e?e.manual:e)?a.gamifysteponechecked:a,e),{"name":"manual.gamifysteponechecked","hash":{},"fn":this.program(4,i),"inverse":this.noop,"data":i}),null!=a&&(r+=a),r+='">\n    <a class="item_placegamify_link item_placegamify_linkrecommended" href="#">\n        <span class="item_placegamify_stepnum">\n            <span class="item_placegamify_stepnumtext">1</span>\n            ',a=o.call(e,s(null!=(a=null!=e?e.manual:e)?a.gamifysteponechecked:a,e),{"name":"manual.gamifysteponechecked","hash":{},"fn":this.program(6,i),"inverse":this.noop,"data":i}),null!=a&&(r+=a),r+='\n        </span>\n        <span class="item_placegamify_text">',a=s(null!=(a=null!=e?e.manual:e)?a.savearticlevidrecommended:a,e),null!=a&&(r+=a),r+='</span>\n        <span class="item_placegamify_arrow">&rsaquo;</span>\n    </a>\n</li>\n<li class="item_placegamify_step',a=o.call(e,s(null!=(a=null!=e?e.manual:e)?a.gamifysteptwochecked:a,e),{"name":"manual.gamifysteptwochecked","hash":{},"fn":this.program(4,i),"inverse":this.noop,"data":i}),null!=a&&(r+=a),r+='">\n    <a class="item_placegamify_link item_placegamify_browserbutton" href="#">\n        <span class="item_placegamify_stepnum">\n            <span class="item_placegamify_stepnumtext">2</span>\n            ',a=o.call(e,s(null!=(a=null!=e?e.manual:e)?a.gamifysteptwochecked:a,e),{"name":"manual.gamifysteptwochecked","hash":{},"fn":this.program(6,i),"inverse":this.noop,"data":i}),null!=a&&(r+=a),r+='\n        </span>\n        <span class="item_placegamify_text">',a=s(null!=(a=null!=e?e.manual:e)?a.savebrowserbutton:a,e),null!=a&&(r+=a),r+='</span>\n        <span class="item_placegamify_arrow">&rsaquo;</span>\n    </a>\n</li>\n<li class="item_placegamify_step',a=o.call(e,s(null!=(a=null!=e?e.manual:e)?a.gamifystepthreechecked:a,e),{"name":"manual.gamifystepthreechecked","hash":{},"fn":this.program(4,i),"inverse":this.noop,"data":i}),null!=a&&(r+=a),r+='">\n    <a class="item_placegamify_link item_placegamify_mobileapp" href="#">\n        <span class="item_placegamify_stepnum">\n            <span class="item_placegamify_stepnumtext">3</span>\n            ',a=o.call(e,s(null!=(a=null!=e?e.manual:e)?a.gamifystepthreechecked:a,e),{"name":"manual.gamifystepthreechecked","hash":{},"fn":this.program(6,i),"inverse":this.noop,"data":i}),null!=a&&(r+=a),r+='\n        </span>\n        <span class="item_placegamify_text">',a=s(null!=(a=null!=e?e.manual:e)?a.mobileapp:a,e),null!=a&&(r+=a),r+'</span>\n        <span class="item_placegamify_arrow">&rsaquo;</span>\n    </a>\n</li>\n'},"4":function(e,t,n,i){return" item_placegamify_stepchecked"},"6":function(e,t,n,i){return'<span class="item_placegamify_checkedicon"></span>'},"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,n,i){var a,s=this.lambda,o=t.blockHelperMissing;return a=o.call(e,s(null!=(a=null!=e?e.manual:e)?a.gamifyallstepschecked:a,e),{"name":"manual.gamifyallstepschecked","hash":{},"fn":this.program(1,i),"inverse":this.program(3,i),"data":i}),null!=a?a:""},"useData":!0}),t.queue_placeholder_gamifyempty=e({"1":function(e,t,n,i){return" item_placeholder_gamifymsgactive "},"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,n,i){var a,s=this.lambda,o=t.blockHelperMissing,r=this.escapeExpression,l='<li class="item item_placeholder_gamifyempty">\n    <div class="item_content">\n        <h5 class="item_placeholder_gamifymsg';return a=o.call(e,s(null!=(a=null!=e?e.manual:e)?a.gamifyemptymessage:a,e),{"name":"manual.gamifyemptymessage","hash":{},"fn":this.program(1,i),"inverse":this.noop,"data":i}),null!=a&&(l+=a),l+'">'+r(s(null!=(a=null!=e?e.gamify:e)?a.savedgohere:a,e))+"</h5>\n    </div>\n</li>"},"useData":!0}),t.queue_placeholder_gsf=e({"1":function(e,t,n,i){return'<li class="item item_placeholder_gsf item_placeholder_gsf_recommended">\n'},"3":function(e,t,n,i){return'<li class="item item_placeholder_gsf">\n'},"5":function(e,t,n,i){var a,s=this.lambda,o=this.escapeExpression;return'		<div class="item_placeholder_article clearfix">\n			<p>'+o(s(null!=(a=null!=e?e.manual:e)?a.itemplaceholdertitle:a,e))+'</p>\n			<div class="item_placeholder_articleimg" style="background-image: url('+o(s(null!=(a=null!=e?e.manual:e)?a.itemplaceholderimgsrc:a,e))+');"></div>\n			<a class="item_placeholder_articlelink" href="'+o(s(null!=(a=null!=e?e.manual:e)?a.itemplaceholderlink:a,e))+'" target="_blank"></a>\n		</div>\n'},"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,n,i){var a,s=this.lambda,o=t.blockHelperMissing,r=this.escapeExpression,l="";return a=o.call(e,s(null!=(a=null!=e?e.manual:e)?a.itemplaceholderrecommended:a,e),{"name":"manual.itemplaceholderrecommended","hash":{},"fn":this.program(1,i),"inverse":this.noop,"data":i}),null!=a&&(l+=a),a=o.call(e,s(null!=(a=null!=e?e.manual:e)?a.itemplaceholderrecommended:a,e),{"name":"manual.itemplaceholderrecommended","hash":{},"fn":this.noop,"inverse":this.program(3,i),"data":i}),null!=a&&(l+=a),l+='	<div class="item_content">\n		<h5 class="item_placeholder_title">'+r(s(null!=(a=null!=e?e.gsf:e)?a.youreonaroll:a,e))+"</h5>\n		<p>"+r(s(null!=(a=null!=e?e.gsf:e)?a.keepgoing:a,e))+"</p>\n		<p>",a=s(null!=(a=null!=e?e.manual:e)?a.noopentabssuggestion:a,e),null!=a&&(l+=a),l+="</p>\n",a=o.call(e,s(null!=(a=null!=e?e.manual:e)?a.itemplaceholderrecommended:a,e),{"name":"manual.itemplaceholderrecommended","hash":{},"fn":this.noop,"inverse":this.program(5,i),"data":i}),null!=a&&(l+=a),l+"	</div>\n</li>"},"useData":!0}),t.queue_recommendedappenderror=e({"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,n,i){var a,s=this.lambda,o=this.escapeExpression;return o(s(null!=(a=null!=e?e.recommended:e)?a.couldnotloadadditional:a,e))+' <a href="#" class="recommended_refreshqueueappend">'+o(s(null!=(a=null!=e?e.cta:e)?a.tryagain:a,e))+' <span class="rarrow">&rsaquo;</span></a>'},"useData":!0}),t.queue_recommendedemptyerror=e({"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,n,i){var a,s=this.lambda,o=this.escapeExpression;return'<div class="recommended_empty">\n	<h3>'+o(s(null!=(a=null!=e?e.recommended:e)?a.couldnotload:a,e))+"</h3>\n	<p>"+o(s(null!=(a=null!=e?e.recommended:e)?a.youmustbeonline:a,e))+'</p>\n	<p><a href="#" class="button recommend_refreshqueue">'+o(s(null!=(a=null!=e?e.cta:e)?a.tryagain:a,e))+'</a></p>\n	<div class="recommended_loading recommended_loading_inactive"></div>\n</div>'},"useData":!0}),t.queue_recommendeditemshell=e({"1":function(e,t,n,i){var a,s=this.lambda,o=this.escapeExpression;return'		<div class="format_title">'+o(s(null!=(a=null!=e?e.manual:e)?a.formatTitle:a,e))+"</div>\n"},"3":function(e,t,n,i){var a,s=this.lambda,o=this.escapeExpression;return'		<div class="spoc_header">\n			<a href="/@'+o(s(null!=(a=null!=e?e.sponsor:e)?a.brand_profile:a,e))+'">\n				<div class="spoc_id"><img src="'+o(s(null!=(a=null!=e?e.sponsor:e)?a.brand_avatar:a,e))+'" alt="">'+o(s(null!=(a=null!=e?e.sponsor:e)?a.brand_name:a,e))+'</div>\n				<div class="spoc_label">'+o(s(null!=(a=null!=e?e.sponsor:e)?a.label:a,e))+"</div>\n			</a>\n		</div>\n"},"5":function(e,t,n,i){var a,s=this.lambda,o=this.escapeExpression;return'			<p class="excerpt">'+o(s(null!=(a=null!=e?e.manual:e)?a.recommend_excerpt:a,e))+"</p>\n"},"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,n,i){var a,s=this.lambda,o=this.escapeExpression,r='<li class="item item_recommend item_type_'+o(s(null!=(a=null!=e?e.manual:e)?a.recommend_tileclass:a,e))+" "+o(s(null!=(a=null!=e?e.manual:e)?a.sponsored:a,e))+'" id="i'+o(s(null!=(a=null!=e?e.manual:e)?a.recommend_itemid:a,e))+'"\n	data-feeditemid="'+o(s(null!=(a=null!=e?e.manual:e)?a.recommend_feeditemid:a,e))+'"\n	data-itemurl="'+o(s(null!=(a=null!=e?e.manual:e)?a.recommend_saveurl:a,e))+'"\n	data-impressionid="'+o(s(null!=(a=null!=e?e.sponsor:e)?a.impressionid:a,e))+'">\n	<div class="item_content">\n';return a=t["if"].call(e,null!=(a=null!=e?e.manual:e)?a.formatTitle:a,{"name":"if","hash":{},"fn":this.program(1,i),"inverse":this.noop,"data":i}),null!=a&&(r+=a),a=t["if"].call(e,null!=(a=null!=e?e.sponsor:e)?a.isSponsored:a,{"name":"if","hash":{},"fn":this.program(3,i),"inverse":this.noop,"data":i}),null!=a&&(r+=a),r+='		<span class="thumb"></span>\n		<a class="item_link" href="'+o(s(null!=(a=null!=e?e.manual:e)?a.recommend_url:a,e))+'" target="_blank"></a>\n		<div class="item_content_text">\n			<a class="title" href="'+o(s(null!=(a=null!=e?e.manual:e)?a.recommend_url:a,e))+'">'+o(s(null!=(a=null!=e?e.manual:e)?a.recommend_title:a,e))+'</a>\n			<p class="domain">'+o(s(null!=(a=null!=e?e.manual:e)?a.recommend_domain:a,e))+"</p>\n",a=t["if"].call(e,null!=(a=null!=e?e.manual:e)?a.recommend_showexcerpt:a,{"name":"if","hash":{},"fn":this.program(5,i),"inverse":this.noop,"data":i}),null!=a&&(r+=a),r+'			<nav class="item_content_actions recommend_footer">\n				<ul class="item_content_actionscontainer">\n					<li class="item_content_savecontainer">\n					<a class="item_content_save" data-saveurl="'+o(s(null!=(a=null!=e?e.manual:e)?a.recommend_saveurl:a,e))+'" href="#">\n						<svg class="item_save_icon" viewBox="0 0 100 100"><path d="M13.44 10.11c-3.34 0-6.38 2.1-7.57 5.23-.35.93-.53 1.89-.53 2.88v26.95l.31 5.36c1.29 12.19 7.62 22.85 17.41 30.28.18.13.35.26.53.39l.11.08c5.25 3.84 11.13 6.44 17.47 7.71 2.93.59 5.92.89 8.89.89 2.75 0 5.51-.25 8.22-.76.33-.06.65-.12.98-.19.09-.02.19-.05.29-.1 6.07-1.33 11.71-3.86 16.76-7.55l.11-.08c.18-.13.36-.26.53-.39 9.79-7.43 16.12-18.08 17.41-30.28l.31-5.36V18.21c0-.93-.11-1.86-.44-2.77-1.16-3.19-4.22-5.34-7.61-5.34h-.05M75.31 43.53L54.3 63.68c-1.19 1.14-2.71 1.71-4.24 1.71-1.53 0-3.06-.57-4.24-1.71L24.81 43.53c-2.44-2.34-2.52-6.22-.18-8.66 2.34-2.44 6.22-2.52 8.66-.18l16.78 16.09 16.77-16.09c2.44-2.34 6.32-2.26 8.66.18 2.33 2.44 2.25 6.31-.19 8.66z"/></svg>\n						<span class="item_content_savetext">'+o(s(null!=(a=null!=e?e.cta:e)?a.save:a,e))+'</span>\n					</a>\n					</li>\n					<li class="item_content_hidecontainer">\n						<a class="item_content_overflow" data-feeditemid="'+o(s(null!=(a=null!=e?e.manual:e)?a.recommend_feeditemid:a,e))+'" href="#">\n							<svg class="item_overflow_icon" viewBox="0 0 25 25"><circle cx="12.336" cy="12.25" r="2.25"/><circle cx="20.15" cy="12.25" r="2.25"/><circle cx="4.85" cy="12.25" r="2.25"/></svg>\n						</a>\n					</li>\n				</ul>\n			</nav>\n		</div>\n	</div>\n</li>\n'},"useData":!0}),t.queue_recommendedmessagenew=e({"1":function(e,t,n,i){return'<li class="item item_recommend item_recommend_msg item_recommend_msgenglish">\n'},"3":function(e,t,n,i){return'<li class="item item_recommend item_recommend_msg">\n'},"5":function(e,t,n,i){var a,s=this.lambda,o=this.escapeExpression;return'			<p class="item_recommend_msgcontent item_recommend_msgcontentgamify">'+o(s(null!=(a=null!=e?e.recommended:e)?a.clickpocketbutton:a,e))+"</p>\n"},"7":function(e,t,n,i){var a,s="";return a=t["if"].call(e,null!=(a=null!=e?e.manual:e)?a.recommendedmsg_existing:a,{"name":"if","hash":{},"fn":this.program(8,i),"inverse":this.program(10,i),"data":i}),null!=a&&(s+=a),s},"8":function(e,t,n,i){var a,s=this.lambda,o=this.escapeExpression;return'			<h5 class="item_recommend_msgheader">'+o(s(null!=(a=null!=e?e.recommended:e)?a.newinpocket:a,e))+'</h5>\n			<p class="item_recommend_msgcontent">'+o(s(null!=(a=null!=e?e.recommended:e)?a.featurestoparticles:a,e))+"</p>\n"},"10":function(e,t,n,i){var a,s=this.lambda,o=this.escapeExpression;return'			<h5 class="item_recommend_msgheader">'+o(s(null!=(a=null!=e?e.recommended:e)?a.trendinginpocket:a,e))+'</h5>\n			<p class="item_recommend_msgcontent">'+o(s(null!=(a=null!=e?e.recommended:e)?a.getsbetter:a,e))+"</p>\n"},"12":function(e,t,n,i){return'		<div class="item_recommend_msgarrow"></div>\n'},"14":function(e,t,n,i){var a,s=this.lambda,o=this.escapeExpression,r='		<p class="item_recommend_msgdisclaim">'+o(s(null!=(a=null!=e?e.recommended:e)?a.onlyenglish:a,e))+'</p>\n		<p class="item_recommend_msghowtosave">';return a=s(null!=(a=null!=e?e.manual:e)?a.recommendedmsg_howtosave:a,e),null!=a&&(r+=a),r+"</p>\n"},"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,n,i){var a,s=this.lambda,o=this.escapeExpression,r="";return a=t["if"].call(e,null!=(a=null!=e?e.manual:e)?a.recommendedmsg_english:a,{"name":"if","hash":{},"fn":this.program(1,i),"inverse":this.program(3,i),"data":i}),null!=a&&(r+=a),r+='	<div class="item_content">\n		<a class="item_recommend_msgclose" href="#">'+o(s(null!=(a=null!=e?e.cta:e)?a.close:a,e))+'</a>\n		<div class="item_recommend_msgtext">\n',a=t["if"].call(e,null!=(a=null!=e?e.manual:e)?a.recommendedmsg_gamifymode:a,{"name":"if","hash":{},"fn":this.program(5,i),"inverse":this.program(7,i),"data":i}),null!=a&&(r+=a),r+="		</div>\n",a=t["if"].call(e,null!=(a=null!=e?e.manual:e)?a.recommendedmsg_gamifymode:a,{"name":"if","hash":{},"fn":this.program(12,i),"inverse":this.program(14,i),"data":i}),null!=a&&(r+=a),r+"	</div>\n</li>"},"useData":!0}),t.queue_recommendedmoreactions=e({"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,n,i){var a,s=this.lambda,o=this.escapeExpression;return'<ul class="popover-new-list">\n	<li class="popover-new-listitem popover-reportproblem">\n		<a class="popover-reportproblem-action" href="#">'+o(s(null!=(a=null!=e?e.recommended:e)?a.reportitem:a,e))+' <span class="more-icon more-problem-icon"></a>\n	</li>\n</ul>'},"useData":!0}),t.queue_recommendedoverflow=e({"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,n,i){return'\n<ul class="popover-new-list">\n	<li class="popover-new-listitem 0" val="0">\n		<a href="#" class="rec-overflow-hide-this">\n		<svg class="overflow_icon icon_hide_this" viewBox="0 0 25 25"><path d="M14.854,12.536l3.814-3.825c0.644-0.645,0.643-1.689-0.003-2.333s-1.689-0.643-2.333,0.003 l-3.81,3.818L8.668,6.335C8.024,5.689,6.98,5.688,6.335,6.332S5.688,8.019,6.332,8.665l3.86,3.871l-3.743,3.753 c-0.644,0.645-0.643,1.689,0.003,2.333s1.689,0.643,2.333-0.003l3.737-3.747l3.783,3.793c0.322,0.323,0.745,0.485,1.168,0.485 c0.422,0,0.843-0.161,1.165-0.482c0.646-0.644,0.646-1.688,0.003-2.333L14.854,12.536z"/></svg>\n		Hide This </a>\n	</li>\n	<li class="popover-new-listitem 1" val="1">\n		<a href="#" class="rec-overflow-copy-url">\n		<svg class="overflow_icon icon_copy_url" viewBox="0 0 25 25"><g>\n			<path d="M20.623,11.87c1.709-1.72,1.71-4.51,0-6.231c-0.855-0.86-1.975-1.29-3.095-1.29s-2.241,0.43-3.096,1.29l-3.714,3.739 c-1.472,1.482-1.673,3.757-0.607,5.46l1.696-1.707c0.224-0.225,0.304-0.548,0.216-0.863c-0.09-0.321,0.008-0.667,0.254-0.892 l1.904-1.742l2.111-2.125c0.342-0.344,0.79-0.516,1.238-0.516c0.448,0,0.896,0.172,1.238,0.516c0.683,0.689,0.683,1.804,0,2.493 l-2.327,2.342c0.047,1.419-0.476,2.835-1.538,3.902l-0.623,0.628c0.961-0.102,1.895-0.523,2.631-1.264L20.623,11.87z"/>\n			<path d="M14.893,10.167l-0.089,0.09c-0.01,0.01-0.02,0.02-0.03,0.029l-1.903,1.742c0.007,0.027,0.011,0.055,0.017,0.082 c0.008,0.034,0.016,0.069,0.022,0.103c0.099,0.566-0.072,1.131-0.479,1.541l-1.696,1.707c-0.012,0.012-0.025,0.02-0.037,0.03 L8.71,17.492c-0.342,0.344-0.79,0.516-1.238,0.516c-0.448,0-0.896-0.172-1.238-0.516c-0.683-0.689-0.683-1.804,0-2.493l2.333-2.348 c-0.045-1.416,0.478-2.83,1.538-3.897l0.625-0.628C9.766,8.228,8.829,8.648,8.091,9.391L4.376,13.13c-1.708,1.72-1.71,4.51,0,6.231 c0.855,0.86,1.975,1.29,3.096,1.29c1.121,0,2.241-0.43,3.096-1.29l3.714-3.739C15.754,14.141,15.956,11.869,14.893,10.167z"/></g></svg>\n			Copy URL\n		</a>\n	</li>\n	<li class="popover-new-listitem 2 onspoc" val="2">\n		<a href="https://help.getpocket.com/customer/portal/articles/2061219" target="_blank" class="rec-overflow-aboutsponsor">\n		<svg class="overflow_icon icon_about_sponsor" viewBox="0 0 25 25"><path d="M21.656,20.083c-0.016-0.011-1.206-0.842-1.96-2.403c1.205-1.435,1.93-3.229,1.93-5.183 c0-4.694-4.141-8.5-9.25-8.5s-9.25,3.806-9.25,8.5s4.141,8.5,9.25,8.5c1.46,0,2.835-0.319,4.063-0.873 c1.054,0.47,2.545,0.878,4.551,0.878c0.131,0,0.264-0.002,0.399-0.005c0.217-0.006,0.405-0.151,0.466-0.359 C21.916,20.43,21.835,20.205,21.656,20.083z M10.261,10.554L9.013,9.153c0.816-0.955,2.047-1.493,3.372-1.493 c1.986,0,3.203,1.001,3.203,2.433c0,2.248-2.571,2.417-2.571,3.71c0,0.119,0.03,0.241,0.077,0.351H11.19 c-0.049-0.178-0.083-0.365-0.083-0.567c0-1.832,2.248-2.048,2.248-3.11c0-0.477-0.354-0.877-1.201-0.877 C11.385,9.599,10.738,9.984,10.261,10.554z M12.354,18.252c-0.677,0-1.247-0.57-1.247-1.247c0-0.677,0.57-1.247,1.247-1.247 c0.677,0,1.247,0.57,1.247,1.247C13.601,17.682,13.032,18.252,12.354,18.252z"/></svg>\n			About Sponsored Posts\n		</a>\n	</li>\n	<li class="popover-new-listitem 3 last onspoc" val="3">\n		<a href="https://getpocket.com/premium/hide_sponsorship" target="_blank" class="rec-overflow-hidesponsor" target="_blank">\n		<svg class="overflow_icon icon_hide_all" viewBox="0 0 25 25"><path d="M20.978,6.137C20.609,4.66,16.958,3.5,12.506,3.5c-4.452,0-8.102,1.16-8.472,2.637C4.019,6.198,4.01,6.259,4.006,6.321 l0,0.063L4,16.478c0,0.423,0.252,0.813,0.677,1.043l2.253,1.214l3.675,1.98l1.103,0.594c0.235,0.125,0.506,0.192,0.784,0.192 c0.275,0,0.544-0.065,0.781-0.19l1.02-0.543l3.698-1.97l2.309-1.23c0.358-0.19,0.593-0.495,0.662-0.839 C20.986,16.639,21,16.549,21,16.455V6.383V6.234C20.995,6.202,20.986,6.169,20.978,6.137z M16.337,11.467l-5.352,5.944 c-0.054,0.06-0.133,0.092-0.214,0.092c-0.037,0-0.074-0.007-0.109-0.021l-0.007-0.003l-0.132-0.052 c-0.132-0.052-0.199-0.188-0.152-0.313l1.407-3.77H8.942c-0.107,0-0.204-0.056-0.25-0.145c-0.046-0.088-0.032-0.193,0.036-0.268 l5.377-5.962c0.087-0.097,0.239-0.12,0.357-0.056l0.125,0.069c0.111,0.061,0.161,0.185,0.119,0.298l-1.418,3.774h2.834 c0.107,0,0.204,0.056,0.25,0.144C16.419,11.287,16.404,11.392,16.337,11.467z"/></svg>\n			Hide All Sponsored Posts\n		</a>\n	</li>\n</ul>\n\n'},"useData":!0}),t.queue_recommendedreportitem=e({"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,n,i){var a,s=this.lambda,o=this.escapeExpression;return'<div class="overlay_detail overlay_detail_reportitem">\n	<a class="close">'+o(s(null!=(a=null!=e?e.cta:e)?a.close:a,e))+"</a>\n	<h3>"+o(s(null!=(a=null!=e?e.recommended:e)?a.hideitem:a,e))+"</h3>\n	<h5>"+o(s(null!=(a=null!=e?e.recommended:e)?a.whyhiding:a,e))+'</h5>\n\n	<div class="option-row">\n		<input type="radio" name="reason" id="reason_1" value="3"><label for="reason_1">'+o(s(null!=(a=null!=e?e.recommended:e)?a.notinteresting:a,e))+'</label>\n	</div>\n	<div class="option-row">\n		<input type="radio" name="reason" id="reason_2" value="4"><label for="reason_2">'+o(s(null!=(a=null!=e?e.recommended:e)?a.alreadyseen:a,e))+'</label>\n	</div>\n	<div class="option-row">\n		<input type="radio" name="reason" id="reason_3" value="5"><label for="reason_3">'+o(s(null!=(a=null!=e?e.recommended:e)?a.offensive:a,e))+'</label>\n	</div>\n	<div class="option-row">\n		<input type="radio" name="reason" id="reason_4" value="2"><label for="reason_4">'+o(s(null!=(a=null!=e?e.recommended:e)?a.spam:a,e))+'</label>\n	</div>\n	<div class="button-container">\n		<div class="overlay_detail_reportitemprocessing"></div>\n		<a href="#" class="button button-disabled button-hide">'+o(s(null!=(a=null!=e?e.recommended:e)?a.hide:a,e))+'</a>\n	</div>\n	<div class="extralink-container">\n		<a href="http://help.getpocket.com/customer/portal/articles/2061219" target="_blank" class="option-whyrecommended">'+o(s(null!=(a=null!=e?e.recommended:e)?a.whyrecommended:a,e))+"</a>\n	</div>\n</div>\n"},"useData":!0}),t.queue_searchchip=e({"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,n,i){return'<li class="search-chip">\n	<span class="search-chip-icon"></span>\n    <p></p>\n    <span class="search-chip-delete">x</span>\n</li>'},"useData":!0}),t.queue_searchitem=e({"1":function(e,t,n,i){var a,s=this.lambda,o=this.escapeExpression;return'                <li><a class="allitems" href="#">'+o(s(null!=(a=null!=e?e.queue:e)?a.search_allitems:a,e))+"</a></li>\n"},"3":function(e,t,n,i){return'            <ul class="search-instr-recent search-instr-premium">\n'},"5":function(e,t,n,i){return'            <ul class="search-instr-recent">\n'},"7":function(e,t,n,i){var a,s=this.lambda,o=this.escapeExpression;return'                <li class="instructions instructions-basic">'+o(s(null!=(a=null!=e?e.queue:e)?a.search_trysearching:a,e))+'</li>\n                <li class="recentsearch recentsearch-header"><h3>'+o(s(null!=(a=null!=e?e.queue:e)?a.search_recentlysearched:a,e))+'</h3></li>\n                <li class="recentsearch recentsearch-1"><a href="#"></a></li>\n                <li class="recentsearch recentsearch-2"><a href="#"></a></li>\n                <li class="recentsearch recentsearch-3"><a href="#"></a></li>\n                <li class="recentsearch recentsearch-4"><a href="#"></a></li>\n                <li class="recentsearch recentsearch-5"><a href="#"></a></li>\n'},"9":function(e,t,n,i){var a,s=this.lambda,o=this.escapeExpression;return'                <li class="instructions instructions-basic">'+o(s(null!=(a=null!=e?e.queue:e)?a.searchbytitleurl:a,e))+"</li>\n"},"11":function(e,t,n,i){var a,s=this.lambda,o=this.escapeExpression;return'    <nav class="expanded_toggle expanded_toggle_search expanded_toggle_search_premium">\n        <ul>\n            <li class="expanded_allitems"><a class="expanded_toggle_allitems expanded_toggle_selected" href="#">'+o(s(null!=(a=null!=e?e.queue:e)?a.search_allitems:a,e))+'</a></li>\n            <li><a class="expanded_toggle_mylist" href="#">'+o(s(null!=(a=null!=e?e.queue:e)?a.search_mylist:a,e))+'</a></li>\n            <li><a class="expanded_toggle_archive" href="#">'+o(s(null!=(a=null!=e?e.queue:e)?a.search_archive:a,e))+"</a></li>\n        </ul>\n    </nav>\n"},"13":function(e,t,n,i){var a,s=this.lambda,o=this.escapeExpression;return'    <nav class="expanded_toggle expanded_toggle_search">\n        <ul>\n            <li><a class="expanded_toggle_mylist expanded_toggle_selected" href="#">'+o(s(null!=(a=null!=e?e.queue:e)?a.search_mylist:a,e))+'</a></li>\n            <li><a class="expanded_toggle_archive" href="#">'+o(s(null!=(a=null!=e?e.queue:e)?a.search_archive:a,e))+"</a></li>\n        </ul>\n    </nav>\n"},"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,n,i){var a,s=this.lambda,o=this.escapeExpression,r='<div class="searchtoolbar_screenbar"></div>\n<div class="searchtoolbar_queue toolbar navigationItem wrapper wrapper_full">\n    <h1 class="pocket_logo">Pocket</h1>\n    <ul class="icons leftItem">\n        <li><h2></h2></li>\n    </ul>\n    <ul class="icons rightItem">\n        <li id="searchnav_sortby" class="searchnav-sortby-relevancy">\n            <a class="hint-item" title="'+o(s(null!=(a=null!=e?e.queue:e)?a.search_sortbytooltip:a,e))+'" class="searchnav-sortby-disabled" href="#">'+o(s(null!=(a=null!=e?e.queue:e)?a.search_sortbytooltip:a,e))+'</a>\n        </li>\n        <li class="section-filter section-filter-disabled">\n            <div class="section-filter-value hint-item" title="'+o(s(null!=(a=null!=e?e.queue:e)?a.search_options:a,e))+'">\n                <span class="section-filter-value-text">'+o(s(null!=(a=null!=e?e.queue:e)?a.search_allitems:a,e))+'</span>\n                <span class="section-filter-downnotch"></span>\n            </div>\n            <ul class="section-filter-options">\n';return a=t["if"].call(e,null!=(a=null!=e?e.manual:e)?a.premium:a,{"name":"if","hash":{},"fn":this.program(1,i),"inverse":this.noop,"data":i}),null!=a&&(r+=a),r+='                <li><a class="mylist" href="#">'+o(s(null!=(a=null!=e?e.queue:e)?a.search_mylist:a,e))+'</a></li>\n                <li><a class="archive" href="#">'+o(s(null!=(a=null!=e?e.queue:e)?a.search_archive:a,e))+'</a></li>\n            </ul>\n        </li>\n        <li class="wrapper_search clearfix">\n            <div class="search-input-wrapper">\n                <ul class="search-input-list">\n                    <li class="search-input">\n                        <input id="page_search" type="text" placeholder="'+o(s(null!=(a=null!=e?e.queue:e)?a.search:a,e))+'" maxlength="100">\n                    </li>\n                </ul>\n            </div>\n',a=t["if"].call(e,null!=(a=null!=e?e.manual:e)?a.premium:a,{"name":"if","hash":{},"fn":this.program(3,i),"inverse":this.program(5,i),"data":i}),null!=a&&(r+=a),a=t["if"].call(e,null!=(a=null!=e?e.manual:e)?a.premium:a,{"name":"if","hash":{},"fn":this.program(7,i),"inverse":this.program(9,i),"data":i}),null!=a&&(r+=a),r+='            </ul>\n        </li>\n        <li id="search_close">\n            <a href="#">'+o(s(null!=(a=null!=e?e.cta:e)?a.close:a,e))+"</a>\n        </li>\n    </ul>\n",a=t["if"].call(e,null!=(a=null!=e?e.manual:e)?a.premium:a,{"name":"if","hash":{},"fn":this.program(11,i),"inverse":this.program(13,i),"data":i}),null!=a&&(r+=a),r+"</div>"},"useData":!0}),t.queue_sharesheetnameemailprompt=e({"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,n,i){var a,s=this.lambda,o=this.escapeExpression;return'<div class="overlay_detail overlay_detail_sharesheet overlay_detail_sharesheet_updateprofile">\n    <a class="close" href="#">'+o(s(null!=(a=null!=e?e.cta:e)?a.close:a,e))+'</a>\n    <form class="sharesheet_form sharesheet_updateprofile_form">\n        <h2 class="sharesheet_updateprofile_header">'+o(s(null!=(a=null!=e?e.sharing:e)?a.completeyourprofile:a,e))+'</h2>\n\n        <h5 class="sharesheet_updateprofile_subheader">'+o(s(null!=(a=null!=e?e.login:e)?a.firstname:a,e))+'</h5>\n        <input class="sharesheet_updateprofile_field sharesheet_updateprofile_firstname" type="text" name="firstname" value="'+o(s(null!=(a=null!=e?e.manual:e)?a.updateprofile_firstname:a,e))+'">\n\n        <h5 class="sharesheet_updateprofile_subheader">'+o(s(null!=(a=null!=e?e.login:e)?a.lastname:a,e))+'</h5>\n        <input class="sharesheet_updateprofile_field sharesheet_updateprofile_lastname" type="text" name="lastname" value="'+o(s(null!=(a=null!=e?e.manual:e)?a.updateprofile_lastname:a,e))+'">\n\n        <h5 class="sharesheet_updateprofile_subheader">'+o(s(null!=(a=null!=e?e.login:e)?a.email:a,e))+'</h5>\n        <input class="sharesheet_updateprofile_field sharesheet_updateprofile_email" type="text" name="email" value="'+o(s(null!=(a=null!=e?e.manual:e)?a.updateprofile_email:a,e))+'">\n\n        <a class="button button_sharesheet" href="#">'+o(s(null!=(a=null!=e?e.cta:e)?a.save:a,e))+"</a>\n    </form>\n</div>"},"useData":!0}),t.queue_sharesheetsendfriendavatar=e({"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,n,i){var a,s=this.lambda,o=this.escapeExpression;return'<li class="sharesheet_stftoken">\n    <img class="sharesheet_stfimg" src="'+o(s(null!=(a=null!=e?e.manual:e)?a.stfavatarurl:a,e))+'">\n    <p class="sharesheet_stfdetail">'+o(s(null!=(a=null!=e?e.manual:e)?a.stfavatardetail:a,e))+"</p>\n</li>"},"useData":!0}),t.queue_sharesheetsendfrienditem=e({"1":function(e,t,n,i){return" two-line"},"3":function(e,t,n,i){return"one-line"},"5":function(e,t,n,i){var a,s=this.lambda,o=this.escapeExpression;return"        <div class='email subtitle'>"+o(s(null!=(a=null!=e?e.manual:e)?a.stfsubtitle:a,e))+"</div>\n"},"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,n,i){var a,s=this.lambda,o=this.escapeExpression,r='<li class="sharesheet_stfitem">\n    <img class="sharesheet_stfimg" src="'+o(s(null!=(a=null!=e?e.manual:e)?a.stfavatarurl:a,e))+'" title="'+o(s(null!=(a=null!=e?e.manual:e)?a.stftitle:a,e))+'">\n    <div class="sharesheet_sftdesc';return a=t["if"].call(e,null!=(a=null!=e?e.manual:e)?a.stftwoline:a,{"name":"if","hash":{},"fn":this.program(1,i),"inverse":this.program(3,i),"data":i}),null!=a&&(r+=a),r+='">\n        <div class="full_name title">'+o(s(null!=(a=null!=e?e.manual:e)?a.stftitle:a,e))+"</div>\n",a=t["if"].call(e,null!=(a=null!=e?e.manual:e)?a.stftwoline:a,{"name":"if","hash":{},"fn":this.program(5,i),"inverse":this.noop,"data":i}),null!=a&&(r+=a),r+"    </div>\n</li>"},"useData":!0}),t.queue_sharesheetshell=e({"1":function(e,t,n,i){var a,s=this.lambda,o=this.escapeExpression;return'                    <div class="sharesheet_thumb" style="background-image: url('+o(s(null!=(a=null!=e?e.manual:e)?a.sharesheetimg:a,e))+');"></div>\n'},"3":function(e,t,n,i){var a,s=this.lambda,o=this.escapeExpression;return'                <p class="sharesheet_excerpt">'+o(s(null!=(a=null!=e?e.manual:e)?a.sharesheetexcerpt:a,e))+"</p>\n"},"5":function(e,t,n,i){return" sharesheet_shareto_itemchecked"},"7":function(e,t,n,i){return' checked="checked"'},"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,n,i){var a,s=this.lambda,o=this.escapeExpression,r='<div class="overlay_detail overlay_detail_sharesheet">\n    <a class="close" href="#">'+o(s(null!=(a=null!=e?e.cta:e)?a.close:a,e))+'</a>\n    <form class="sharesheet_form">\n        <div class="sharesheet_header">\n            <div class="sharesheet_header_scrollarea">\n                <div class="sharesheet_titlewrapper">\n';return a=t["if"].call(e,null!=(a=null!=e?e.manual:e)?a.sharesheetimg:a,{"name":"if","hash":{},"fn":this.program(1,i),"inverse":this.noop,"data":i}),null!=a&&(r+=a),r+='                    <h5 class="sharesheet_title">'+o(s(null!=(a=null!=e?e.manual:e)?a.sharesheettitle:a,e))+'</h5>\n                    <p class="sharesheet_domain">'+o(s(null!=(a=null!=e?e.manual:e)?a.sharesheetdomain:a,e))+"</p>\n                </div>\n",a=t["if"].call(e,null!=(a=null!=e?e.manual:e)?a.sharesheetexcerpt:a,{"name":"if","hash":{},"fn":this.program(3,i),"inverse":this.noop,"data":i}),null!=a&&(r+=a),r+='            </div>\n            <div class="sharesheet_excerpt_fader"></div>\n            <textarea class="sharesheet_comment_content" name="comment" placeholder="'+o(s(null!=(a=null!=e?e.sharing:e)?a.saysomething:a,e))+'"></textarea>\n        </div>\n        <div class="sharesheet_shareto_wrapper">\n            <h5 class="sharesheet_shareto_header">'+o(s(null!=(a=null!=e?e.sharing:e)?a.shareto:a,e))+'</h5>\n            <ul class="sharesheet_shareto_options">\n                <li class="sharesheet_shareto_item',a=t["if"].call(e,null!=(a=null!=e?e.manual:e)?a.sharesheetprofilechecked:a,{"name":"if","hash":{},"fn":this.program(5,i),"inverse":this.noop,"data":i}),null!=a&&(r+=a),r+='">\n                    <span class="sharesheet_icon sharesheet_icon_recommends"></span>\n                    <span class="sharesheet_shareto_text sharesheet_shareto_textrecommends">'+o(s(null!=(a=null!=e?e.sharing:e)?a.myprofile:a,e))+'</span>\n                    <span class="sharesheet_shareto_checkvisual"></span>\n                    <input class="sharesheet_shareto_checkbox" type="checkbox" name="shareto" value="myrecommendations"',
a=t["if"].call(e,null!=(a=null!=e?e.manual:e)?a.sharesheetprofilechecked:a,{"name":"if","hash":{},"fn":this.program(7,i),"inverse":this.noop,"data":i}),null!=a&&(r+=a),r+='>\n                    <a class="sharesheet_shareto_link" href="#"></a>\n                </li>\n                <li class="sharesheet_shareto_item',a=t["if"].call(e,null!=(a=null!=e?e.manual:e)?a.sharesheetfacebookchecked:a,{"name":"if","hash":{},"fn":this.program(5,i),"inverse":this.noop,"data":i}),null!=a&&(r+=a),r+='">\n                    <span class="sharesheet_icon sharesheet_icon_facebook"></span>\n                    <span class="sharesheet_shareto_text">Facebook</span>\n                    <span class="sharesheet_shareto_checkvisual"></span>\n                    <input class="sharesheet_shareto_checkbox" type="checkbox" name="shareto" value="facebook"',a=t["if"].call(e,null!=(a=null!=e?e.manual:e)?a.sharesheetfacebookchecked:a,{"name":"if","hash":{},"fn":this.program(7,i),"inverse":this.noop,"data":i}),null!=a&&(r+=a),r+='>\n                    <a class="sharesheet_shareto_link" href="#"></a>\n                </li>\n                <li class="sharesheet_shareto_item',a=t["if"].call(e,null!=(a=null!=e?e.manual:e)?a.sharesheettwitterchecked:a,{"name":"if","hash":{},"fn":this.program(5,i),"inverse":this.noop,"data":i}),null!=a&&(r+=a),r+='">\n                    <span class="sharesheet_icon sharesheet_icon_twitter"></span>\n                    <span class="sharesheet_shareto_text">Twitter</span>\n                    <span class="sharesheet_shareto_checkvisual"></span>\n                    <input class="sharesheet_shareto_checkbox" type="checkbox" name="shareto" value="twitter"',a=t["if"].call(e,null!=(a=null!=e?e.manual:e)?a.sharesheettwitterchecked:a,{"name":"if","hash":{},"fn":this.program(7,i),"inverse":this.noop,"data":i}),null!=a&&(r+=a),r+'>\n                    <a class="sharesheet_shareto_link" href="#"></a>\n                </li>\n            </ul>\n        </div>\n        <div class="sharesheet_sendtofriend_wrapper">\n            <h5 class="sharesheet_sendtofriend_header">'+o(s(null!=(a=null!=e?e.sharing:e)?a.sendtofriend:a,e))+':</h5>\n            <input class="sharesheet_sendtofriend_input" type="text" name="sendtofriend" placeholder="'+o(s(null!=(a=null!=e?e.sharing:e)?a.addnameoremail:a,e))+'">\n            <div class="sharesheet_processing"></div>\n            <a class="button button_sharesheet" href="#">'+o(s(null!=(a=null!=e?e.cta:e)?a.share:a,e))+'</a>\n            <a class="sharesheet_cancel" href="#">'+o(s(null!=(a=null!=e?e.cta:e)?a.cancel:a,e))+"</a>\n        </div>\n    </form>\n</div>"},"useData":!0}),t.queue_sidenav=e({"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,n,i){var a,s=this.lambda,o=this.escapeExpression;return'<div class="side-screen"></div>\n<div class="side-nav">\n    <div class="nav-content nav-content-header">\n        <a href="#" class="header-nav-toggle header-nav-toggle-close"><span></span></a>\n        <h2>Pocket</h2>\n    </div>\n    <div class="nav-content nav-content-main">\n        <nav class="nav-default">\n            <ul>\n                <li><a class="section-mylist" href="#"><span class="nav-icon"></span>'+o(s(null!=(a=null!=e?e.queue:e)?a.mainmenu_home:a,e))+'</a></li>\n                <li class="section-recommendedcontainer"><a class="section-recommended" href="#"></span>'+o(s(null!=(a=null!=e?e.recommended:e)?a.recommended:a,e))+'</a></li>\n                <li><a class="section-favorites" href="#"><span class="nav-icon"></span>'+o(s(null!=(a=null!=e?e.queue:e)?a.mainmenu_favorites:a,e))+'</a></li>\n                <li><a class="section-archive" href="#"><span class="nav-icon"></span>'+o(s(null!=(a=null!=e?e.queue:e)?a.mainmenu_archive:a,e))+'</a></li>\n                <li class="nav-default-divider"></li>\n                <li><a class="nav-sublist filter-articles" href="#"><span>'+o(s(null!=(a=null!=e?e.queue:e)?a.filter_articles:a,e))+'</span></a></li>\n                <li><a class="nav-sublist filter-videos" href="#"><span>'+o(s(null!=(a=null!=e?e.queue:e)?a.filter_videos:a,e))+'</span></a></li>\n                <li><a class="nav-sublist filter-images" href="#"><span>'+o(s(null!=(a=null!=e?e.queue:e)?a.filter_images:a,e))+'</span></a></li>\n                <li>\n                    <a class="filter-tags" href="#"><span class="nav-icon"></span>'+o(s(null!=(a=null!=e?e.tag:e)?a.tags:a,e))+' <span class="nav-rarrow">&rsaquo;</span></a>\n                </li>\n                <li><a class="section-inbox" href="#"><span class="nav-icon"></span> <span class="inbox_badge"></span> '+o(s(null!=(a=null!=e?e.notification:e)?a.inbox:a,e))+'</a></li>\n            </ul>\n\n        </nav>\n        <nav class="nav-default nav-secondary">\n            <ul>\n                <li><a class="nav-minorlist section-profile" href="#"><span class="nav-icon"></span>'+o(s(null!=(a=null!=e?e.sharing:e)?a.viewprofile:a,e))+'</a></li>\n                <li><a class="nav-minorlist section-premium" href="#"><span class="nav-icon"></span>'+o(s(null!=(a=null!=e?e.queue:e)?a.mainmenu_premium:a,e))+'</a></li>\n                <li><a class="nav-minorlist section-options" href="#"><span class="nav-icon"></span>'+o(s(null!=(a=null!=e?e.queue:e)?a.mainmenu_options:a,e))+'</a></li>\n                <li><a class="nav-minorlist section-help" href="#"><span class="nav-icon"></span>'+o(s(null!=(a=null!=e?e.queue:e)?a.mainmenu_help:a,e))+'</a></li>\n                <li><a class="nav-minorlist section-logout" href="#"><span class="nav-icon"></span>'+o(s(null!=(a=null!=e?e.login:e)?a.logout:a,e))+'</a></li>\n            </ul>\n        </nav>\n    </div>\n    <div class="nav-content nav-content-recommend">\n    </div>\n    <div class="nav-content nav-content-bottom">\n        <nav class="nav-bottom">\n            <ul>\n                <li><a href="/jobs/">Careers at Pocket</a></li>\n                <li><a href="/sponsor">Become a Sponsor</a></li>\n                <li><a href="#" id="nav-bottom-more">More</a>\n                    <ul class="nav-overflow">\n                        <li><a href="/support/"><span class="nav-icon"></span>Get Help</a></li>\n                        <li><a href="/blog/"><span class="nav-icon"></span>Pocket Blog</a></li>\n                        <li><a href="/developer/"><span class="nav-icon"></span>Developer API</a></li>\n                        <li><a href="/publisher/"><span class="nav-icon"></span>Publishers</a></li>\n                        <li><a href="/about"><span class="nav-icon"></span>About</a></li>\n                        <li><a href="/tos"><span class="nav-icon"></span>Terms of Service</a></li>\n                        <li><a href="/privacy"><span class="nav-icon"></span>Privacy Policy</a></li>\n                    </ul>\n                </li>\n            </ul>\n\n        </nav>\n    </div>\n    <div class="wrapper_tag">\n        <div class="tag_name"></div>\n        <a class="tag_clear" href="" title="'+o(s(null!=(a=null!=e?e.queue:e)?a.cleartagselection:a,e))+'">'+o(s(null!=(a=null!=e?e.queue:e)?a.cleartagselection:a,e))+'</a>\n    </div>\n    <div class="nav-mobileupsell nav-mobileupsell-inactive">\n        <nav>\n            <ul>\n                <li class="nav-mobileupsell-getapp">Get the app:</li>\n                <li><a class="nav-mobileupsell-android" href="/apps/link/pocket-android?s=mobileupsell" target="_blank">Google Play</a></li>\n                <li><a class="nav-mobileupsell-ios" href="/apps/link/pocket-iphone?s=mobileupsell" target="_blank">App Store</a></li>\n            </ul>\n        </nav>\n    </div>\n</div>\n'},"useData":!0}),t.queue_sortsearchdialog=e({"1":function(e,t,n,i){var a,s=this.lambda,o=this.escapeExpression;return'		<li class="popover-new-listitem"><a class="relevance search-sortby-selected" href="#">'+o(s(null!=(a=null!=e?e.queue:e)?a.search_relevance:a,e))+'</a></li>\n		<li class="popover-new-listitem"><a class="newest" href="#">'+o(s(null!=(a=null!=e?e.queue:e)?a.search_newest:a,e))+"</a></li>\n"},"3":function(e,t,n,i){var a,s=this.lambda,o=this.escapeExpression;return'		<li class="popover-new-listitem"><a class="newest search-sortby-selected" href="#">'+o(s(null!=(a=null!=e?e.queue:e)?a.search_newest:a,e))+"</a></li>\n"},"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,n,i){var a,s=this.lambda,o=this.escapeExpression,r='<div class="container">\n	<h5>'+o(s(null!=(a=null!=e?e.queue:e)?a.search_sortby:a,e))+'</h5>\n	<ul class="search-sortby-options">\n';return a=t["if"].call(e,null!=(a=null!=e?e.manual:e)?a.premium:a,{"name":"if","hash":{},"fn":this.program(1,i),"inverse":this.program(3,i),"data":i}),null!=a&&(r+=a),r+'		<li class="popover-new-listitem"><a class="oldest" href="#">'+o(s(null!=(a=null!=e?e.queue:e)?a.search_oldest:a,e))+"</a></li>\n	</ul>\n</div>"},"useData":!0}),t.queue_sponsoreditemshell=e({"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,n,i){var a,s=this.lambda,o=this.escapeExpression;return'<li class="item item_type_spoc '+o(s(null!=(a=null!=e?e.sponsor:e)?a.listclass:a,e))+' spoc"\n	id="i'+o(s(null!=(a=null!=e?e.sponsor:e)?a.itemid:a,e))+'"\n	data-feeditemid="'+o(s(null!=(a=null!=e?e.sponsor:e)?a.feeditemid:a,e))+'"\n	data-itemurl="'+o(s(null!=(a=null!=e?e.sponsor:e)?a.item_url:a,e))+'"\n	data-impressionid="'+o(s(null!=(a=null!=e?e.sponsor:e)?a.impressionid:a,e))+'">\n	<div class="item_content">\n		<div class="spoc_header">\n			<a href="/@'+o(s(null!=(a=null!=e?e.sponsor:e)?a.brand_profile:a,e))+'">\n				<div class="spoc_id"><img src="'+o(s(null!=(a=null!=e?e.sponsor:e)?a.brand_avatar:a,e))+'" alt="">'+o(s(null!=(a=null!=e?e.sponsor:e)?a.brand_name:a,e))+'</div>\n				<div class="spoc_label">'+o(s(null!=(a=null!=e?e.sponsor:e)?a.label:a,e))+'</div>\n			</a>\n		</div>\n		<span class="thumb spoc_image"></span>\n		<a class="item_link" href="'+o(s(null!=(a=null!=e?e.sponsor:e)?a.redirect_url:a,e))+'" target="_blank"></a>\n		<div class="spoc_copy">\n			<a class="title" href="'+o(s(null!=(a=null!=e?e.sponsor:e)?a.redirect_url:a,e))+'">'+o(s(null!=(a=null!=e?e.sponsor:e)?a.item_title:a,e))+'</a>\n			<p class="domain">'+o(s(null!=(a=null!=e?e.sponsor:e)?a.brand_domain:a,e))+'</p>\n			<nav class="item_content_actions spoc_footer">\n				<ul class="item_content_actionscontainer">\n					<li class="item_content_savecontainer">\n					<a class="item_content_save" data-saveurl="'+o(s(null!=(a=null!=e?e.sponsor:e)?a.item_url:a,e))+'" href="#">\n						<svg class="item_save_icon" viewBox="0 0 100 100"><path d="M13.44 10.11c-3.34 0-6.38 2.1-7.57 5.23-.35.93-.53 1.89-.53 2.88v26.95l.31 5.36c1.29 12.19 7.62 22.85 17.41 30.28.18.13.35.26.53.39l.11.08c5.25 3.84 11.13 6.44 17.47 7.71 2.93.59 5.92.89 8.89.89 2.75 0 5.51-.25 8.22-.76.33-.06.65-.12.98-.19.09-.02.19-.05.29-.1 6.07-1.33 11.71-3.86 16.76-7.55l.11-.08c.18-.13.36-.26.53-.39 9.79-7.43 16.12-18.08 17.41-30.28l.31-5.36V18.21c0-.93-.11-1.86-.44-2.77-1.16-3.19-4.22-5.34-7.61-5.34h-.05M75.31 43.53L54.3 63.68c-1.19 1.14-2.71 1.71-4.24 1.71-1.53 0-3.06-.57-4.24-1.71L24.81 43.53c-2.44-2.34-2.52-6.22-.18-8.66 2.34-2.44 6.22-2.52 8.66-.18l16.78 16.09 16.77-16.09c2.44-2.34 6.32-2.26 8.66.18 2.33 2.44 2.25 6.31-.19 8.66z"/></svg>\n						<span class="item_content_savetext">'+o(s(null!=(a=null!=e?e.cta:e)?a.save:a,e))+'</span>\n					</a>\n					</li>\n					<li class="item_content_hidecontainer">\n						<a class="item_content_overflow"\n							data-feeditemid="'+o(s(null!=(a=null!=e?e.sponsor:e)?a.feeditemid:a,e))+'"\n							data-impressionid="'+o(s(null!=(a=null!=e?e.sponsor:e)?a.impressionid:a,e))+'" href="#">\n							<svg class="item_overflow_icon" viewBox="0 0 25 25"><circle cx="12.336" cy="12.25" r="2.25"/><circle cx="20.15" cy="12.25" r="2.25"/><circle cx="4.85" cy="12.25" r="2.25"/></svg>\n						</a>\n					</li>\n				</ul>\n			</nav>\n		</div>\n	</div>\n</li>\n'},"useData":!0}),t.queue_sponsoredtowershell=e({"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,n,i){var a,s=this.lambda,o=this.escapeExpression;return'<li class="item item_type_tower_spoc '+o(s(null!=(a=null!=e?e.sponsor:e)?a.listclass:a,e))+' tower_spoc"\n	id="i'+o(s(null!=(a=null!=e?e.sponsor:e)?a.itemid:a,e))+'"\n	data-feeditemid="'+o(s(null!=(a=null!=e?e.sponsor:e)?a.feeditemid:a,e))+'"\n	data-itemurl="'+o(s(null!=(a=null!=e?e.sponsor:e)?a.item_url:a,e))+'"\n	data-impressionid="'+o(s(null!=(a=null!=e?e.sponsor:e)?a.impressionid:a,e))+'">\n	<div class="item_content">\n		<div class="card">\n			<div class="face front">\n				<h3 class="spoc_indicator">Todays sponsor</h3>\n				<div class="spoc_content">\n					<div class="spoc_header">\n						<a href="/@'+o(s(null!=(a=null!=e?e.sponsor:e)?a.brand_profile:a,e))+'">\n							<div class="spoc_id"><img src="'+o(s(null!=(a=null!=e?e.sponsor:e)?a.brand_avatar:a,e))+'" alt="">'+o(s(null!=(a=null!=e?e.sponsor:e)?a.brand_name:a,e))+'</div>\n							<div class="spoc_label">'+o(s(null!=(a=null!=e?e.sponsor:e)?a.label:a,e))+'</div>\n						</a>\n					</div>\n					<span class="thumb spoc_image"></span>\n					<a class="item_link" href="'+o(s(null!=(a=null!=e?e.sponsor:e)?a.redirect_url:a,e))+'" target="_blank"></a>\n					<div class="spoc_copy">\n						<a class="title" href="'+o(s(null!=(a=null!=e?e.sponsor:e)?a.redirect_url:a,e))+'">'+o(s(null!=(a=null!=e?e.sponsor:e)?a.item_title:a,e))+'</a>\n						<p class="domain">'+o(s(null!=(a=null!=e?e.sponsor:e)?a.brand_domain:a,e))+'</p>\n						<nav class="item_content_actions spoc_footer">\n							<ul class="item_content_actionscontainer">\n								<li class="item_content_savecontainer">\n								<a class="item_content_save" data-saveurl="'+o(s(null!=(a=null!=e?e.sponsor:e)?a.item_url:a,e))+'" href="#">\n									<svg class="item_save_icon" viewBox="0 0 100 100"><path d="M13.44 10.11c-3.34 0-6.38 2.1-7.57 5.23-.35.93-.53 1.89-.53 2.88v26.95l.31 5.36c1.29 12.19 7.62 22.85 17.41 30.28.18.13.35.26.53.39l.11.08c5.25 3.84 11.13 6.44 17.47 7.71 2.93.59 5.92.89 8.89.89 2.75 0 5.51-.25 8.22-.76.33-.06.65-.12.98-.19.09-.02.19-.05.29-.1 6.07-1.33 11.71-3.86 16.76-7.55l.11-.08c.18-.13.36-.26.53-.39 9.79-7.43 16.12-18.08 17.41-30.28l.31-5.36V18.21c0-.93-.11-1.86-.44-2.77-1.16-3.19-4.22-5.34-7.61-5.34h-.05M75.31 43.53L54.3 63.68c-1.19 1.14-2.71 1.71-4.24 1.71-1.53 0-3.06-.57-4.24-1.71L24.81 43.53c-2.44-2.34-2.52-6.22-.18-8.66 2.34-2.44 6.22-2.52 8.66-.18l16.78 16.09 16.77-16.09c2.44-2.34 6.32-2.26 8.66.18 2.33 2.44 2.25 6.31-.19 8.66z"/></svg>\n									<span class="item_content_savetext">'+o(s(null!=(a=null!=e?e.cta:e)?a.save:a,e))+'</span>\n								</a>\n								</li>\n								<li class="item_content_hidecontainer">\n									<a class="item_content_overflow"\n										data-feeditemid="'+o(s(null!=(a=null!=e?e.sponsor:e)?a.feeditemid:a,e))+'"\n										data-impressionid="'+o(s(null!=(a=null!=e?e.sponsor:e)?a.impressionid:a,e))+'" href="#">\n										<svg class="item_overflow_icon" viewBox="0 0 25 25"><circle cx="12.336" cy="12.25" r="2.25"/><circle cx="20.15" cy="12.25" r="2.25"/><circle cx="4.85" cy="12.25" r="2.25"/></svg>\n									</a>\n								</li>\n							</ul>\n						</nav>\n					</div>\n				</div>\n				<div class="spoc_card_footer">\n					Why am I seeing this? <a href="#" class="spoc_educate_trigger">Learn more </a>\n				</div>\n			</div>\n			<div class="face back item_education">\n				<h3>About Sponsorships</h3>\n				<p>Weve created Pocket to allow people to find, save and recommend the stories that matter to them.</p>\n				<p>By showing sponsored posts, were making sure that we can continue and extend our vision for many years to come. Our aim is that these posts will feel natural to your Pocket experience.</p>\n				<p>Youre in control, and can hide posts that dont resonate with you. You can also upgrade to Pocket Premium to permanently hide sponsored posts and get access to exclusive features only available to subscribers.				<p>- Team Pocket</p></p>\n				<div class="education_actions">\n					<a href="#" class="btn spoc_educate_trigger">Got it, thanks!</a>\n					<a href="https://getpocket.com/premium/?s=twotile" target="_blank" class="btn btn-alt spoc_educate_hide">Upgrade to Premium</a>\n				</div>\n				<div class="spoc_card_footer">\n					<a href="https://getpocket.com/contact_support" target="_blank" >Questions or feedback?</a>\n				</div>\n			</div>\n		</div>\n	</div>\n</li>\n'},"useData":!0}),t.reader_headarticleshell=e({"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,n,i){var a,s=this.lambda,o=this.escapeExpression;return'<div class="reader_head clearfix">\n	<h1></h1>\n	<ul class="sub">\n		<li class="authorsdomain"><span class="authors"></span><span class="domain"><img class="favicon"><a target="_blank"></a></span></li>\n		<li class="original"><a target="_blank">'+o(s(null!=(a=null!=e?e.cta:e)?a.vieworiginal:a,e))+'</a></li>\n		<li class="date"></li>\n		<li class="tags"><span class="tag_container"></span></li>\n		<li class="original_narrow"><a target="_blank">'+o(s(null!=(a=null!=e?e.cta:e)?a.vieworiginal:a,e))+'</a></li>\n	</ul>\n</div>\n<div class="text_body">\n</div>'},"useData":!0}),t.reader_helpoverlay=e({"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,n,i){var a,s=this.lambda,o=this.escapeExpression;return'<div class="chardinjs-keyboard">\n    <ul>\n        <li class="header">'+o(s(null!=(a=null!=e?e.help:e)?a.keyboardreaderview:a,e))+"</li>\n        <li><span>cmd/ctrl + -/+</span>"+o(s(null!=(a=null!=e?e.help:e)?a.decreaseincreasefont:a,e))+"</li>\n        <li><span>a</span>"+o(s(null!=(a=null!=e?e.help:e)?a.archiveitemorsave:a,e))+"</li>\n        <li><span>b</span>"+o(s(null!=(a=null!=e?e.reader:e)?a.goback:a,e))+"</li>\n        <li><span>d</span>"+o(s(null!=(a=null!=e?e.help:e)?a.fullscreenmode:a,e))+"</li>\n        <li><span>f</span>"+o(s(null!=(a=null!=e?e.help:e)?a.favitem:a,e))+"</li>\n        <li><span>o</span>"+o(s(null!=(a=null!=e?e.help:e)?a.vieworiginal:a,e))+"</li>\n        <li><span>t</span>"+o(s(null!=(a=null!=e?e.help:e)?a.tagitem:a,e))+"</li>\n        <li><span>"+o(s(null!=(a=null!=e?e.manual:e)?a.help_vw:a,e))+"</span>"+o(s(null!=(a=null!=e?e.reader:e)?a.changelight:a,e))+"</li>\n        <li><span>"+o(s(null!=(a=null!=e?e.manual:e)?a.help_vd:a,e))+"</span>"+o(s(null!=(a=null!=e?e.reader:e)?a.changedark:a,e))+"</li>\n        <li><span>"+o(s(null!=(a=null!=e?e.manual:e)?a.help_vs:a,e))+"</span>"+o(s(null!=(a=null!=e?e.reader:e)?a.changesepia:a,e))+" ("+o(s(null!=(a=null!=e?e.reader:e)?a.articleview:a,e))+")</li>\n        <li><span>?</span>"+o(s(null!=(a=null!=e?e.help:e)?a.viewhelp:a,e))+"</li>\n    </ul>\n</div>"},"useData":!0}),t.reader_imageshell=e({"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,n,i){return'<div id="RIL_IMG_1" class="RIL_IMG"></div>'},"useData":!0}),t.reader_moreactions=e({"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,n,i){var a,s=this.lambda,o=this.escapeExpression;return'<nav>\n      <ul>\n            <li class="popover-new-listitem"><a class="moreactions_edittags" href="#">'+o(s(null!=(a=null!=e?e.tag:e)?a.edittags:a,e))+' <span class="nav-icon"></span></a></li>\n            <li class="popover-new-listitem"><a class="moreactions_textoptions" href="#">'+o(s(null!=(a=null!=e?e.reader:e)?a.textoptions:a,e))+' <span class="nav-icon"></span></a></li>\n            <li class="popover-new-listitem"><a class="moreactions_delete" href="#">'+o(s(null!=(a=null!=e?e.cta:e)?a["delete"]:a,e))+' <span class="nav-icon"></span></a></li>\n      </ul>\n</nav>'},"useData":!0}),t.reader_navitem=e({"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,n,i){var a,s=this.lambda,o=this.escapeExpression;return'<div class="toolbar_reader toolbar navigationItem wrapper wrapper_full">\n    <div class="toolbar_reader_divider"></div>\n    <h2 class="toolbar_reader_title"></h2>\n    <ul class="icons leftItem">\n        <li id="pagenav_back" class="simple"><a class="hint-item" title="'+o(s(null!=(a=null!=e?e.reader:e)?a.goback:a,e))+'" data-intro="'+o(s(null!=(a=null!=e?e.reader:e)?a.goback:a,e))+'" data-position="bottom" href="#">'+o(s(null!=(a=null!=e?e.reader:e)?a.goback:a,e))+'</a></li>\n        <li id="pagenav_mark" class="simple" ><a class="hint-item" title="'+o(s(null!=(a=null!=e?e.cta:e)?a.archive:a,e))+'" data-intro="'+o(s(null!=(a=null!=e?e.cta:e)?a.archive:a,e))+'" data-position="bottomlower" href="#">'+o(s(null!=(a=null!=e?e.cta:e)?a.archive:a,e))+'</a></li>\n        <li id="pagenav_delete" class="simple"><a class="hint-item" title="'+o(s(null!=(a=null!=e?e.cta:e)?a["delete"]:a,e))+'" data-intro="'+o(s(null!=(a=null!=e?e.cta:e)?a["delete"]:a,e))+'" data-position="bottom" href="#">'+o(s(null!=(a=null!=e?e.cta:e)?a["delete"]:a,e))+'</a></li>\n        <li id="pagenav_tag" class="simple"><a class="hint-item" title="'+o(s(null!=(a=null!=e?e.tag:e)?a.edittags:a,e))+'" data-intro="'+o(s(null!=(a=null!=e?e.tag:e)?a.edittags:a,e))+'" data-position="bottomlower" href="#">'+o(s(null!=(a=null!=e?e.cta:e)?a.edittags:a,e))+'</a></li>\n        <li id="pagenav_favorite" class="simple"><a class="hint-item" title="'+o(s(null!=(a=null!=e?e.cta:e)?a.favorite:a,e))+'" data-intro="'+o(s(null!=(a=null!=e?e.cta:e)?a.favorite:a,e))+'" data-position="bottom" href="#">'+o(s(null!=(a=null!=e?e.cta:e)?a.favorite:a,e))+'</a></li>\n    </ul>\n    <ul class="icons rightItem">\n        <li id="pagenav_share"><a class="hint-item" title="'+o(s(null!=(a=null!=e?e.cta:e)?a.share:a,e))+'" data-intro="'+o(s(null!=(a=null!=e?e.cta:e)?a.share:a,e))+'" data-position="bottom" href="#">'+o(s(null!=(a=null!=e?e.cta:e)?a.share:a,e))+'</a></li>\n        <li id="pagenav_style"><a class="hint-item" title="'+o(s(null!=(a=null!=e?e.reader:e)?a.textoptions:a,e))+'" data-intro="'+o(s(null!=(a=null!=e?e.reader:e)?a.textoptions:a,e))+'" data-position="bottom" href="#">'+o(s(null!=(a=null!=e?e.reader:e)?a.textoptions:a,e))+'</a></li>\n        <li id="pagenav_more"><a class="hint-item" title="'+o(s(null!=(a=null!=e?e.reader:e)?a.moreactions:a,e))+'" data-intro="'+o(s(null!=(a=null!=e?e.reader:e)?a.moreactions:a,e))+'" data-position="bottom" href="#">'+o(s(null!=(a=null!=e?e.reader:e)?a.moreactions:a,e))+"</a></li>\n    </ul>\n</div>"},"useData":!0}),t.reader_noarticlewarning=e({"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,n,i){var a,s=this.lambda,o=this.escapeExpression;return"<div class='noarticle_warning'>\n      <p>"+o(s(null!=(a=null!=e?e.reader:e)?a.notarticlenotdisplaywell:a,e))+". "+o(s(null!=(a=null!=e?e.reader:e)?a.maywanttoswitch:a,e))+".</p>\n      <p>"+o(s(null!=(a=null!=e?e.reader:e)?a.ifshouldbearticle:a,e))+".</p>\n</div>"},"useData":!0}),t.reader_pageshell=e({"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,n,i){return'<div id="page_reader" class="wrapper wrapper_full articleview">	\n	<div class="reader_content_wrapper">\n	    <div class="reader_content"></div>\n	</div>\n</div>'},"useData":!0}),t.reader_sharesheetselecttooltip=e({"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,n,i){var a,s=this.lambda,o=this.escapeExpression;return'<div class="sharesheet_tooltip">\n	<a class="sharesheet_tooltip_link" href="#"></a>\n    <p class="sharesheet_tooltip_content">\n    	<span class="sharesheet_tooltip_icon"></span>\n    	<span class="sharesheet_tooltip_text">'+o(s(null!=(a=null!=e?e.sharing:e)?a.shareexcerpt:a,e))+"</span>\n    </p>\n</div>"},"useData":!0}),t.reader_stylemenu=e({"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,n,i){var a,s=this.lambda,o=this.escapeExpression;return'<div id="subnav" class="pkt-nav clearfix">\n      <div class="icons_row">\n            <ul class="icons clearfix textoptions_font">\n                  <li id="submenu_font_serif"><a title="'+o(s(null!=(a=null!=e?e.reader:e)?a.serif:a,e))+'" href="#">'+o(s(null!=(a=null!=e?e.reader:e)?a.serif:a,e))+'</a></li>\n                  <li id="submenu_font_sans"><a title="'+o(s(null!=(a=null!=e?e.reader:e)?a.sansserif:a,e))+'" href="#">'+o(s(null!=(a=null!=e?e.reader:e)?a.sansserif:a,e))+'</a></li>\n            </ul>\n            <ul class="icons clearfix textoptions_fontsize">\n                  <li id="submenu_font_down"><a title="'+o(s(null!=(a=null!=e?e.reader:e)?a.decreasefontsize:a,e))+'" href="#">'+o(s(null!=(a=null!=e?e.reader:e)?a.decreasefontsize:a,e))+'</a></li>\n                  <li id="submenu_font_placeholder">A</li> \n                  <li id="submenu_font_up"><a title="'+o(s(null!=(a=null!=e?e.reader:e)?a.increasefontsize:a,e))+'" href="#">'+o(s(null!=(a=null!=e?e.reader:e)?a.increasefontsize:a,e))+'</a></li>\n            </ul>\n      </div>\n      <div class="icons_row">\n            <ul class="icons clearfix textoptions_theme">\n                  <li id="submenu_theme_light"><a title="'+o(s(null!=(a=null!=e?e.reader:e)?a.changelight:a,e))+'" href="#">'+o(s(null!=(a=null!=e?e.reader:e)?a.light:a,e))+'</a></li>\n                  <li id="submenu_theme_dark"><a title="'+o(s(null!=(a=null!=e?e.reader:e)?a.changedark:a,e))+'" href="#">'+o(s(null!=(a=null!=e?e.reader:e)?a.dark:a,e))+'</a></li>\n                  <li id="submenu_theme_sepia"><a title="'+o(s(null!=(a=null!=e?e.reader:e)?a.changesepia:a,e))+'" href="#">'+o(s(null!=(a=null!=e?e.reader:e)?a.sepia:a,e))+"</a></li>\n            </ul>\n      </div>\n</div>"},"useData":!0}),t.tag_edittagdialog=e({"1":function(e,t,n,i){return'<div class="overlay_detail overlay_detail_confirm overlay_detail_confirmtag">\n'},"3":function(e,t,n,i){return'<div class="overlay_detail overlay_detail_confirm overlay_detail_confirmtag overlay_detail_wsuggestedtags">\n	<div class="edittag_detail">\n'},"5":function(e,t,n,i){var a,s=this.lambda,o=this.escapeExpression;return'	</div>\n	<div class="suggestedtag_detail">\n		<h4>'+o(s(null!=(a=null!=e?e.tag:e)?a.suggestedtags:a,e))+"</h4>\n	</div>\n"},"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,n,i){var a,s=this.lambda,o=t.blockHelperMissing,r=this.escapeExpression,l="";return a=o.call(e,s(null!=(a=null!=e?e.manual:e)?a.suggestedtags:a,e),{"name":"manual.suggestedtags","hash":{},"fn":this.noop,"inverse":this.program(1,i),"data":i}),null!=a&&(l+=a),a=t["if"].call(e,null!=(a=null!=e?e.manual:e)?a.suggestedtags:a,{"name":"if","hash":{},"fn":this.program(3,i),"inverse":this.noop,"data":i}),null!=a&&(l+=a),l+="	<h3>"+r(s(null!=(a=null!=e?e.tag:e)?a.edittags:a,e))+'</h3>\n	<a class="close">'+r(s(null!=(a=null!=e?e.cta:e)?a.close:a,e))+'</a>\n	<div class="clearfix token-input-container">\n		<input id="edit-tags-input" type="text">\n		<a href="#" class="button button-small">'+r(s(null!=(a=null!=e?e.cta:e)?a.save:a,e))+"</a>\n	</div>\n",a=t["if"].call(e,null!=(a=null!=e?e.manual:e)?a.suggestedtags:a,{"name":"if","hash":{},"fn":this.program(5,i),"inverse":this.noop,"data":i}),null!=a&&(l+=a),l+"</div>"},"useData":!0})}();var Prefs=Class.extend({"init":function(){this.prefix="wa_"},"get":function(e){return this.readCookie(this.prefix+e)},"set":function(e,t){this.createCookie(this.prefix+e,t)},"createCookie":function(e,t,n){if(n){var i=new Date;i.setTime(i.getTime()+24*n*60*60*1e3);var a="; expires="+i.toGMTString()}else var a="";document.cookie=e+"="+t+a+"; domain=."+window.location.host+"; path=/"},"readCookie":function(e){for(var t=e+"=",n=document.cookie.split(";"),i=0;i<n.length;i++){for(var a=n[i];" "==a.charAt(0);)a=a.substring(1,a.length);if(0==a.indexOf(t))return a.substring(t.length,a.length)}return null},"eraseCookie":function(e){createCookie(e,"",-1)}}),prefs=new Prefs,currentDropSelector=!1,DropSelector=Class.extend({"init":function(e){this.lis={};var t=this;if(this.callback=e.callback,this.selectCallback=e.selectCallback,this.hideUntilSet=e.hideUntilSet,this.showClass=e.showClass,this.headerTitle=e.headerTitle,this.xOffset=e.xOffset?e.xOffset:0,this.onShow=e.onShow,e.nodeName=e.nodeName?e.nodeName:"div",e.useSelectOnIE&&isInternetExplorer()){this.ie9Mode=!0;var n=$("<span class='select ie9'><span class='selectLabel'>Newest</span><select style='border: 0px; filter: alpha(opacity=0); width: 140px; height: 26px; position: relative; left: 0px; top: -26px;'></select></span>"),i=n.find("select");for(var a in e.list){var s=$('<option value="'+e.list[a].value+'">'+e.list[a].label+"</option>");this.lis[e.list[a].value]=s.get(0),i.append(s)}n.bind("change",function(e,i){var a=$(this).find("select").val(),s=$(this).find("option[value="+a+"]").text();n.find(".selectLabel").text(s),t.value=a,t.label=s,i!==!1&&t.callback(t)}),this.selector=n,this.selector.addClass("dropSelector"),this.displayer=e.displayer?e.displayer:this.selector,this.displayer.append(this.selector),n.trigger("change",[!1])}else e.object?(this.object=e.object,this.object.addClass("dropSelector"),this.displayer=e.displayer?e.displayer:this.object):(this.object=$("<"+e.nodeName+' id="'+(e.id?e.id:"")+'" class="dropSelector'+(e["class"]?" "+e["class"]:"")+'"></'+e.nodeName+">"),this.displayer=$("<a></a>"),this.object.append(this.displayer));if(this.anchor=e.anchor?e.anchor:this.object,!e.useSelectOnIE||!isInternetExplorer()){var o,r=$('<div class="popover-new">'),l=$('<ul class="popover-new-list">');for(var a in e.list)o=$('<li class="popover-new-listitem '+e.list[a].value+'" val="'+e.list[a].value+'"><a href="#">'+e.list[a].label+"</a></li>"),this.lis[e.list[a].value]=o.get(0),l.append(o);l.children("li").click(function(e){return e.stopPropagation(),t.select(this)}),this.ul=l,this.popover=r,r.append('<div class="arrow">',l),this.closeCta=$('<a class="popover-new-close" href="#"></a>'),this.smallHeader=$('<div class="popover-new-header"></div>'),this.smallHeader.append(this.closeCta),r.prepend(this.smallHeader),this.anchor.append(r),e.alignment&&(this.alignment=e.alignment,r.addClass("popover-new-"+e.alignment)),"string"==typeof this.headerTitle&&this.smallHeader.append("<h2>"+this.headerTitle+"</h2>"),o.addClass("last"),o.hover(function(){t.object.addClass("lastHovered")},function(){t.object.removeClass("lastHovered")}),this.object.click(function(){t.toggle()}),this.hideUntilSet?this.object.hide():this.set(e.list[0].value,!0)}e.append?e.append.append(this.object):e.insertBefore&&this.object.insertBefore(e.insertBefore)},"select":function(e,t){if(this.object.show(),!this.selectCallback||this.selectCallback(this,e)){this.selected&&this.selected.removeClass("selected"),this.selected=$(e),this.selected.addClass("selected"),this.value=this.selected.attr("val");var n=this.selected.children("a").text();this.label=this.value,this.object.toggleClass("lastSelected",this.selected.hasClass("last")),this.displayer.html("<span>"+n+"</span>"),this.displayer[0].className=this.value,t||this.callback(this)}return this.close(),!1},"set":function(e,t){this.ie9Mode?(this.selector.find("select").attr("value",e),this.selector.trigger("change")):this.select(this.lis[e],t)},"toggle":function(){this.popover.hasClass("active")?this.close():this.show()},"show":function(){if("function"==typeof this.onShow&&this.onShow(this),this.alignment&&("bottom"==this.alignment&&this.popover.css({"top":this.displayer.height()+parseInt(this.displayer.css("marginBottom"))+Math.abs(parseInt(this.popover.find(".arrow").css("top")))-5+"px","left":-1*(Math.floor(this.popover.outerWidth()/2)-Math.floor(this.displayer.outerWidth()/2)-this.xOffset)+"px"}),"bottomright"==this.alignment&&this.popover.css({"top":this.displayer.height()+parseInt(this.displayer.css("marginBottom"))+Math.abs(parseInt(this.popover.find(".arrow").css("top")))-5+"px","left":-1*Math.abs(parseInt(this.popover.find(".arrow").css("left"))-this.xOffset)+"px"}),"bottomleft"==this.alignment&&this.popover.css({"top":this.displayer.height()+parseInt(this.displayer.css("marginBottom"))+Math.abs(parseInt(this.popover.find(".arrow").css("top")))-5+"px","left":-1*(this.popover.outerWidth()-Math.abs(2*parseInt(this.popover.find(".arrow").css("marginLeft")))-this.xOffset)+"px"})),currentDropSelector){if(currentDropSelector==this)return;currentDropSelector.close()}this.popover.addClass("popover-active"),this.showClass&&this.object.addClass(this.showClass),document.getElementById("clickguard")||$("body").prepend('<div id="clickguard" class="clickguard"></div>'),$("#clickguard").show(),setTimeout(function(){$(document).bind("click",currentDropSelector.close)},10),currentDropSelector=this;

},"close":function(){currentDropSelector&&(currentDropSelector.popover.removeClass("popover-active"),currentDropSelector.showClass&&currentDropSelector.object.removeClass(currentDropSelector.showClass),$("#clickguard").hide(),$(document).unbind("click",currentDropSelector.close),currentDropSelector=!1)}}),Toolbar=Class.extend({"init":function(e){this.items=[];this.object=$('<div id="'+(e.id?e.id:"")+'" class="toolbar'+(e["class"]?" "+e["class"]:"")+'"></div>'),this.inner=$('<div class="row"></div>'),this.object.append(this.inner);for(var t,n,i=0;i<e.items.length;i++)n=e.items[i],"custom"==n.type?t=n.item:"spacer"==n.type?t=new Spacer(n):"element"==n.type?t=new ToolbarItem(n):"button"==n.type&&(t=new ToolbarButton(n)),t.object.addClass("item"),this.inner.append(t.object),this.items.push(t);e.append?e.append.append(this.object):e.insertBefore&&this.object.insertBefore(e.insertBefore)}}),toolbarButtons={},ToolbarItem=Class.extend({"init":function(e){e.object&&(this.object=e.object),e.label&&this.setLabel(e.label)},"setLabel":function(e){if(!this.label){var t=$('<div style="position:relative"></div>');t.append(this.object.children()),this.object.append(t),this.label=$('<span class="label"></span>'),t.append(this.label)}this.label.text(e)}}),ToolbarButton=ToolbarItem.extend({"init":function(e){var t=this;this.callback=e.callback,this.object=$('<div id="'+(e.id?e.id:"")+'" class="buttonItem '+(e["class"]?" "+e["class"]:"")+'"><a '+(e.title?'title="'+e.title+'"':"")+' class="button">'+e.text+"</a></div>"),this.object.find(".button").click(function(){t.clicked()}),this._super(e)},"clicked":function(){this.callback&&this.callback()}}),ToolbarEdgeButton=ToolbarItem.extend({"init":function(e){var t=this;this.callback=e.callback,e.id&&(toolbarButtons[e.id]=t),this.object=$('<a id="'+(e.id?e.id:"")+'" '+(e.title?'title="'+e.title+'"':"")+' class="toolbarButton edge '+(e["class"]?" "+e["class"]:"")+'"></a>');var n=$('<div class="cell"></div>'),i=$('<span class="section edge"><span class="img"></span></span>'),a=$('<span class="section inner"></span');e.left?(n.append(i),n.append(a),this.object.addClass("left")):(n.append(a),n.append(i)),this.object.append(n),this.inner=a,e.img&&this.inner.append('<img src="/a/i/'+e.img+'" align="middle" />'),e.text&&this.inner.append(e.text),this.object.click(function(){t.clicked()}),this._super(e)},"clicked":function(){this.callback&&this.callback(this)}}),Toggle=ToolbarEdgeButton.extend({"init":function(e){this._super(e),this.on=e.on,this.on&&this.object.addClass("on")},"clicked":function(){this.set(!this.on)},"set":function(e,t){this.on=e,this.object.toggleClass("on",e),!t&&this.callback&&this.callback(this)}}),ToolbarSegmentControl=ToolbarItem.extend({"init":function(e){this.value=-1;var t=this;this.callback=e.callback,this.object=$('<div id="'+(e.id?e.id:"")+'" class="toolbarButton segmentControl'+(e["class"]?" "+e["class"]:"")+'" style="width:'+(45*e.items.length-2)+'px"></div>');var n;this.segments={},this.keys=[];for(var i=0;i<e.items.length;i++)n=$("<a "+(e.items[i].title?'title="'+e.items[i].title+'"':"")+' class="section segment '+e.items[i]["class"]+'" i="'+i+'"><span class="inner"></span></a>'),n.click(function(){t.set($(this).attr("i"))}),this.object.append(n),this.segments[i]=n,e.items[i]["class"]&&(this.keys[i]=e.items[i]["class"]);e.label&&this.setLabel(e.label)},"set":function(e,t){e=1*e,this.selected&&this.selected.removeClass("on"),this.value!=e&&e>=0?(this.selected=this.segments[e],this.selected.addClass("on"),this.value=e):this.value=-1,this.callback&&!t&&this.callback(this)},"key":function(){return-1!=this.value?this.keys.length?this.keys[this.value]:this.value:void 0}}),Spacer=Class.extend({"init":function(e){e||(e={}),this.object=$('<div  class="spacer'+(e["class"]?" "+e["class"]:"")+'" '+(e.width?' style="width:'+e.width+'px"':"")+">&nbsp;</div>")},"setWidth":function(e){e?this.object.css("width",e+"px"):this.object.css("width","auto")}}),openPopover,PopOver=Class.extend({"init":function(e,t,n,i){if(this.container=n?n:$("#container"),this.object=$('<div id="'+e+'" class="popover-new">'),this.sizeObject=this.object,this.container.append(this.object),this.arrow=$('<div class="arrow">'),this.closeCta=$('<a class="popover-new-close" href="#"></a>'),this.smallHeader=$('<div class="popover-new-header"></div>'),this.smallHeader.append(this.closeCta),this.object.append(this.arrow,t),this.object.prepend(this.smallHeader),this.closeCta.on("click",function(e){e.preventDefault()}),i||(i={}),this.positions=i.positions?i.positions:["bottom","bottomright","bottomleft","topleft","topright"],this.beforeShow=i.beforeShow||function(){},this.onHide=i.onHide,this.onShow=i.onShow,this.headerTitle=i.headerTitle,"string"==typeof this.headerTitle&&this.smallHeader.append("<h2>"+this.headerTitle+"</h2>"),this.hideOnClickInPopover="undefined"==typeof i.hideOnClickInPopover?!0:i.hideOnClickInPopover,this.disableHideOnScroll=i.disableHideOnScroll||!1,this.onlyCentered=i.onlyCentered||!1,this.fixedPosition=i.fixedPosition||!1,this.inToolbar=i.inToolbar||!1,this.sizingWithPadding=i.sizingWithPadding||!1,this.scrollingIntoView=!1,this.xOffset=i.xOffset?i.xOffset:0,this.yOffset=i.yOffset?i.yOffset:0,i.smallArrow&&(this.smallArrow=i.smallArrow),i.noClickDismiss&&(this.noClickDismiss=i.noClickDismiss),i.confirmCallback&&(this.confirmCallback=i.confirmCallback),i.confirmButton){this.confirmButton=i.confirmButton,this.object.append('<div class="button_container"><a class="button button-secondary button-small" href="#">Ok</a></div>');var a=this;this.object.find(".button").click(function(e){e.preventDefault(),"object"==typeof openPopover&&openPopover.hideOpenPopover(),a.confirmCallback&&a.confirmCallback()})}i.onInit&&i.onInit()},"show":function(e){if(this.anchor=e,e){this.beforeShow(e),this.object.removeClass("popover-new-topleft popover-new-topright popover-new-bottomleft popover-new-bottomright popover-new-bottom popover-new-left popover-new-top popover-new-right popover-new-centered popover-new-centeredleft");var t=this.object.css("display");this.object.css("display","block"),this.popupSize=getSize(this.sizeObject,this.sizingWithPadding),this.object.css("display",t),this.viewPort=getSize($(window)),this.viewPort.headersHeight=$("header").height(),this.viewPort.footersHeight=$("footer").height(),this.viewPort.height=this.viewPort.height-this.viewPort.headersHeight-this.viewPort.footersHeight,this.viewPort.top=$(window).scrollTop()+this.viewPort.headersHeight,this.inToolbar&&(this.viewPort.top=0),this.viewPort.bottom=this.viewPort.top+this.viewPort.height,this.viewPort.left=0,this.viewPort.right=this.viewPort.width,this.documentSize=getSize($(document)),this.anchorPosition=e.offset(),this.anchorSize={"width":e.width(),"height":e.height()},this.arrowSize={"width":14,"height":10},this.smallArrow&&(this.arrowSize={"width":14,"height":10}),this.fixedPosition?this.object.addClass("popover-new-fixed"):this.object.removeClass("popover-new-fixed"),this.position=!1,this.offset=!1,this.fallbackScrollInto=!1;var n=this.viewPort.width>=queue.BREAK_ITEM_POPUP_WIDE||this.object.hasClass("alt-tooltip");if(!this.onlyCentered&&n)for(var i in this.positions)if(this.tryPosition(this.positions[i]))break;!this.onlyCentered&&n&&(this.position||this.fallbackScrollInto)?(this.fixedPosition&&(this.offset.top-=$(window).scrollTop()),this.object.css("left",this.offset.left+"px").css("top",this.offset.top+1+"px"),this.object.addClass(this.position?this.position:this.fallbackScrollInto),this.object.removeClass("popover-new-centered"),this.fixedPosition||!this.position&&this.fallbackScrollInto&&this.scrollToPopup()):(this.object.css(n?{"left":"50%","top":"50%"}:{"left":"0","top":"0"}),this.object.addClass("popover-new-centered")),this.showAll()}else this.hideAll()},"scrollToPopup":function(){var e=0,t=this.offset.bottom-this.viewPort.bottom,n=this.offset.top-this.viewPort.top;e=this.offset.top>this.viewPort.top&&this.offset.top<this.viewPort.bottom?t:this.offset.bottom>this.viewPort.top&&this.offset.bottom<this.viewPort.bottom?n:Math.abs(t)<Math.abs(n)?t:n;var i=this;this.scrollingIntoView=!0,$("html, body").animate({"scrollTop":this.viewPort.top-this.viewPort.headersHeight+e},500,function(){setTimeout(function(){i.scrollingIntoView=!1},50)})},"showAll":function(){openPopover&&this!==openPopover&&openPopover.hideAll(),openPopover=this,this.clickGuard||(this.clickGuard=$('<div class="clickguard"></div>'),this.container.append(this.clickGuard),openPopover.noClickDismiss||this.clickGuard.click(openPopover.hideOpenPopover)),setTimeout(function(){openPopover.noClickDismiss||$(document).bind("click",openPopover.hideOpenPopover)},10),$(window).bind("scroll",openPopover.onScroll),this.object.addClass("popover-active"),this.clickGuard.show(),this.object.addClass("shown"),this.onShow&&this.onShow(this.anchor)},"hideAll":function(){this.object.removeClass("popover-active"),this.clickGuard&&this.clickGuard.hide(),$(document).unbind("click",openPopover.hideOpenPopover),$(window).unbind("scroll",openPopover.onScroll),openPopover=!1,this.onHide&&this.onHide()},"hideOpenPopover":function(e){if(openPopover){if(openPopover.viewPort.width<queue.BREAK_ITEM_POPUP_WIDE&&"undefined"!=typeof e&&!$(e.target).hasClass("popover-new-close")&&!$(e.target).parents(".popover-new-listitem").length||!openPopover.hideOnClickInPopover&&"undefined"!=typeof e&&0!==$(openPopover.object).find(e.target).length)return;openPopover.hideAll()}},"onScroll":function(){openPopover.scrollingIntoView||openPopover.disableHideOnScroll||openPopover.hideOpenPopover()},"tryPosition":function(e){return this["try_"+e]()},"fits":function(e){return e.top>this.viewPort.top&&e.bottom<this.viewPort.bottom&&e.left>0&&e.right<this.viewPort.right},"canScrollIntoView":function(e){return this.fallbackScrollInto?void 0:e.top>this.viewPort.headersHeight&&e.bottom<this.documentSize.height-this.viewPort.footersHeight&&e.left>0&&e.right<this.documentSize.width},"try_bottom":function(){var e,t;e=Math.round(this.anchorPosition.left+this.anchorSize.width/2-this.arrowSize.width/6)+this.xOffset,t=Math.round(this.anchorPosition.top+1.3*this.arrowSize.height+this.anchorSize.height)+this.yOffset;var n={"left":e-Math.floor(this.popupSize.width/2),"right":e+Math.ceil(this.popupSize.width/2),"top":t,"bottom":t+this.popupSize.height+this.arrowSize.height};return this.fits(n)?(this.position="popover-new-bottom",this.offset=n,!0):void(this.canScrollIntoView(n)&&(this.fallbackScrollInto="popover-new-bottom",this.offset=n))},"try_bottomright":function(){var e,t;e=Math.round(this.anchorPosition.left-this.arrowSize.width/2-this.arrowSize.width/6)+this.xOffset,t=Math.round(this.anchorPosition.top+this.arrowSize.height+this.anchorSize.height)+this.yOffset;var n={"left":e,"right":e+this.popupSize.width,"top":t,"bottom":t+this.popupSize.height+this.arrowSize.height};return this.fits(n)?(this.position="popover-new-bottomright",this.offset=n,!0):void(this.canScrollIntoView(n)&&(this.fallbackScrollInto="popover-new-bottomright",this.offset=n))},"try_bottomleft":function(){var e,t;e=Math.round(this.anchorPosition.left+this.anchorSize.width)+this.xOffset,t=Math.round(this.anchorPosition.top+1.3*this.arrowSize.height+this.anchorSize.height)+this.yOffset;var n={"left":e-this.popupSize.width,"right":e,"top":t,"bottom":t+this.popupSize.height+this.arrowSize.height};return this.fits(n)?(this.position="popover-new-bottomleft",this.offset=n,!0):void(this.canScrollIntoView(n)&&(this.fallbackScrollInto="popover-new-bottomleft",this.offset=n))},"try_top":function(){var e,t;e=Math.round(this.anchorPosition.left+this.anchorSize.width/2-this.arrowSize.width/6)+this.xOffset,t=Math.round(this.anchorPosition.top-this.arrowSize.height)+this.yOffset;var n={"left":e-Math.floor(this.popupSize.width/2),"right":e+Math.ceil(this.popupSize.width/2),"top":t-this.popupSize.height-this.arrowSize.height,"bottom":t};return this.fits(n)?(this.position="popover-new-top",this.offset=n,!0):void(this.canScrollIntoView(n)&&(this.fallbackScrollInto="popover-new-top",this.offset=n))},"try_topleft":function(){var e,t;e=Math.round(this.anchorPosition.left+this.anchorSize.width)+this.xOffset,t=Math.round(this.anchorPosition.top-this.arrowSize.height)+this.yOffset;var n={"left":e-this.popupSize.width,"right":e,"top":t-this.popupSize.height-this.arrowSize.height,"bottom":t};return this.fits(n)?(this.position="popover-new-topleft",this.offset=n,!0):void(this.canScrollIntoView(n)&&(this.fallbackScrollInto="popover-new-topleft",this.offset=n))},"try_topright":function(){var e,t;e=Math.round(this.anchorPosition.left-this.arrowSize.width/2-this.arrowSize.width/6)+this.xOffset,t=Math.round(this.anchorPosition.top-this.arrowSize.height)+this.yOffset;var n={"left":e,"right":e+this.popupSize.width,"top":t-this.popupSize.height,"bottom":t};return this.fits(n)?(this.position="popover-new-topright",this.offset=n,!0):void(this.canScrollIntoView(n)&&(this.fallbackScrollInto="popover-new-topright",this.offset=n))},"try_below":function(){var e,t;e=Math.round(this.anchorPosition.left+this.anchorSize.width/2-this.arrowSize.width/6)+this.xOffset,t=Math.round(this.anchorPosition.top+this.anchorSize.height)+this.yOffset;var n={"left":e-Math.round(this.popupSize.width/2),"right":e+Math.round(this.popupSize.width/2),"top":t,"bottom":t+this.popupSize.height};return this.fits(n)?(this.position="below",this.offset=n,!0):void(this.canScrollIntoView(n)&&(this.fallbackScrollInto="below",this.offset=n))},"try_above":function(){var e,t;e=Math.round(this.anchorPosition.left+this.anchorSize.width/2-this.arrowSize.width/6)+this.xOffset,t=Math.round(this.anchorPosition.top)+this.yOffset;var n={"left":e-Math.round(this.popupSize.width/2),"right":e+Math.round(this.popupSize.width/2),"top":t-this.popupSize.height,"bottom":t};return this.fits(n)?(this.position="above",this.offset=n,!0):void(this.canScrollIntoView(n)&&(this.fallbackScrollInto="above",this.offset=n))},"try_left":function(){var e,t;e=Math.round(this.anchorPosition.left-this.arrowSize.width/4)+this.xOffset,t=Math.round(this.anchorPosition.top+this.anchorSize.height/2)+this.yOffset;var n={"left":e-this.popupSize.width,"right":e,"top":t-Math.round(this.popupSize.height/2),"bottom":t+Math.round(this.popupSize.height/2)};return this.fits(n)?(this.position="popover-new-left",this.offset=n,!0):void(this.canScrollIntoView(n)&&(this.fallbackScrollInto="popover-new-left",this.offset=n))},"try_right":function(){var e,t;e=Math.round(this.anchorPosition.left+this.anchorSize.width+1.2*this.arrowSize.width)+this.xOffset,t=Math.round(this.anchorPosition.top+this.anchorSize.height/2)+this.yOffset;var n={"left":e,"right":e+this.popupSize.width,"top":t-Math.round(this.popupSize.height/2),"bottom":t+Math.round(this.popupSize.height/2)};return this.fits(n)?(this.position="popover-new-right",this.offset=n,!0):void(this.canScrollIntoView(n)&&(this.fallbackScrollInto="popover-new-right",this.offset=n))}}),currentGSFTooltip=!1,IsolateScreen={"screen":null,"anchor":null,"showing":!1,"show":function(e,t){this.screen||(this.screen=$(Handlebars.templates.isolate_screen(dictJSON)),$("body").append(this.screen)),this.anchor=e,this.calcPosition(t),this.showing=!0},"hide":function(){this.screen&&(this.screen.removeClass("isolate_screen_active isolate_screen_simple isolate_screen_immediate"),this.showing=!1,this.anchor=!1)},"calcPosition":function(e){if("object"==typeof this.anchor&&null!==this.anchor){"number"!=typeof e&&(e=0);var t={"x":this.anchor.offset().left-e,"y":this.anchor.offset().top},n={"x":t.x+this.anchor.outerWidth()+2*e,"y":t.y},i={"x":t.x,"y":t.y+this.anchor.outerHeight()},a=({"x":n.x,"y":i.y},$(window).width()),s=$(window).height(),o=$(document).height();o>s&&(s=o),$(".isolate_screen_top").css("height",t.y+"px"),$(".isolate_screen_left").css({"width":t.x+"px","height":i.y-t.y+"px","top":t.y+"px"}),$(".isolate_screen_right").css({"width":a-n.x+"px","height":i.y-t.y+"px","top":t.y+"px"}),$(".isolate_screen_bottom").css({"top":i.y+"px","height":s-i.y+"px"}),this.showing&&$(".isolate_screen_detail").addClass("isolate_screen_immediate"),$(".isolate_screen_top").removeClass("isolate_screen_simple"),$(".isolate_screen_detail").addClass("isolate_screen_active")}else $(".isolate_screen_top").css("height","100%"),$(".isolate_screen_left").css({"width":"100%","height":"100%","top":0}),$(".isolate_screen_right").css({"width":"100%","height":"100%","top":0}),$(".isolate_screen_bottom").css({"top":0,"height":"100%"}),this.showing&&$(".isolate_screen_detail").addClass("isolate_screen_immediate"),$(".isolate_screen_top").addClass("isolate_screen_simple"),$(".isolate_screen_detail").removeClass("isolate_screen_active"),this.showing?$(".isolate_screen_top").addClass("isolate_screen_active"):setTimeout(function(){$(".isolate_screen_top").addClass("isolate_screen_active")},1)}},OverlayScreen={"overlayDetail":"<p></p>","showing":!1,"hide":function(){var e=this;Modernizr.csstransitions?this.overlayScreen.on("webkitTransitionEnd transitionend msTransitionEnd oTransitionEnd",function(t){$(t.target).hasClass("overlay_screen")&&(e.overlayScreen.find(".content_detail_loading").remove(),e.overlayScreen.off("webkitTransitionEnd transitionend msTransitionEnd oTransitionEnd"),e.overlayScreen.hide(),e.showing=!1)}):(e.overlayScreen.find(".content_detail_loading").remove(),e.overlayScreen.hide(),e.showing=!1),this.overlayScreen.removeClass("overlay_screen_active overlay_screen_dark")},"setDetail":function(e){this.overlayDetail=e},"show":function(){this.overlayScreen?this.overlayScreen.show():(this.overlayScreen=$('<div class="overlay_screen"><div class="content_container"><div class="content_detail"></div></div></div>'),$("body").append(this.overlayScreen)),this.overlayScreen.find(".content_container").css("height",$(window).height()+"px"),this.overlayScreen.find(".content_detail").html("").append(this.overlayDetail),this.overlayScreen.addClass("overlay_screen_active"),this.showing=!0}},Templating={"callTrans":function(e,t,n,i){if("object"!=typeof dictJSON)return"";for(var a=e.split("."),s=dictJSON,o=0;o<a.length;o++){if("undefined"==typeof s[a[o]])return"";s=s[a[o]]}if("string"!=typeof s)return"";if("undefined"==typeof t||"undefined"==typeof n||!t||!n)return"undefined"!=typeof i&&i?s.replace(/{(.*)}/i,i):s;if("string"==typeof t)return s.replace(/(\*)(.*)(\*)/i,t+"$2"+n);if("object"==typeof t){for(var o=0;o<t.length;o++)s=s.replace(/(\*)([^\*]*)(\*)/i,t[o]+"$2"+n[o]);return s}}},custom_decode_entities=function(){function e(e){return e&&"string"==typeof e&&(e=escape(e).replace(/%26/g,"&").replace(/%23/g,"#").replace(/%3B/g,";"),t.innerHTML=e,t.innerText?(e=t.innerText,t.innerText=""):(e=t.textContent,t.textContent="")),unescape(e)}var t=document.createElement("div");return e}(),ffbtnto=!1,listenerOnCookieName="ffbso",DataAdapter=Class.extend({"init":function(){this.sendingCount=0,this.pendingGets=[],this.requests={}},"send":function(e,t){var n=this.rId(e,!0);this.sendingCount++,this.requests[n]=this.makeRequest(n,e,t,!1)},"get":function(e,t){var n=this.rId(e);this.requests[n]&&(this.requests[n].abort(),this.requests[n]=!1),this.sendingCount>0?this.pendingGets.push({"action":e,"o":t}):this.requests[n]=this.makeRequest(n,e,t,!0)},"makeRequest":function(e,t,n,i){return new Request({"rId":e,"isGet":!!i,"action":t,"o":n,"delegate":this})},"success":function(e,t){if(this.requests[t.rId]){if(e.error&&1==e.error)return void boot.logout();t.o.delegate&&t.o.delegate[t.o.doneSelector].call(t.o.delegate,e,t.o)}},"error":function(e){this.requests[e.rId]&&(e.o.delegate&&e.o.errorSelector?e.o.delegate[e.o.errorSelector].call(e.o.delegate,e.o):boot.showErrorNotification(Templating.callTrans("notification.unexpectederror")))},"always":function(e){if(this.requests[e.rId]=!1,!e.isGet&&(this.sendingCount--,0===this.sendingCount)){var t=$.extend(!0,[],this.pendingGets);if(this.pendingGets=[],t.length)for(var n=0;n<t.length;n++)this.get(t[n].action,t[n].o)}},"rId":function(e,t){return e+(t?"|"+Math.random():"")}}),RequestCore=Class.extend({"init":function(e){this.rId=e.rId,this.isGet=e.isGet,this.delegate=e.delegate,this.action=e.action,this.data=e.o.data,this.dataType=e.o.dataType||"json",this.o=e.o,this.send()},"abort":function(){},"success":function(e){this.delegate&&this.delegate.success(e,this)},"error":function(e){"abort"!=e&&this.delegate&&this.delegate.error(this)},"always":function(){this.delegate&&this.delegate.always(this)}}),Request=RequestCore.extend({"send":function(){var e=this;this.data||(this.data={}),this.data.formCheck=formCheck,this.ajaxRequest=$.ajax({"type":"POST","url":"/a/x/"+this.action+".php","data":this.data,"dataType":this.dataType,"success":function(t,n,i){e.success(t),e.data.successResponse&&e.data.successResponse(t)},"error":function(t,n,i){"abort"!=n&&e.error(n)},"complete":function(t,n){e.always()}})},"abort":function(){this.ajaxRequest.abort()}});PKTToast.prototype={"nonanimationtimer":null,"show":function(e){var t=this;this.obj||(this.obj=$('<div class="pkt_toast_wrapper"><div class="pkt_toast"></div></div>'),$(document.body).append(this.obj)),this.obj.show(),this.toastdetail=this.obj.find(".pkt_toast"),window.getComputedStyle(this.toastdetail[0]).opacity;var n=!1;this.toastdetail.hasClass("pkt_toast_active")?(n=!0,this.toastdetail.text(e)):this.toastdetail.text(e).addClass("pkt_toast_active"),n?Modernizr.cssanimations?(this.toastdetail.removeClass("pkt_toast_active"),this.toastdetail[0].offsetWidth=this.toastdetail[0].offsetWidth,this.toastdetail.addClass("pkt_toast_active_alt")):"number"==typeof this.nonanimationtimer&&(clearTimeout(this.nonanimationtimer),this.nonanimationtimer=setTimeout(function(){t.hide()},3e3)):Modernizr.cssanimations?this.toastdetail.one("webkitAnimationEnd animationend msAnimationEnd oAnimationEnd",function(e){t.hide()}):this.nonanimationtimer=setTimeout(function(){t.hide()},3e3)},"hide":function(){var e=this;this.obj&&(Modernizr.cssanimations?(e.toastdetail.addClass("pkt_toast_inactive"),e.toastdetail.one("webkitAnimationEnd animationend msAnimationEnd oAnimationEnd",function(t){e.toastdetail.removeClass("pkt_toast_active pkt_toast_inactive"),e.obj.hide()})):(e.toastdetail.removeClass("pkt_toast_active"),e.obj.hide()))}};var sharedToast=new PKTToast;Boot.prototype={"init":function(){if(this.addLinkListener(),this.addKeyboardShortcuts(),this.loadStateFromUrl(),this.addSyncingTrigger(),this.runMouseDetection(),"object"==typeof this.ExternalUserSettings.styles){this.skin=this.ExternalUserSettings.styles.skin;var e=$("body").attr("class");$("body").attr("class",e.replace(/page-queue(\w+)/,"page-queue"+this.skin).replace(/page-reader(\w+)/,"page-reader"+this.skin).replace(/page-skin(\w+)/,"page-skin"+this.skin))}"object"==typeof window.optimizely&&window.optimizely.push(ServerSettings.fromSignup?["trackEvent","user_signup"]:["trackEvent","user_login"])},"addLinkListener":function(){$("#page").on("click","a[href]",function(e){if(e.metaKey||e.ctrlKey||e.altKey||e.shiftKey)return!0;var t=this.getAttribute("href");return t.match(/^\/a\//)?($(".popover-new").removeClass("popover-active"),$("#nav-bottom-more").parent().removeClass("nav-active"),$(".section-filter-options").hasClass("section-filter-options-active")&&$(".searchtoolbar_queue").find(".section-filter").trigger("click"),boot.loadStateFromUrl(t),!1):void 0})},"addKeyboardShortcuts":function(){var e=this;Mousetrap.bind("g l",function(){boot.pages.queue.isOpen&&!OverlayScreen.showing&&$(".section-mylist").trigger("click")}),Mousetrap.bind("g f",function(){boot.pages.queue.isOpen&&!OverlayScreen.showing&&$(".section-favorites").trigger("click")}),Mousetrap.bind("g a",function(){boot.pages.queue.isOpen&&!OverlayScreen.showing&&$(".section-archive").trigger("click")}),Mousetrap.bind("g r",function(){boot.pages.queue.isOpen&&!OverlayScreen.showing&&$(".filter-articles").trigger("click")}),Mousetrap.bind("g v",function(){boot.pages.queue.isOpen&&!OverlayScreen.showing&&$(".filter-videos").trigger("click")}),Mousetrap.bind("g i",function(){boot.pages.queue.isOpen&&!OverlayScreen.showing&&$(".filter-images").trigger("click")}),Mousetrap.bind("g s",function(e){boot.pages.queue.isOpen&&!OverlayScreen.showing&&(e.preventDefault(),e.stopImmediatePropagation(),boot.pages.queue.showSearchState(!0),PocketAnalytics.action("search_focus","interact","webapp",1))}),Mousetrap.bind("g u",function(e){boot.pages.queue.isOpen&&!OverlayScreen.showing&&$("#pagenav_addarticle > a").trigger("click")}),Mousetrap.bind("g b",function(e){boot.pages.queue.isOpen&&!OverlayScreen.showing&&$(".pagenav_bulkedit > a").trigger("click")}),Mousetrap.bind("s n",function(){if(boot.pages.queue.isOpen&&!OverlayScreen.showing){if("object"!=typeof boot.ExternalUserSettings||"newest"==boot.ExternalUserSettings.sortlist)return void sharedToast.show(Templating.callTrans("queue.sortingbynewest"));boot.ExternalUserSettings.sortlist="newest",boot.saveExternalUserSettings(),queue.reloadList(),sharedToast.show(Templating.callTrans("queue.sortingbynewest")),PocketAnalytics.action("sort_queue_newest","interact","webapp",1)}}),Mousetrap.bind("s o",function(){if(boot.pages.queue.isOpen&&!OverlayScreen.showing){if("object"!=typeof boot.ExternalUserSettings||"oldest"==boot.ExternalUserSettings.sortlist)return void sharedToast.show(Templating.callTrans("queue.sortingbyoldest"));boot.ExternalUserSettings.sortlist="oldest",boot.saveExternalUserSettings(),queue.reloadList(),sharedToast.show(Templating.callTrans("queue.sortingbyoldest")),PocketAnalytics.action("sort_queue_oldest","interact","webapp",1)}}),Mousetrap.bind("v l",function(){if(boot.pages.queue.isOpen&&!OverlayScreen.showing){if($(".pagenav_listview").length)return;PocketAnalytics.action("toggle_view_list","interact","webapp",1),e.loadStateFromUrl($(".pagenav_gridlist").children("a").attr("href"))}}),Mousetrap.bind("v t",function(){if(boot.pages.queue.isOpen&&!OverlayScreen.showing){if($(".pagenav_gridview").length)return;PocketAnalytics.action("toggle_view_grid","interact","webapp",1),e.loadStateFromUrl($(".pagenav_gridlist").children("a").attr("href"))}}),Mousetrap.bind("v w",function(){OverlayScreen.showing||boot.pages.reader.setSkin("light")}),Mousetrap.bind("v d",function(){OverlayScreen.showing||boot.pages.reader.setSkin("dark")}),Mousetrap.bind("v s",function(){OverlayScreen.showing||boot.pages.reader.setSkin("sepia")}),Mousetrap.bind(["shift+/","/"],function(){PocketAnalytics.action("view_shortcuts","interact","webapp",1),"function"==typeof $.fn.chardinJs&&($("body").one("chardinJs:start",function(){if(!$(".chardinjs-keyboard").length){var e;boot.pages.queue.isOpen?(dictJSON.manual.help_lfa=Templating.callTrans("help.xtheny").replace("xxxxx","g").replace("yyyyy","l/f/a"),dictJSON.manual.help_rvi=Templating.callTrans("help.xtheny").replace("xxxxx","g").replace("yyyyy","r/v/i"),dictJSON.manual.help_s=Templating.callTrans("help.xtheny").replace("xxxxx","g").replace("yyyyy","s"),dictJSON.manual.help_u=Templating.callTrans("help.xtheny").replace("xxxxx","g").replace("yyyyy","u"),dictJSON.manual.help_b=Templating.callTrans("help.xtheny").replace("xxxxx","g").replace("yyyyy","b"),dictJSON.manual.help_n=Templating.callTrans("help.xtheny").replace("xxxxx","s").replace("yyyyy","n"),dictJSON.manual.help_o=Templating.callTrans("help.xtheny").replace("xxxxx","s").replace("yyyyy","o"),dictJSON.manual.help_l=Templating.callTrans("help.xtheny").replace("xxxxx","v").replace("yyyyy","l"),dictJSON.manual.help_t=Templating.callTrans("help.xtheny").replace("xxxxx","v").replace("yyyyy","t"),dictJSON.manual.help_vw=Templating.callTrans("help.xtheny").replace("xxxxx","v").replace("yyyyy","w"),dictJSON.manual.help_vd=Templating.callTrans("help.xtheny").replace("xxxxx","v").replace("yyyyy","d"),dictJSON.manual.help_vs=Templating.callTrans("help.xtheny").replace("xxxxx","v").replace("yyyyy","s"),e=Handlebars.templates.queue_helpoverlay):(dictJSON.manual.help_vw=Templating.callTrans("help.xtheny").replace("xxxxx","v").replace("yyyyy","w"),dictJSON.manual.help_vd=Templating.callTrans("help.xtheny").replace("xxxxx","v").replace("yyyyy","d"),dictJSON.manual.help_vs=Templating.callTrans("help.xtheny").replace("xxxxx","v").replace("yyyyy","s"),e=Handlebars.templates.reader_helpoverlay),header=$(e(dictJSON)),$(".chardinjs-overlay").append(header)}}),$("body").chardinJs("toggle"))}),Mousetrap.bind("j",function(t){boot.pages.queue.isOpen&&!OverlayScreen.showing&&(e.pages.queue.highlightItemMove(!0),PocketAnalytics.action("item_next","interact","webapp",1))}),Mousetrap.bind("k",function(t){boot.pages.queue.isOpen&&!OverlayScreen.showing&&(e.pages.queue.highlightItemMove(!1),PocketAnalytics.action("item_previous","interact","webapp",1))}),Mousetrap.bind(["return","enter"],function(t){boot.pages.queue.isOpen&&!OverlayScreen.showing&&(t.preventDefault(),e.pages.queue.highlightItemAction("open"))}),Mousetrap.bind("a",function(t){boot.pages.queue.isOpen&&!OverlayScreen.showing?e.pages.queue.highlightItemAction("mark"):boot.pages.reader.isOpen&&!OverlayScreen.showing&&(e.pages.reader.actionToggle("mark"),PocketAnalytics.action("archive","interact","webapp",1))}),Mousetrap.bind("b",function(e){boot.pages.reader.isOpen&&!OverlayScreen.showing&&$("#pagenav_back a").trigger("click")}),Mousetrap.bind("d",function(t){boot.pages.reader.isOpen&&!OverlayScreen.showing&&e.pages.reader.toggleFullScreenMode()}),Mousetrap.bind("f",function(t){boot.pages.queue.isOpen&&!OverlayScreen.showing?e.pages.queue.highlightItemAction("favorite"):boot.pages.reader.isOpen&&!OverlayScreen.showing&&(e.pages.reader.actionToggle("favorite"),PocketAnalytics.action("favorite","interact","webapp",1))}),Mousetrap.bind("o",function(t){if(boot.pages.queue.isOpen&&!OverlayScreen.showing)e.pages.queue.highlightItemAction("browseropen");else if(boot.pages.reader.isOpen&&"string"==typeof boot.pages.reader.item.given_url&&!OverlayScreen.showing){var n=boot.pages.reader.item,i=n.resolved_url?n.resolved_url:n.given_url;PocketAnalytics.action("open_original","interact","webapp",1),window.open(urlWithPocketRedirect(i))}}),Mousetrap.bind("t",function(t){boot.pages.queue.isOpen&&!OverlayScreen.showing?e.pages.queue.highlightItemAction("tag"):boot.pages.reader.isOpen&&!OverlayScreen.showing&&$("#pagenav_tag").find("a").trigger("click")}),Mousetrap.bind(["command+-","control+-"],function(t){t.preventDefault(),boot.pages.reader.isOpen&&!OverlayScreen.showing&&(e.pages.reader.fontInc(-1),PocketAnalytics.action("font_decrease","interact","webapp",1))}),Mousetrap.bind(["command+=","control+="],function(t){boot.pages.reader.isOpen&&!OverlayScreen.showing&&(t.preventDefault(),e.pages.reader.fontInc(1),PocketAnalytics.action("font_increase","interact","webapp",1))}),Mousetrap.bind(["space"],function(t){boot.pages.reader.isOpen&&!OverlayScreen.showing&&(t.preventDefault(),e.pages.reader.scrollPage())}),Mousetrap.bind("esc",function(e){boot.pages.queue.isOpen&&OverlayScreen.showing?(e.preventDefault(),"object"==typeof OverlayScreen&&OverlayScreen.hide()):boot.pages.queue.isOpen&&$(".container-bulkedit-active").length&&(e.preventDefault(),boot.pages.queue.showBulkEdit(!1))})},"loadStateFromUrl":function(e){var t={},n=parseUri(e?e:window.location);t.sections=n.path.replace(new RegExp("^"+this.urlHead),"").split("/");for(var i=0;i<t.sections.length;i++)t.sections[i]=decodeURIComponent(t.sections[i]);t.page=t.sections[0],t.page||(t.page=this.defaultPage),this.router[t.page]?(t.controller=this.pages[this.router[t.page]],t.controller.loadState(t)):this.loadStateFromUrl("/a/")},"addSyncingTrigger":function(){this.addSyncByWindowFocus()},"addSyncByWindowFocus":function(){$(window).on("focus",function(){queue.sync()})},"runMouseDetection":function(){var e=this;if(Modernizr.touch&&!/iPhone/.test(navigator.userAgent)&&!/iPad/.test(navigator.userAgent)&&!/Android/.test(navigator.userAgent)){var t=!1;$(document).on("mousedown.detectMouse",function(e){t=!1}),$(document).on("mousemove.detectMouse",function(n){t&&(Modernizr.touch=!1,$("html").removeClass("touch").addClass("no-touch touch-hybrid"),
$(document).off("mousedown.detectMouse"),$(document).off("mousemove.detectMouse"),e.mouseDetectionOverride=!0),t=!0})}},"saveGSFStatus":function(){var e=this;"object"==typeof this.GSFStatus&&("object"==typeof ServerSettings&&(ServerSettings.GSFStatus=JSON.stringify(this.GSFStatus)),this.data.send("saveUserMeta",{"data":{"property":e.USERS_META_WEB_GSF_SETTINGS,"value":JSON.stringify(e.GSFStatus),"unique":!0}},!0))},"saveExternalUserSettings":function(){var e=this;"object"==typeof this.ExternalUserSettings&&("object"==typeof ServerSettings&&(ServerSettings.externalUserSettings=JSON.stringify(this.ExternalUserSettings)),this.data.send("saveUserMeta",{"data":{"property":e.USERS_META_WEB_DISPLAY_SETTINGS,"value":JSON.stringify(e.ExternalUserSettings),"unique":!0}},!0))},"saveMarketingOptOutStatus":function(e){var t=this;this.data.send("saveUserMeta",{"data":{"property":t.USERS_META_MARKETING_OPTOUT,"value":e?"opt_out":"opt_in","unique":!0}},!0)},"leaveBetaStatus":function(){var e=this;this.data.send("saveUserMeta",{"data":{"property":e.USERS_META_WEB_BETA_STATUS,"value":{"active":!1},"unique":!0,"successResponse":function(e){"object"==typeof e&&"number"==typeof e.status&&1==e.status&&(document.location.href="/a?from=beta")}}},!0)},"pushState":function(e,t){this.pushing=!0,History.pushState(!1,e,t),this.pushing=!1,"undefined"!=typeof pageTracker&&pageTracker&&pageTracker._trackPageview(t),"function"==typeof ga&&ga("send","pageview",t)},"showPage":function(e){if(!e.page.hasClass("active")){this.activeController&&"reader"==this.activeController.nav&&"string"==typeof boot.pages.reader.itemId&&this.data.send("leftItem",{"data":{"itemId":boot.pages.reader.itemId}},!0);var t=!0;this.activeController?(this.activeController.willHide(),"queue"==this.activeController.nav&&$(".side-nav").addClass("side-nav-forcehidden"),this.activeController.page.removeClass("active"),this.activeController.navigationItem.removeClass("active"),this.activeController.footerItem&&this.activeController.footerItem.object.removeClass("active"),this.activeController.didHide()):t=!1;var n=this.skin?"page-"+e.nav+this.skin+" page-skin"+this.skin:"page-"+e.nav+"light page-skinlight",i=$("body").attr("class").match(/(page-app-([\w|-]+))/i),a=$("body").hasClass("page-notificationpersistent");"object"==typeof i&&i.length>1&&(i=i[1]),$("body").attr("class","").addClass("page-"+e.nav+" "+n),"string"==typeof i&&$("body").addClass(i),a&&$("body").addClass("page-notificationpersistent"),"object"==typeof openPopover&&openPopover.hideOpenPopover(),IsolateScreen.showing&&IsolateScreen.hide(),"queue"==e.nav&&($(".side-nav").removeClass("side-nav-forcehidden"),boot.GSFStatus.waitplaceholderanalytics&&(PocketAnalytics.action("gsf_oneitemplaceholder","view","webapp"),boot.GSFStatus.waitplaceholderanalytics=!1),boot.GSFStatus.waitrecommendedcall&&(PocketAnalytics.action("gsf_articledetailtooltip_skip","click","webapp"),boot.GSFStatus.waitrecommendedcall=!1,setTimeout(function(){queue.gsfCheckLogicAlt()},0)),boot.pages.reader.deactivateReaderSelectionHandler()),e.page.addClass("active"),"object"==typeof boot.ExternalUserSettings&&boot.ExternalUserSettings.existingprerecommend&&boot.ExternalUserSettings.showprofilereminder&&"queue"==e.nav&&!queue.initialView&&setTimeout(function(){queue.gsftooltip=createTooltip($("#pagenav_options > a"),"",Templating.callTrans("sharing.seeprofile"),["bottom","bottomleft"]),$(".pkt-nav").append(queue.gsftooltip.object),queue.gsftooltip.object.addClass("alt-tooltip-recommended"),setTimeout(function(){queue.gsftooltip.object.addClass("alt-tooltip-recommendedactive")},0),boot.ExternalUserSettings.showprofilereminder=!1,boot.saveExternalUserSettings(),$("body").one("click",function(){"object"==typeof queue.gsftooltip&&queue.gsftooltip.show(!1)})},200),e.navigationItem.addClass("active"),e.footerItem&&e.footerItem.object.addClass("active"),$("#page").toggleClass("show_footer",!!e.footerItem),$("header nav li").removeClass("selected"),$("#nav_"+e.nav).addClass("selected"),this.activeController=e,this.activeController.didShow(),"queue"==e.nav&&$.trim(boot.pages.queue.searchField.val()).length?boot.pages.queue.showSearchState(!0,!0):boot.pages.queue.searchStateMode&&(boot.pages.queue.showSearchState(!1,!0),boot.pages.queue.saveSearchStateToPrevSearches())}},"showNotification":function(e,t,n,i){var a=$(".notifications-sync"),s=a.find(".progress-bar-content");s.removeClass("progress-bar-zeroed"),"undefined"!=typeof e&&a.find(".message").html(e),"undefined"!=typeof i&&i?a.addClass("notifications-synconlymode"):"undefined"!=typeof t&&t?"number"==typeof n?(n>1&&(n=1),s.css("width",100*n+"%"),0===n&&s.addClass("progress-bar-zeroed")):s.css("width","1%"):s.css("width","100%"),a.addClass("notifications-active")},"hideNotification":function(){var e=$(".notifications-sync");e.removeClass("notifications-active"),Modernizr.csstransitions?e.on("webkitTransitionEnd transitionend msTransitionEnd oTransitionEnd",function(e){$(e.target).hasClass("notifications-sync")&&($(this).find(".progress-bar-content").addClass("progress-bar-zeroed").removeClass("notifications-synconlymode"),$(this).off("webkitTransitionEnd transitionend msTransitionEnd oTransitionEnd"))}):e.find(".progress-bar-content").addClass("progress-bar-zeroed").removeClass("notifications-noprogress")},"updateNotification":function(e,t){var n=$(".notifications-sync"),i=n.find(".progress-bar-content");"string"==typeof e&&n.find(".message").text(e),"number"==typeof t&&(t>1&&(t=1),i.css("width",100*t+"%"),0===t?i.addClass("progress-bar-zeroed"):i.removeClass("progress-bar-zeroed"))},"showErrorNotification":function(e,t,n){var i=$(".notifications-error");if(!t)if(Modernizr.csstransitions)i.one("webkitTransitionEnd transitionend msTransitionEnd oTransitionEnd",function(e){n?setTimeout(function(){i.removeClass("notifications-active")},5e3):i.removeClass("notifications-active")});else{var a=n?8e3:3e3;setTimeout(function(){i.removeClass("notifications-active")},a)}"string"==typeof e&&i.find(".message").html(e),i.addClass("notifications-active")},"logout":function(){removeSetting("GSFStatus"),window.location="/lo/"},"goBack":function(){History.back()},"expandToFullFontBundle":function(){!function(e){var t,n={"kitId":"blp0sen","scriptTimeout":3e3},i=e.documentElement,a=setTimeout(function(){i.className=i.className.replace(/\bwf-loading\b/g,"")+" wf-inactive"},n.scriptTimeout),s=e.createElement("script"),o=!1,r=e.getElementsByTagName("script")[0];i.className+=" wf-loading",s.src="//use.typekit.net/"+n.kitId+".js",s.async=!0,s.onload=s.onreadystatechange=function(){if(t=this.readyState,!(o||t&&"complete"!=t&&"loaded"!=t)){o=!0,clearTimeout(a);try{Typekit.load(n)}catch(e){}}},r.parentNode.insertBefore(s,r)}(document)}};var boot=new Boot;$(document).ready(function(){boot.init()}),History.Adapter.bind(window,"statechange",function(e){var t=History.getState();return boot.pushing||boot.loadStateFromUrl(t.url),!0}),Reader.prototype={"init":function(){var e=this;this.data=queue.data,ServerSettings.PremiumStatus&&(queue.premiumMode=!0);var t=Handlebars.templates.reader_navitem;this.navigationItem=$(t(dictJSON)),$("#page .pkt-nav").append(this.navigationItem),this.styleMenuContent=$(Handlebars.templates.reader_stylemenu(dictJSON)),this.styleMenuContent.find("#submenu_font_serif a").click(function(t){t.preventDefault(),(!$("#subnav").hasClass("inactive")||$(t.target).hasClass("selected"))&&e.setFont("serif")}),this.styleMenuContent.find("#submenu_font_sans a").click(function(t){t.preventDefault(),(!$("#subnav").hasClass("inactive")||$(t.target).hasClass("selected"))&&e.setFont("sans")}),this.styleMenuContent.find("#submenu_font_down a").click(function(t){t.preventDefault(),$("#subnav").hasClass("inactive")||(PocketAnalytics.action("font_decrease","interact","webapp"),e.fontInc(-1))}),this.styleMenuContent.find("#submenu_font_up a").click(function(t){t.preventDefault(),$("#subnav").hasClass("inactive")||(PocketAnalytics.action("font_increase","interact","webapp"),e.fontInc(1))}),this.styleMenuContent.find("#submenu_theme_light a").click(function(t){t.preventDefault(),(!$("#subnav").hasClass("inactive")||$(t.target).hasClass("selected"))&&e.setSkin("light")}),this.styleMenuContent.find("#submenu_theme_dark a").click(function(t){t.preventDefault(),(!$("#subnav").hasClass("inactive")||$(t.target).hasClass("selected"))&&e.setSkin("dark")}),this.styleMenuContent.find("#submenu_theme_sepia a").click(function(t){t.preventDefault(),(!$("#subnav").hasClass("inactive")||$(t.target).hasClass("selected"))&&e.setSkin("sepia")}),this.page=$(Handlebars.templates.reader_pageshell(dictJSON)),$("#content").append(this.page),/MSIE/.test(navigator.userAgent)&&this.page.addClass("articleview_nofavicon"),this.articleview=this.page.find(".reader_content_wrapper"),this.page.append(this.articleview),this.content=this.page.find(".reader_content"),$("#pagenav_home a").click(function(e){e.preventDefault(),document.location.href="/a"}),$("#pagenav_back a").click(function(t){boot.GSFStatus.active&&$(".tooltip-reader").is(":visible")&&"object"==typeof openPopover&&openPopover.hideOpenPopover(),e.goBackToQueue(),t.preventDefault()}),$("#pagenav_mark a").click(function(t){e.actionToggle("mark"),t.preventDefault()}),$("#pagenav_delete a").click(function(t){e.confirmDelete(),t.preventDefault()}),$("#pagenav_tag a").click(function(t){e.editItemTags(),t.preventDefault()}),$("#pagenav_favorite a").click(function(t){e.actionToggle("favorite"),t.preventDefault()}),$("#pagenav_share a").click(function(t){e.showShareMenu(this),t.preventDefault()}),$("#pagenav_style a").click(function(t){e.showStyleMenu(this),t.preventDefault()}),$("#pagenav_more a").click(function(t){e.showMoreActionsMenu(this),t.preventDefault()}),Modernizr.touch||$(".hint-item").each(function(e,t){createSimpleTooltip($(t))}),this.inited=!0},"goBackToQueue":function(){queue.inited?boot.goBack():boot.loadStateFromUrl($(window).width()<boot.pages.queue.BREAK_ITEM_COLUMNS_TWO&&"object"==typeof boot.pages.queue.state?"/a/"+boot.pages.queue.state.section+"/list":"/a/")},"currentLoadedURL":function(){return"undefined"!=typeof this.item?this.item.given_url||this.item.original_url||this.item.url:""},"loadState":function(e){this.inited||(this.init(),queue.inited||PocketAnalytics.setOpenContext("queue",e.sections[1],0)),this.itemId=e.sections[1],this.item=queue.itemForItemID(this.itemId);var t="/a/read/"+this.itemId;window.location!=t&&boot.pushState("Pocket",t);var n=$("#i"+this.itemId);1==n.size()&&($("#pagenav_mark").toggleClass("archived selected","1"==n.attr("status")),"1"==n.attr("status")?$("#pagenav_mark a").attr("title",Templating.callTrans("cta.addtolist")).text(Templating.callTrans("cta.addtolist")):$("#pagenav_mark a").attr("title",Templating.callTrans("cta.archive")).text(Templating.callTrans("cta.archive")),$("#pagenav_favorite").toggleClass("selected","1"==n.attr("favorite"))),this.stateChanged()},"stateChanged":function(){this.addScrollEventHandler(),$(".reading_progress_bar").css("width","0"),this.headerBottom=null,$(".toolbar_reader").removeClass("toolbar_reader_showextras"),$(".toolbar_reader_title").text(""),this.toolbarShowingExtras=!1,this.loadItem(),boot.showPage(this)},"willHide":function(){this.saveScroll(!0),this.showStyleMenu(!1),2==this.item.has_video?this.content.find("iframe").remove():this.content.find(".RIL_VIDEO").remove(),this.item=void 0,this.itemId=void 0,this.removeScrollEventHandler()},"didHide":function(){this.navigationItem.find(".leftItem li").removeClass("selected"),this.isOpen=!1},"didShow":function(){this.isOpen=!0,scrollToTop()},"loadItem":function(){this.page.addClass("loading"),this.loading=!0,this.loadLayout(),2==this.item.has_video?this.loadVideoItem():2==this.item.has_image?this.loadImageItem():this.loadArticleItem()},"loadArticle":function(){return"undefined"==typeof this.item||"undefined"==typeof this.item.status?void this.loadArticleItemByUrl(this.currentLoadedURL()):void this.loadArticleItem()},"loadArticleItem":function(){this.item&&(this.noarticlewarning=0==this.item.is_article&&2!=this.item.has_image&&2!=this.item.has_video,this.data.getArticle({"data":{"itemId":this.itemId,"context":PocketAnalytics.openContext},"delegate":this,"doneSelector":"articleLoaded"}))},"loadArticleItemByUrl":function(e){this.data.getArticle({"data":{"url":e},"delegate":this,"doneSelector":"articleLoadedUrl"})},"articleLoadedUrl":function(e,t){this.item=e.item,this.itemId=e.item.item_id,this.item.time_added=e.timePublished,$("body").scrollTop(0),this.articleLoaded(e,t)},"articleLoaded":function(e,t){var n=this;if("-1"==status||!e||!e.status)return boot.showErrorNotification(Templating.callTrans("notification.itemnotfound")),void setTimeout(function(){boot.loadStateFromUrl("/a/")},3e3);var i=e.article,a=this.item=e.item;"undefined"!=typeof i.lang&&i.lang&&"undefined"!=typeof boot.ExternalUserSettings.fontbundle&&"standard"==boot.ExternalUserSettings.fontbundle&&"en"!=i.lang&&"eng"!=i.lang&&"fr"!=i.lang&&"fra"!=i.lang&&"de"!=i.lang&&"deu"!=i.lang&&"es"!=i.lang&&"spa"!=i.lang&&"pt"!=i.lang&&"por"!=i.lang&&"it"!=i.lang&&"ita"!=i.lang&&(boot.ExternalUserSettings.fontbundle="full",boot.saveExternalUserSettings(),boot.expandToFullFontBundle()),a.title=i.title,a.resolved_url=i.resolvedUrl,a.item_id=this.itemId,a.tags=e.tags;var s=parseUri(a.resolved_url),o=s.host,r=i.datePublished?i.datePublished.split(/[- :]/):!1,l=r[0]&&"0000"!=r[0]?new Date(r[0],r[1]-1,r[2],r[3],r[4],r[5]):!1,c=l?moment(l).lang(ServerSettings.language).format("MMMM Do, YYYY"):"";if(i.isVideo)return"object"==typeof i.videos&&(a.videos=i.videos),a.time_published_formatted=c,a.resolved_title=a.title,a.authors=i.authors,$("#pagenav_mark").toggleClass("archived selected",1==a.status),1==a.status?$("#pagenav_mark a").attr("title",Templating.callTrans("cta.addtolist")).text(Templating.callTrans("cta.addtolist")):$("#pagenav_mark a").attr("title",Templating.callTrans("cta.archive")).text(Templating.callTrans("cta.archive")),$("#pagenav_favorite").toggleClass("selected",1==a.favorite),void this.loadVideoItem();var u=this.replaceVideos(i.article,i.videos);if(this.fillLayout(a.title,o,i.authors,c,a.given_url,a.tags,u),this.noarticlewarning){var d=Handlebars.templates.reader_noarticlewarning(dictJSON);d=d.replace(/\*(.*)\*(.*)\n(.*)\*(.*)\*/,'<a class="fullwebswitch" href="#">$1</a>$2\n$3<a href="'+sanitizeText(a.given_url)+'" target="_blank">$4</a>'),$(".text_body").prepend(d);var n=this}if($("#pagenav_mark").toggleClass("archived selected",1==a.status),1==a.status?$("#pagenav_mark a").attr("title",Templating.callTrans("cta.addtolist")).text(Templating.callTrans("cta.addtolist")):$("#pagenav_mark a").attr("title",Templating.callTrans("cta.archive")).text(Templating.callTrans("cta.archive")),$("#pagenav_favorite").toggleClass("selected",1==a.favorite),this.loadImages(i.images),a.nodeIndex){var h=a.nodeIndex;setTimeout(function(){reader.ignoreScroll=!0,n.scrollToNodeIndex(h),setTimeout(function(){reader.ignoreScroll=!1},250)},100)}this.page.removeClass("content-article content-video content-image").addClass("content-article"),this.page.removeClass("loading"),this.loading=!1,$(window).width()>=this.BREAK_ITEM_SHOWTOOLBARTITLE&&(this.headerBottom=$(".reader_head h1").offset().top+$(".reader_head h1").height()-$(".pkt-nav").height()),this.layout.tags.hasClass("hasTags")&&queue.checkTileTagOverflow(this.layout.tags,parseInt(this.layout.tags.find(".tag_container").css("maxWidth"))),setTimeout(function(){reader.tryTocheckForMessageView()},750),this.hasSeenMessage=!1,this._messageWrapper=void 0,$(this.getMessageWrapper()).find("a").mousedown(function(){queue.data.itemAction({"data":{"itemId":reader.itemId,"action":"pmc","click_url":this.href,"pkta":reader.getMessageWrapper().getAttribute("pkta")}})}),this.activateReaderSelectionHandler(),this.gsfInitialize(),queue.gsfCheckLogicAlt(),"object"==typeof boot.ExternalUserSettings&&boot.ExternalUserSettings.existingprerecommend&&!boot.ExternalUserSettings.seenrecommendsreaderwelcome&&(n.gsftooltip=createTooltip($("#pagenav_share > a"),"",Templating.callTrans("sharing.findinteresting"),["bottom","bottomleft"],30),$(".pkt-nav").append(n.gsftooltip.object),n.gsftooltip.object.addClass("alt-tooltip-recommended"),setTimeout(function(){n.gsftooltip.object.addClass("alt-tooltip-recommendedactive")},0),boot.ExternalUserSettings.seenrecommendsreaderwelcome=!0,boot.saveExternalUserSettings())},"loadVideoItem":function(){var e,t=this.item,n=t.resolved_title||t.given_title||t.title,i=parseUri(t.resolved_url),a=i.host;if("string"==typeof t.time_published_formatted)e=t.time_published_formatted;else{var s=new Date(1e3*t.time_added);e=s?moment(s).lang(ServerSettings.language).format("MMMM Do, YYYY"):""}var o=this.replaceVideos("<!--VIDEO_1-->",t.videos);this.fillLayout(n,a,t.authors,e,t.given_url,t.tags,o),this.loadVideos(t.videos),$("#pagenav_mark").toggleClass("archived selected",1==t.status),1==t.status?$("#pagenav_mark a").attr("title",Templating.callTrans("cta.addtolist")).text(Templating.callTrans("cta.addtolist")):$("#pagenav_mark a").attr("title",Templating.callTrans("cta.archive")).text(Templating.callTrans("cta.archive")),$("#pagenav_favorite").toggleClass("selected",1==t.favorite),this.page.removeClass("content-article content-video content-image").addClass("content-video"),this.page.removeClass("loading"),this.loading=!1,this.gsfInitialize()},"loadImageItem":function(){var e,t=this.item,n=t.resolved_title||t.given_title||t.title,i=parseUri(t.resolved_url),a=i.host;if("string"==typeof t.time_published_formatted)e=t.time_added_formatted;else{var s=new Date(1e3*t.time_added);e=s?moment(s).lang(ServerSettings.language).format("MMMM Do, YYYY"):""}var o=Handlebars.templates.reader_imageshell(dictJSON);this.fillLayout(n,a,t.authors,e,t.given_url,t.tags,o),this.loadImages(t.images),$("#pagenav_mark").toggleClass("archived selected",1==t.status),1==t.status?$("#pagenav_mark a").attr("title",Templating.callTrans("cta.addtolist")).text(Templating.callTrans("cta.addtolist")):$("#pagenav_mark a").attr("title",Templating.callTrans("cta.archive")).text(Templating.callTrans("cta.archive")),$("#pagenav_favorite").toggleClass("selected",1==t.favorite),this.page.removeClass("content-article content-video content-image").addClass("content-image"),this.page.removeClass("loading"),this.loading=!1,this.gsfInitialize()},"loadLayout":function(){if(!this.layout){var e={},t=$(Handlebars.templates.reader_headarticleshell(dictJSON));e.head=t.filter(".reader_head"),e.title=e.head.find("h1"),e.subline=e.head.find(".sub"),e.domain=e.subline.find(".domain"),e.authors=e.subline.find(".authors"),e.date=e.subline.children(".date"),e.original=e.subline.children(".original"),e.tags=e.subline.children(".tags"),e.article=t.filter(".text_body"),this.content.append(t),this.layout=e,this.loadStyles()}},"fillLayout":function(e,t,n,i,a,s,o){this.offlinePageWarning&&this.offlinePageWarning.hide(),this.articleview.css("display","block"),$("#pagenav_style").removeClass("inactive"),this.layout.title.text(e?e:Templating.callTrans("reader.untitledfrom")+" "+t),$(".toolbar_reader_title").text(this.layout.title.text()),document.title="Pocket: "+this.layout.title.text(),this.layout.domain.children("a").attr("href",urlWithPocketRedirect(a)).text(t),this.layout.domain.children(".favicon").attr("src",faviconForUrl(t));var n=listAuthors(n),r="By ",l=", ";n.length||(r="",l=""),this.layout.authors.html(r+n+l),this.layout.authors.toggle(this.layout.authors.text().length>0),this.layout.date.html(i),this.layout.date.toggleClass("date_empty",0==this.layout.date.text().length),this.layout.original.children("a").attr("href",urlWithPocketRedirect(a)),s?(Array.isArray(s)?this.layout.tags.find(".tag_container").html(listTags(s,!0,!0)).on("click",".tag",function(e){"undefined"!=typeof queue.searchField&&$.trim(queue.searchField.val()).length&&queue.searchField.val("")}):this.layout.tags.find(".tag_container").html(listTags(s,!1,!0)),this.layout.tags.addClass("hasTags")):this.layout.tags.removeClass("hasTags"),this.layout.article.html(o);this.layout.article.find("a").click(function(e){!$(this).attr("target")&&$(this).attr("href")&&(e.preventDefault(),window.open($(this).attr("href")))})},"loadImages":function(e){if(e){var t=this;$.each(e,function(e,n){t.loadImage(n.image_id,n.src,n.caption,n.credit,window.devicePixelRatio||1)})}},"loadImage":function(e,t,n,i,a){a=1*a;var s=$("#RIL_IMG_"+e);s.html("<caption>"+n+" <cite>"+(i?Templating.callTrans("reader.photoby")+": ":"")+i+"</cite></caption>");var o=s;if(n&&(n.length||i.length)){s.addClass("hasCaption");var r=s.parent("a");1==r.size()&&(s.prepend('<a href="'+r.attr("href")+'"></a>'),s.parent("a").replaceWith(s),o=s.children("a"))}var l=new Image;l.onload=function(){var e=$(this),t=e.parents(".RIL_IMG");if(n){var i=reader.content.width();this.width>i?t.css("maxWidth",i-2+"px"):t.css("maxWidth",(this.width>175?this.width:175)+"px"),reader.ie9OrLower&&t.find("caption").css("maxWidth",(this.width>175?this.width:175)-20+"px")}t.addClass("loaded")},l.src=getImageCacheUrl(t,"w"+Math.floor(parseInt(this.articleview.children(".reader_content").css("maxWidth"))*a)),o.prepend($(l))},"replaceVideos":function(e,t){return t?($.each(t,function(t,n){var i="<!--VIDEO_"+n.video_id+"-->",a=new RegExp(i,"gi"),s='<div id="RIL_VIDEO_'+n.video_id+'" class="RIL_VIDEO"></div>';e=e.replace(a,s)}),e):e},"loadVideos":function(e){if(e){var t=this;$.each(e,function(e,n){t.loadVideo(n.video_id,n.src,n.height,n.width,n.type,n.vid)})}},"loadVideo":function(e,t,n,i,a,s){if(0==i||"0"==i){var o=parseInt(reader.content.css("maxWidth"));i=Math.min(o,$(window).width()-parseInt(reader.content.css("paddingLeft"))-parseInt(reader.content.css("paddingRight")))}(0==n||"0"==n)&&(n=Math.floor(.609375*i));var r=sanitizeText(t);"1"==a?r="https://www.youtube.com/embed/"+s:("2"==a||"3"==a||"4"==a)&&(r="https://player.vimeo.com/video/"+s+"?title=0&amp;byline=0&amp;portrait=0");var l=$("#RIL_VIDEO_"+e),c=this.articleview.children().width();c>0&&i>c&&(n=c/i*n,i=c);var u='<iframe src="'+r+'"style="width:'+i+"px;height:"+n+'px" allowfullscreen></iframe>';setTimeout(function(){l.append($(u))},100)},"gsfInitialize":function(){var e=this;if(boot.GSFStatus.active&&"object"==typeof boot.GSFStatus.saveditems)if(boot.GSFStatus.active&&!this.viewcheck&&(this.viewcheck=setInterval(function(){boot.pages.queue.isOpen&&!queue.loading&&(clearTimeout(e.viewcheck),e.viewcheck=null,$(".tooltip-reader").is(":visible")&&"object"==typeof openPopover&&openPopover.hideOpenPopover(),queue.inited&&queue.gsfCheckLogic())},1e3)),boot.GSFStatus.active&&!boot.GSFStatus.articleviewconfirm){var t=createTooltip($(".pkt-nav"),Templating.callTrans("gsf.thisisarticleview"),Templating.callTrans("gsf.pocketdisplaysoptimized")+"|"+Templating.callTrans("gsf.toseeoriginal"),["bottom"],3,!0,function(){boot.GSFStatus.articleviewconfirm=!0,boot.saveGSFStatus(),reader.gsfInitialize(),PocketAnalytics.action("gsf_tooltip_articleview_ok","click","webapp")});t.object.addClass("tooltip-reader"),PocketAnalytics.action("gsf_tooltip_articleview","view","webapp"),boot.GSFStatus.articleview=!0,boot.saveGSFStatus()}else if(boot.GSFStatus.active&&!boot.GSFStatus.articleviewitemactions){var n=$(".active .leftItem");$(window).width()<544&&(n=$(".pkt-nav")),$("#alt-tooltip").remove();var t=createTooltip(n,Templating.callTrans("gsf.itemactions"),Templating.callTrans("gsf.youarchivefavshare")+"|"+Templating.callTrans("gsf.readingpositionsaved"),["bottom","right","bottomleft","bottomright"],3,!0,function(){boot.GSFStatus.articleviewitemactions=!0,boot.saveGSFStatus(),PocketAnalytics.action("gsf_tooltip_itemactions_ok","click","webapp"),$("#alt-tooltip").remove()});t.object.addClass("tooltip-reader"),PocketAnalytics.action("gsf_tooltip_itemactions","view","webapp")}},"confirmDelete":function(e){var t=this;createDialog({"anchor":$("#pagenav_delete"),"title":Templating.callTrans("confirm.areyousure"),"message":!1,"confirm":{"title":Templating.callTrans("cta.delete"),"action":function(){t.actionToggle("delete")}}})},"addURLToPocket":function(){var e=$("#pagenav_add");if(!e.hasClass("selected")){e.addClass("selected");var t=this.item.resolved_url||this.item.given_url;queue.addURL(t)}},"editItemTags":function(){var e=[];this.item.tags&&(e=Array.isArray(this.item.tags)?this.item.tags:Object.keys(this.item.tags)),queue.showBulkTagsDialog(!1,!0,e,queue.premiumMode?[]:null,this.item)},"actionToggle":function(e){var t=this,n=$("#pagenav_"+e);if("mark"==e){if(t.markActionActive)return;t.markActionActive=!0}n.toggleClass("selected");var i=n.hasClass("selected"),a={"action":e,"on":i,"itemId":this.itemId},s=333;setTimeout(function(){queue.takeActionOnItem(a.action,a.on,a.itemId,s+100,!0)},s),("mark"==e||"delete"==e)&&(s+=333,setTimeout(function(){t.goBackToQueue(),"mark"==e&&(t.markActionActive=!1,a.on?(sharedToast.show(Templating.callTrans("notification.itemarchived")),boot.GSFStatus.active&&getSetting("sawarchivetooltip",function(e){"string"!=typeof e.sawarchivetooltip&&queue.gsfCheckArchiveTooltip(4e3)})):sharedToast.show(Templating.callTrans("notification.addedtolist"))),"delete"==e&&sharedToast.show(Templating.callTrans("notification.itemdeleted")),queue.highlightItemCheckDeletedMarked()},s))},"showShareMenu":function(e){var t=this;if(e){e=$(e);var n=e.parents(".item");if(this.shareAnchor=e,this.sharedItem=t.item,queue.inited){var i=queue.itemsByID[t.itemId];"object"==typeof i&&(this.sharedItem=i)}if(this.shareMenu){if("object"==typeof this.shareMenu.object){var a=this.shareMenu.object.find(".share-permanent").parent("li");if(a.length){var s=Sharers[a.attr("val")];s&&s.setPermanentLink("http://"+(document.location.hostname||document.location.host)+"/library/?pl_i="+t.item.item_id,a)}var o=this.shareMenu.object.find(".share-original").parent("li");if(o.length){var s=Sharers[o.attr("val")];s&&s.setExternalLink(t.currentLoadedURL(),o)}}}else{for(var r=[],l=0;l<Sharers.length;l++){var s=Sharers[l];r.push(dsi(l,s.name))}var c=new DropSelector({"id":"shareMenuContents","class":"titleItem shareMenuSelector","nodeName":"h2","append":$("#container"),"list":r,"selectCallback":function(e,n){if($("#pagenav_share").hasClass("inactive"))return!1;var i=$(n).attr("val"),a=Sharers[i];return a?(t.shareMenu.show(!1),a.share(t.sharedItem,a.iconname),!0):!1},"callback":function(){},"hideUntilSet":!0});this.shareMenu=new PopOver("shareMenu",c.ul,$("#container"),{"onHide":function(){$(".pendingDialog").removeClass("pendingDialog")},"positions":["bottomleft","bottomright","topleft","topright"],"xOffset":8,"disableHideOnScroll":!0,"inToolbar":!0,"headerTitle":"Share","fixedPosition":!0});for(var u=this.shareMenu.object.find("li"),l=0;l<u.length;l++){var d=$(u[l]),h=d.find("a"),p=Sharers[parseInt(d.attr("val"),10)],f=p.iconname;h.addClass("share-"+f).append('<span class="share-icon share-'+f+'-icon">')}c.object.remove(),this.shareMenu.object.addClass("titleSelector");var a=$(c.ul).find(".share-permanent").parent("li");if(a.length){var s=Sharers[a.attr("val")];s&&s.setPermanentLink("http://"+(document.location.hostname||document.location.host)+"/library/?pl_i="+t.item.item_id,a)}var o=$(c.ul).find(".share-original").parent("li");if(o.length){var s=Sharers[o.attr("val")];s&&s.setExternalLink(t.currentLoadedURL(),o)}}$("#pagenav_share").hasClass("inactive")?this.shareMenu.object.addClass("inactive"):this.shareMenu.object.removeClass("inactive")}n.toggleClass("pendingDialog",void 0!==e),this.shareMenu.show(e)},"showStyleMenu":function(e){var t=this;if(e){e=$(e);{e.parents(".item")}this.shareAnchor=e,this.styleMenu||(this.styleMenu=new PopOver("styleMenu",this.styleMenuContent,$("#container"),{"positions":["bottomleft","bottomright","topleft","topright"],"hideOnClickInPopover":!1,"xOffset":5,"disableHideOnScroll":!0,"inToolbar":!0,"headerTitle":Templating.callTrans("reader.textoptions"),"fixedPosition":!0})),e.parents(".inactive").length?this.styleMenuContent.addClass("inactive"):this.styleMenuContent.removeClass("inactive"),this.styleMenu.show(e),this.styleMenu.object.find(".popover-new-close").click(function(e){e.preventDefault(),t.styleMenu.hideAll()})}},"showMoreActionsMenu":function(e){e=$(e);var t=(e.parents(".item"),$(Handlebars.templates.reader_moreactions(dictJSON)));this.shareAnchor=e,this.moreActionsMenu||(this.moreActionsMenu=new PopOver("moreActionsMenu",t,$("#container"),{"positions":["bottomleft","bottomright","topleft","topright","bottom"],"xOffset":0,"inToolbar":!0,"disableHideOnScroll":!0,"headerTitle":"More Actions"}),this.moreActionsMenu.object.find(".moreactions_edittags").click(function(e){e.preventDefault(),$("#pagenav_tag a").trigger("click")}),this.moreActionsMenu.object.find(".moreactions_textoptions").click(function(e){e.preventDefault(),$("#pagenav_style a").trigger("click")}),this.moreActionsMenu.object.find(".moreactions_delete").click(function(e){e.preventDefault(),$("#pagenav_delete a").trigger("click")})),this.moreActionsMenu.show(e),PocketAnalytics.action("show_moreactions","interact","webapp")},"loadStyles":function(){var e=this,t=boot.ExternalUserSettings.styles;t||(t={"font":"serif","fontSize":"3","skin":"light"}),"night"==t.skin&&(t.skin="dark"),e.setFont(t.font,!0),e.setFontSize(t.fontSize,!0),e.setSkin(t.skin,!0)},"saveStyles":function(e){if(!e){var t;if("undefined"==typeof this.page){var t=boot.ExternalUserSettings.styles;t||(t={"font":"serif","fontSize":"3","skin":"light"}),"night"==t.skin&&(t.skin="dark"),t.skin=boot.skin}else t={"font":this.page.data("font"),"fontSize":this.page.data("fontSize"),"skin":boot.skin};boot.ExternalUserSettings.styles=t,boot.saveExternalUserSettings(),"undefined"!=typeof this.page&&this.page.toggleClass("toggleStyles")}},"toggleFont":function(){this.setFont("serif"==this.page.data("font")?"sans":"serif")},"setFont":function(e,t){this.page.data("font",e),this.page.removeClass("font-serif font-sans").addClass("font-"+e);var n=this.page.attr("class").match(/fontserifsize-\d+/);"object"==typeof n&&n&&this.page.removeClass(n[0]),"serif"==e&&"undefined"!=typeof this.page.data("fontSize")&&this.page.addClass("fontserifsize-"+this.page.data("fontSize")),this.styleMenuContent.find(".textoptions_font a").removeClass("selected"),"serif"==e?this.styleMenuContent.find("#submenu_font_serif").children("a").addClass("selected"):this.styleMenuContent.find("#submenu_font_sans").children("a").addClass("selected"),this.saveStyles(t)},"fontInc":function(e){this.setFontSize(1*this.page.data("fontSize")+e)},"setFontSize":function(e,t){if(isNaN(e)&&(e=1),!(0>e||e>9)){this.styleMenuContent.find("#submenu_font_down").toggleClass("inactive",0===e),this.styleMenuContent.find("#submenu_font_up").toggleClass("inactive",9==e),this.styleMenuContent.find("#submenu_font_down").children("a").toggleClass("inactive",0===e),this.styleMenuContent.find("#submenu_font_up").children("a").toggleClass("inactive",9==e),this.page.data("fontSize",e),this.page.removeClass("fontsize-0 fontsize-1 fontsize-2 fontsize-3 fontsize-4 fontsize-5 fontsize-6 fontsize-7 fontsize-8 fontsize-9").addClass("fontsize-"+e);var n=this.page.attr("class").match(/fontserifsize-\d+/);"object"==typeof n&&n&&this.page.removeClass(n[0]),/font-serif/.test(this.page.attr("class"))&&this.page.addClass("fontserifsize-"+e),this.saveStyles(t)}},"toggleSkin":function(){var e="light",t=boot.skin;"night"==t&&(e="sepia"),"light"==t&&(e="night"),"sepia"==t&&(e="light"),this.setSkin(e)},"setSkin":function(e,t){boot.skin=e,$(".page-reader").length?$("body").removeClass("page-skinlight page-skindark page-skinsepia page-skinfullscreen page-readerlight page-readerdark page-readersepia page-readerfullscreen").addClass("page-reader"+e+" page-skin"+e):$("body").removeClass("page-skinlight page-skindark page-skinsepia page-skinfullscreen page-queuelight page-queuedark page-queuesepia page-queuefullscreen").addClass("page-queue"+e+" page-skin"+e),this.styleMenuContent&&(this.styleMenuContent.find(".textoptions_theme a").removeClass("selected"),this.styleMenuContent.find("#submenu_theme_"+e).children("a").addClass("selected")),
this.saveStyles(t)},"toggleFullScreenMode":function(){var e=$("body");if(e.toggleClass("page-readerfullscreen"),e.hasClass("page-readerfullscreen")){if(PocketAnalytics.action("distractionfree_mode","interact","webapp"),!boot.ExternalUserSettings.runfullscreenmode){var t=createTooltip($(".pkt-nav"),Templating.callTrans("gsf.fullscreenmode"),Templating.callTrans("gsf.thismodehidestoolbar")+"|"+Templating.callTrans("gsf.leavefullscreenmode")+"|"+Templating.callTrans("gsf.activatefullscreenmodeagain"),["left"],3,!0,function(){boot.ExternalUserSettings.runfullscreenmode=!0,boot.saveExternalUserSettings()});t.object.addClass("tooltip-reader").css("top","150px")}e.on("mouseover.fullscreenmode",function(t){t.clientY<100&&(e.removeClass("page-readerfullscreen"),e.off("mouseover.fullscreenmode"))})}else e.off("mouseover.fullscreenmode")},"addScrollEventHandler":function(){$(window).bind("scroll",this.scrollEventHandler),this.navHeight=$(".pkt-nav").outerHeight()+$("#PKT_header").outerHeight(),this.windowHeight=$(window).height()},"removeScrollEventHandler":function(){$(window).unbind("scroll",this.scrollEventHandler)},"scrollEventHandler":function(){clearTimeout(reader.scrollTO),reader.scrollTO=setTimeout(function(){reader.scrolled()},150),reader.scrollNavChange()},"scrollNavChange":function(){var e=$("html").scrollTop()+$("body").scrollTop(),t=$(document).height();Math.abs(this.lastScrollTop-e)<=this.scrollDelta||!boot.pages.reader.isOpen||OverlayScreen.showing||this.loading||(this.headerBottom&&(e>this.headerBottom&&!this.toolbarShowingExtras?($(".toolbar_reader").addClass("toolbar_reader_showextras"),this.toolbarShowingExtras=!0,PocketAnalytics.action("show_readernavextras","interact","webapp")):e<=this.headerBottom&&this.toolbarShowingExtras&&($(".toolbar_reader").removeClass("toolbar_reader_showextras"),this.toolbarShowingExtras=!1)),$(".reading_progress_bar").css("width",(e+this.windowHeight)/t*100+"%"),this.lastScrollTop=e)},"scrolled":function(e){if(!this.ignoreScroll){this.saveScroll(),this.tryTocheckForMessageView()}},"scrollPage":function(){var e=$("html").scrollTop()+$("body").scrollTop(),t=$("body").hasClass("page-readerfullscreen");$("body").scrollTop(e+$(window).height()-(t?0:$(".toolbar_reader").height()))},"tryTocheckForMessageView":function(){this.hasSeenMessage||(this.checkMessageViewTO&&clearTimeout(this.checkMessageViewTO),this.checkMessageViewTO=setTimeout(function(){this.checkForMessageView()}.bind(this),33))},"checkForMessageView":function(){if(!this.hasSeenMessage){var e=this.getMessageWrapper();e&&elementInViewport(e)&&(this.hasSeenMessage=!0,queue.data.itemAction({"data":{"itemId":reader.itemId,"action":"pmv","pkta":e.getAttribute("pkta")}}))}},"getMessageWrapper":function(){if(this._messageWrapper)return this._messageWrapper;var e=$("#PKT_footer_message");return e&&e.length&&(this._messageWrapper=e[0]),this._messageWrapper},"saveScroll":function(e){{var t,n,i=getSize($(window)),a=$(window).scrollTop();"screen"==this.yHitMethod?this.topY+20:a}if(150>a)a=0,n=0;else{var s,o;$("[nodeindex]").each(function(e,t){var n=$(this);return n.offset().top>a?(s=this,o=this,!1):void 0});var r=s?s.getAttribute("nodeindex"):null,l=o?o.getAttribute("nodeindex"):null;r&&1*r>1*l?(t=s,n=r):l&&(t=o,n=l)}if(a==this.lastY)return void(this.pendingPosition&&e&&this.commitPosition());var c=$("#container")[0].scrollHeight,u=i.height,d=Math.ceil((parseInt(a,10)+parseInt(u,10))/parseInt(c,10)*100);0>d?d=0:d>100&&(d=100);var h=document.body.scrollHeight,p=i.height;this.pendingPosition={"itemId":this.itemId,"y":a,"m":h,"h":p,"i":n},clearTimeout(this.scrollTO),e?this.commitPosition():this.scrollTO=setTimeout(function(){this.commitPosition()}.bind(this),2e3),this.lastY=a},"commitPosition":function(){this.pendingPosition&&(this.data.savePosition({"data":this.pendingPosition}),this.pendingPosition=void 0)},"scrollToNodeIndex":function(e){$("[nodeindex]").each(function(t,n){return n.getAttribute("nodeindex")==e?(n.scrollIntoView(!0),!1):void 0})},"activateReaderSelectionHandler":function(){this.selectionEventEnabled||/iPhone/.test(navigator.userAgent)||/iPad/.test(navigator.userAgent)||/Android/.test(navigator.userAgent)||/Windows Phone/.test(navigator.userAgent)||(this.content.on("mouseup.readerview touchend.readerview",this.readerSelectionChanged),this.selectionEventEnabled=!0)},"deactivateReaderSelectionHandler":function(){this.selectionEventEnabled&&(this.content.off("mouseup.readerview touchend.readerview"),this.selectionEventEnabled=!1)},"readerSelectionChanged":function(e){var t=this;t.lastSelectionChanged&&clearTimeout(t.lastSelectionChanged),t.lastSelectionChanged=setTimeout(function(){reader.readerSelectionShowPopover(e)},300)},"readerSelectionShowPopover":function(e){var t=this,n=window.getSelection(),i=$.trim(n.toString());if(i.length){var a=n.getRangeAt(0),s=n.anchorNode.parentElement;this.selectionTooltip=new PopOver("alt-tooltip",Handlebars.templates.reader_sharesheetselecttooltip(dictJSON),$("#container"),{"positions":["top"],"disableHideOnScroll":!0,"smallArrow":!0,"xOffset":0,"noClickDismiss":!0,"fallbackScrollInto":!1}),this.selectionTooltip.object.addClass("alt-tooltip alt-tooltip-sharesheet");var o=Math.floor((s.getBoundingClientRect().left+s.getBoundingClientRect().right)/2),r=Math.floor((a.getBoundingClientRect().left+a.getBoundingClientRect().right)/2),l=r-o,c=Math.max(a.getBoundingClientRect().top-n.anchorNode.parentElement.getBoundingClientRect().top,0);this.selectionTooltip.object.css("marginLeft",l+"px"),this.selectionTooltip.object.css("marginTop",c+"px"),a.getBoundingClientRect().top<100&&(this.selectionTooltip.object.addClass("alt-tooltip-sharesheet-truncated"),this.selectionTooltip.object.css("marginTop",c+50+"px")),this.selectionTooltip.show($(n.anchorNode.parentElement)),$(".sharesheet_tooltip_link").click(function(e){if(e.preventDefault(),t.selectionTooltip.object.removeClass("popover-active"),t.sharedItem=t.item,queue.inited){var n=queue.itemsByID[t.itemId];"object"==typeof n&&(t.sharedItem=n)}Share.openShareSheet(t.sharedItem,null,i)})}else"object"==typeof this.selectionTooltip&&this.selectionTooltip.object.removeClass("popover-active")}};var reader=new Reader;boot.pages.reader=reader;var Sharers=[{"name":Templating.callTrans("sharing.recommendprofile"),"iconname":"recommendprofile","share":function(e,t){Share.openShareSheet(e,t)}},{"name":Templating.callTrans("sharing.sendtofriend"),"iconname":"sendtofriend","share":function(e,t){Share.openShareSheet(e,t)}},{"name":"Twitter","iconname":"twitter","share":function(e,t){-1==$.inArray("twitter",ServerSettings.connectedAccounts)?ShareAuth.getTwitterAuth():Share.openShareSheet(e,t)}},{"name":"Facebook","iconname":"facebook","share":function(e,t){-1==$.inArray("facebook",ServerSettings.connectedAccounts)?ShareAuth.getFacebookAuth(e,t):Share.openShareSheet(e,t)}},{"name":"Buffer","iconname":"buffer","share":function(e,t){for(var n=0;n<SharerLegacy.sharers.length;n++)"Buffer"==SharerLegacy.sharers[n].name&&SharerLegacy.sharers[n].share(e)}}];ServerSettings.PremiumStatus&&Sharers.push({"name":Templating.callTrans("cta.viewpermanent"),"iconname":"permanent","setPermanentLink":function(e,t){if(!$("#pagenav_share").hasClass("inactive")){var n=t.clone();t.after(n),n.children("a").attr("href",sanitizeText(e)).attr("target","_blank"),n.click(function(e){PocketAnalytics.action("open_permanent","interact","webapp")}),t.remove()}}}),Sharers.push({"name":Templating.callTrans("cta.vieworiginal"),"iconname":"original","setExternalLink":function(e,t){if(!$("#pagenav_share").hasClass("inactive")){var n=t.clone();t.after(n),n.children("a").attr("href",urlWithPocketRedirect(e)).attr("target","_blank"),n.click(function(e){PocketAnalytics.action("open_original","interact","webapp")}),t.remove()}}});var FriendSearch=function(){this._currentSearchIndex=0,this.emails=[],this.friendsByEmail={},this.friendsByID={}};FriendSearch.prototype.loadData=function(e){for(var t in e){var n=e[t];this.friendsByID[t]=n;for(var i=n.emails||[],a=0;a<i.length;a++){var s=i[a];this.emails.push(s.toLowerCase()),this.friendsByEmail[s]=n}}},FriendSearch.prototype.search=function(e,t){var n=++this._currentSearchIndex,i=this;e=e.toLowerCase(),setTimeout(function(){async.filter(i.emails,function(t,a){var s=i._currentSearchIndex==n,o=-1!=t.indexOf(e);a(s&&o)},function(e){i._currentSearchIndex==n&&async.map(e,function(e,t){if(i._currentSearchIndex!==n)t("Aborted",null);else{var a=i.friendsByEmail[e];t(null,{"name":a.name,"email":e,"friendID":a.friend_id,"avatar_url":a.avatar_url,"friend":a})}},function(e,a){a&&i._currentSearchIndex==n&&t(a)})})},1)};var ShareAuth={"getFacebookAuth":function(e,t,n){-1==$.inArray("facebook",ServerSettings.connectedAccounts)&&FB.login(function(i){if("connected"==i.status){var a={"formCheck":formCheck,"social_service":"facebook","time":Date.now(),"token_info":JSON.stringify([{"access_token":i.authResponse.accessToken}])};$.ajax({"url":"/a/x/registerSocialToken.php","type":"POST","dataType":"json","data":a,"success":function(i){"number"==typeof i.status&&i.status&&(ServerSettings.connectedAccounts.push("facebook"),Share.openShareSheet(e,t,n))},"error":function(e,t){}})}},{"scope":"user_friends,publish_actions,email,public_profile"})},"getTwitterAuth":function(){-1==$.inArray("twitter",ServerSettings.connectedAccounts)&&(sharedToast.show(Templating.callTrans("sharing.redirecttwitter")),setTimeout(function(){$.ajax({"url":"/a/x/authSocialService.php","type":"POST","dataType":"json","data":{"formCheck":formCheck,"social_service":"twitter","step":"get_callback"},"success":function(e){"number"==typeof e.status&&e.status&&(document.location=e.callbackurl)},"error":function(e,t){}})},2e3))}},Share={"init":function(){this.friendSearch=new FriendSearch,this.friendSearch.loadData(ServerSettings.friends)},"closeShareSheet":function(){OverlayScreen.hide()},"openShareSheet":function(e,t,n){function i(){$(".sharesheet_shareto_itemchecked").length||0!=s?$(".button_sharesheet").removeClass("button-disabled"):$(".button_sharesheet").addClass("button-disabled")}function a(){$(".sharesheet_form").find(".token-input-token").length?$(".token-input-input-token input").css("minWidth","inherit").attr("placeholder",""):$(".token-input-input-token input").css("minWidth","12em").attr("placeholder",$(".sharesheet_sendtofriend_input").attr("placeholder"))}if("object"==typeof e){if("string"==typeof t&&t||(t="readertooltip"),!("object"==typeof PocketUserApps&&("string"==typeof PocketUserApps.firstName&&PocketUserApps.firstName.length||"string"==typeof PocketUserApps.lastName&&PocketUserApps.lastName.length)))return"object"==typeof PocketUserApps&&(dictJSON.manual.updateprofile_firstname=PocketUserApps.firstName,dictJSON.manual.updateprofile_lastname=PocketUserApps.lastName,dictJSON.manual.updateprofile_email=PocketUserApps.email),OverlayScreen.setDetail(Handlebars.templates.queue_sharesheetnameemailprompt(dictJSON)),PocketAnalytics.actionWithExtraString("open_sharesheet_nameemailprompt","interact","webapp",t.toLowerCase()),OverlayScreen.show(),$(".overlay_detail_sharesheet .close").click(function(e){e.preventDefault(),Share.closeShareSheet()}),void $(".button_sharesheet").click(function(i){if(i.preventDefault(),!$(this).hasClass("button-disabled")){$(this).addClass("button-disabled");var a={"formCheck":formCheck,"newfirst_name":$(".sharesheet_updateprofile_firstname").val(),"newlast_name":$(".sharesheet_updateprofile_lastname").val(),"newemail":$(".sharesheet_updateprofile_email").val()};$.ajax({"url":"/a/x/modifyProfile.php","type":"POST","dataType":"json","data":a,"success":function(i){"number"==typeof i.status&&i.status?(PocketUserApps.firstName=$(".sharesheet_updateprofile_firstname").val(),PocketUserApps.lastName=$(".sharesheet_updateprofile_lastname").val(),PocketUserApps.email=$(".sharesheet_updateprofile_email").val(),Share.closeShareSheet(),setTimeout(function(){Share.openShareSheet(e,t,n)},200)):(boot.showErrorNotification(Templating.callTrans("notification.unexpectederror")),Share.closeShareSheet())},"error":function(e,t){boot.showErrorNotification(Templating.callTrans("notification.unexpectederror")),Share.closeShareSheet()}})}});dictJSON.manual.sharesheettitle=e.title?e.title:e.resolved_title?e.resolved_title:e.given_title?e.given_title:e.resolved_url?e.resolved_url:e.given_url,dictJSON.manual.sharesheetdomain=sanitizeText(domainForURL(e.resolved_url?e.resolved_url:e.given_url))||"",dictJSON.manual.sharesheetimg=e.image&&e.image.src?getImageCacheUrl(e.image.src,"w112-h100-nc"):null,dictJSON.manual.sharesheetexcerpt="string"==typeof n&&n.length?n:null,dictJSON.manual.sharesheetprofilechecked="recommendprofile"==t.toLowerCase()?1:null,dictJSON.manual.sharesheetfacebookchecked="facebook"==t.toLowerCase()?1:null,dictJSON.manual.sharesheettwitterchecked="twitter"==t.toLowerCase()?1:null,dictJSON.manual.sharesheetbufferchecked="buffer"==t.toLowerCase()?1:null,OverlayScreen.setDetail(Handlebars.templates.queue_sharesheetshell(dictJSON)),PocketAnalytics.actionWithExtraString("open_sharesheet","interact","webapp",t.toLowerCase()),OverlayScreen.show();var s=0;$(".sharesheet_excerpt").height()>=80&&$(".sharesheet_header").addClass("sharesheet_header_overflow"),$(".overlay_detail_sharesheet .close,.sharesheet_cancel").click(function(e){e.preventDefault(),Share.closeShareSheet()}),$(".sharesheet_shareto_link").click(function(e){e.preventDefault();var a=$(this).parent(".sharesheet_shareto_item"),s=a.hasClass("sharesheet_shareto_itemchecked");a.toggleClass("sharesheet_shareto_itemchecked"),$(this).siblings(".sharesheet_shareto_checkbox").prop("checked",!s),i(),a.children(".sharesheet_icon_twitter").length&&-1==$.inArray("twitter",ServerSettings.connectedAccounts)&&!s&&ShareAuth.getTwitterAuth(),a.children(".sharesheet_icon_facebook").length&&-1==$.inArray("facebook",ServerSettings.connectedAccounts)&&!s&&(Share.closeShareSheet(),ShareAuth.getFacebookAuth(a,t,n))}),i();var o=this;this.tokenInput=$(".sharesheet_sendtofriend_input").tokenInput([],{"searchDelay":200,"minChars":1,"animateDropdown":!1,"noResultsHideDropdown":!0,"scrollKeyboard":!0,"search_function":function(e,t){o.friendSearch.search(e,t)},"resultsFormatter":function(e){var t=e.name&&e.email&&e.name.length>0&&e.email.length>0,n=e.name&&e.name.length>0?e.name:e.email,i=e.avatar_url;i=i&&i.length?getImageCacheUrl(i,"w50-h50"):"/a/i/empty_avatar"+((window.devicePixelRatio||1)>1?"-2x":"-1x")+".png";var a=t?e.email:null;return dictJSON.manual.stfavatarurl=i,dictJSON.manual.stftitle=n,dictJSON.manual.stfsubtitle=a,dictJSON.manual.stftwoline=t?1:null,Handlebars.templates.queue_sharesheetsendfrienditem(dictJSON)},"tokenFormatter":function(e){var t=e.avatar_url;return t=t&&t.length?getImageCacheUrl(t,"w50-h50"):"/a/i/empty_avatar"+((window.devicePixelRatio||1)>1?"-2x":"-1x")+".png",dictJSON.manual.stfavatarurl=t,dictJSON.manual.stfavatardetail=e.name||e.email,Handlebars.templates.queue_sharesheetsendfriendavatar(dictJSON)},"textToData":function(e){return e.match(/^[_a-z0-9-\+]+(\.[_a-z0-9-\+]+)*@[a-z0-9-]+(\.[a-z0-9-]+)*(\.[a-z]{2,4})$/)?{"email":e}:null},"onReady":function(){$(".token-input-dropdown").addClass("token-input-dropdown-fortag token-input-dropdown-forstf"),a()},"onAdd":function(){s++,a(),i()},"onDelete":function(){s--,a(),i()}}),$(".button_sharesheet").click(function(t){if(t.preventDefault(),!$(this).hasClass("button-disabled")){$(this).addClass("button-disabled"),$(".sharesheet_processing").addClass("sharesheet_processingactive"),PocketAnalytics.action("click_sharesheetsend","click","webapp");var n=$(".sharesheet_form").serializeArray(),i={"formCheck":formCheck,"item_id":e.item_id,"share_to_recs":0,"services":[],"friends":[]};if($.each(n,function(e,t){"comment"==t.name&&$.trim(t.value).length&&(i.comment=$.trim(htmlEntities(t.value))),"shareto"==t.name&&("myrecommendations"==t.value?i.share_to_recs=1:i.services.push(t.value))}),i.services=JSON.stringify(i.services),$(".sharesheet_excerpt").length){var a=$.trim($(".sharesheet_excerpt").text());a.length&&(i.quote=a)}var s=$(".sharesheet_sendtofriend_input").tokenInput("get");$.each(s,function(e,t){t.item.friendID?i.friends.push({"friend_id":t.item.friendID}):t.item.email&&i.friends.push({"email":t.item.email})}),i.friends=JSON.stringify(i.friends),$.ajax({"url":"/a/x/share.php","type":"POST","dataType":"json","data":i,"success":function(e){"number"==typeof e.status&&e.status?(Share.closeShareSheet(),sharedToast.show(Templating.callTrans("notification.sent")),PocketAnalytics.action("sharesheet_sent","interact","webapp"),"undefined"==typeof boot.ExternalUserSettings.showprofilereminder&&(boot.pages.queue.isOpen&&boot.ExternalUserSettings.existingprerecommend?setTimeout(function(){queue.gsftooltip=createTooltip($("#pagenav_options > a"),"",Templating.callTrans("sharing.seeprofile"),["bottom","bottomleft"]),$(".pkt-nav").append(queue.gsftooltip.object),queue.gsftooltip.object.addClass("alt-tooltip-recommended"),setTimeout(function(){queue.gsftooltip.object.addClass("alt-tooltip-recommendedactive")},0),boot.ExternalUserSettings.showprofilereminder=!1,boot.saveExternalUserSettings(),$("body").one("click",function(){"object"==typeof queue.gsftooltip&&queue.gsftooltip.show(!1)})},200):(boot.ExternalUserSettings.showprofilereminder=!0,boot.saveExternalUserSettings()))):(Share.closeShareSheet(),boot.showErrorNotification(Templating.callTrans("notification.unexpectederror")))},"error":function(e,t){Share.closeShareSheet(),boot.showErrorNotification(Templating.callTrans("notification.unexpectederror"))}})}})}}};Share.init();var SharerLegacy=Class.extend({"share":function(e,t){var n=this.messageForItem(e),i=this.URLForItem(e);this.handleShare(n,i,t,e)},"handleShare":function(e,t,n,i){var a=this.URLForShare(e,t,i),s="/a/x/shorten?url="+encodeURIComponent(t)+"&redirect_url="+encodeURIComponent(a)+"&service="+encodeURIComponent(this.name)+"&formCheck="+encodeURIComponent(formCheck);window.open(s,"_blank","width="+this.viewWidth+",height="+this.viewHeight+",location=no,toolbar=no,status=no")},"messageForItem":function(e){return e.resolved_title||e.title},"URLForItem":function(e){return e.resolved_url?e.resolved_url:e.given_url}});SharerLegacy.sharers=[],SharerLegacy.registerSharer=function(e){SharerLegacy.sharers.push(new e)},SharerLegacy.registerSharer(SharerLegacy.extend({"name":"Facebook","iconname":"facebook","viewWidth":550,"viewHeight":420,"URLForShare":function(e,t){return"http://www.facebook.com/sharer.php?u="+encodeURIComponent(t)+"&t="+encodeURIComponent(e)}})),SharerLegacy.registerSharer(SharerLegacy.extend({"name":"Buffer","iconname":"buffer","viewWidth":880,"viewHeight":550,"URLForShare":function(e,t){return"https://bufferapp.com/add?url="+encodeURIComponent(t)+"&text="+encodeURIComponent(e)}})),TagSidebar.UNTAGGED="_untagged_",TagSidebar.KEY_ORIGINAL_TAG="key_original_tag",TagSidebar.ID_CONTAINER="tag_sidebar_content_container",TagSidebar.sID_CONTAINER=idToSelector(TagSidebar.ID_CONTAINER),TagSidebar.CLASS_PINNED="pinned",TagSidebar.sCLASS_PINNED=idToSelector(TagSidebar.CLASS_PINNED),TagSidebar.CLASS_UNPINNED="unpinned",TagSidebar.sCLASS_UNPINNED=idToSelector(TagSidebar.CLASS_UNPINNED),TagSidebar.ID_WRAPPER="sidebar_wrapper",TagSidebar.sID_WRAPPER=idToSelector(TagSidebar.ID_WRAPPER),TagSidebar.ID="tag_sidebar_content",TagSidebar.sID=idToSelector(TagSidebar.ID),TagSidebar.CLASS_SLIDER="sidebar_slider",TagSidebar.sCLASS_SLIDER=classToSelector(TagSidebar.CLASS_SLIDER),TagSidebar.ID_LIST="tag_sidebar_list",TagSidebar.sID_LIST=idToSelector(TagSidebar.ID_LIST),TagSidebar.ID_FILTERS="tag_sidebar_filters",TagSidebar.sID_FILTERS=idToSelector(TagSidebar.ID_FILTERS),TagSidebar.ID_VIEW_ALL="tag_sidebar_filter_all",TagSidebar.sID_VIEW_ALL=idToSelector(TagSidebar.ID_VIEW_ALL),TagSidebar.ID_VIEW_UNTAGGED="tag_sidebar_filter_untagged",TagSidebar.sID_VIEW_UNTAGGED=idToSelector(TagSidebar.ID_VIEW_UNTAGGED),TagSidebar.ID_EDITTING="inline_tag_edit",TagSidebar.sID_EDITTING=idToSelector(TagSidebar.ID_EDITTING),TagSidebar.CLASS_EDIT="edit",TagSidebar.sCLASS_EDIT=classToSelector(TagSidebar.CLASS_EDIT),TagSidebar.CLASS_EDIT_CLOSE="edit_close",TagSidebar.sCLASS_EDIT_CLOSE=classToSelector(TagSidebar.CLASS_EDIT_CLOSE),TagSidebar.CLASS_SELECT="select",TagSidebar.sCLASS_SELECT=classToSelector(TagSidebar.CLASS_SELECT),TagSidebar.CLASS_DELETE="delete",TagSidebar.sCLASS_DELETE=classToSelector(TagSidebar.CLASS_DELETE),TagSidebar.CLASS_SELECTED="selected",TagSidebar.sCLASS_SELECTED=classToSelector(TagSidebar.CLASS_SELECTED),TagSidebar.CLASS_VISIBLE="tag_sidebar_visible",TagSidebar.sCLASS_VISIBLE=classToSelector(TagSidebar.CLASS_VISIBLE),TagSidebar.CLASS_INVISIBLE="tag_sidebar_invisible",TagSidebar.sCLASS_INVISIBLE=classToSelector(TagSidebar.CLASS_INVISIBLE),TagSidebar.prototype={"setTag":function(e,t,n){if(this.created){var i=!1;if(e==this.selectedTag&&!n)return;this.selectedTag=e,$(TagSidebar.sID+" "+TagSidebar.sCLASS_SELECTED).removeClass(TagSidebar.CLASS_SELECTED),e?e==TagSidebar.UNTAGGED?($(TagSidebar.sID_VIEW_UNTAGGED).addClass(TagSidebar.CLASS_SELECTED),i="Untagged"):this.rows[e]&&(this.rows[e].addClass(TagSidebar.CLASS_SELECTED),i=e):$(TagSidebar.sID_VIEW_ALL).addClass(TagSidebar.CLASS_SELECTED)}else this.selectedTag=e,e&&(i=e==TagSidebar.UNTAGGED?Templating.callTrans("queue.tag_untaggeditems"):e);this.setBreadcrumb(i),t||queue.stateChanged()},"isOpen":function(){return this.contentDiv&&this.contentDiv.hasClass(TagSidebar.CLASS_VISIBLE)},"show":function(e,t){var n=$(TagSidebar.sCLASS_SLIDER);n.size()||(n=this.create(t));var i=e?TagSidebar.CLASS_INVISIBLE:TagSidebar.CLASS_VISIBLE,a=e?TagSidebar.CLASS_VISIBLE:TagSidebar.CLASS_INVISIBLE;if(!n.hasClass(a)){e&&this.pin();var s=this;setTimeout(function(){n.each(function(){var e=$(this);t?e.addClass("noAnimation"):e.removeClass("noAnimation"),e.removeClass(i),e.addClass(a)}),e?(s.pin(),$("#page_queue").addClass("tag_sidebar_open")):$("#page_queue").removeClass("tag_sidebar_open"),s.heightUpdated()},30)}},"pin":function(e,t,n){if(this.resetHorizontalOffset(),!e){e=this.contentDiv;var n=$(window).scrollTop(),i=$("#page_queue");if(!(e&&n<i.height()-e.height()))return this.scrollKit.lastScrollY=n,void this.checkPinning();t=0}t?$(TagSidebar.sID_CONTAINER).hasClass(TagSidebar.CLASS_PINNED)||($(TagSidebar.sID_CONTAINER).removeClass(TagSidebar.CLASS_UNPINNED),$(TagSidebar.sID_CONTAINER).addClass(TagSidebar.CLASS_PINNED)):$(TagSidebar.sID_CONTAINER).hasClass(TagSidebar.CLASS_UNPINNED)||($(TagSidebar.sID_CONTAINER).removeClass(TagSidebar.CLASS_PINNED),$(TagSidebar.sID_CONTAINER).addClass(TagSidebar.CLASS_UNPINNED)),0==t&&0>n&&(n=0),e.css("top",n),this.scrollKit.pinnedDirection=t},"checkPinning":function(){var e=$(window).scrollTop();if(this.contentDiv){var t=this.contentDiv.outerHeight(),n=$(window).height();if(this.contentDiv.outerHeight()<n-this.layoutInfoCache.footersHeight-this.layoutInfoCache.headersHeight)this.loadedTags?0==this.scrollKit.pinnedDirection&&this.pin(this.contentDiv,1,this.layoutInfoCache.headersHeight):0==this.scrollKit.pinnedDirection&&this.pin(this.contentDiv,0,0);else{var i,a=e-this.scrollKit.lastScrollY;if(i=a>0?1:0>a?-1:0,0==this.scrollKit.pinnedDirection){var s=this.contentDiv.offset().top,o=n-this.layoutInfoCache.footersHeight;1==i&&e>=s+t-o?this.pin(this.contentDiv,1,o-t-this.layoutInfoCache.headersHeight):-1==i&&e<=s-this.layoutInfoCache.headersHeight&&this.pin(this.contentDiv,-1,0)}else 0!=i&&i!=this.scrollKit.pinnedDirection&&this.pin(this.contentDiv,0,e+parseInt(this.contentDiv.css("top").replace("px","")))}}this.fixHorizontalPin(),this.scrollKit.lastScrollY=e},"fixHorizontalPin":function(){this.isPinned()&&($(document).width()>$(window).width()?(this.wrapper.css("left",0-$(window).scrollLeft()+"px"),this.isHorizontallyOffset=!0):this.isHorizontallyOffset&&this.resetHorizontalOffset())},"resetHorizontalOffset":function(){this.wrapper.css("left",0-$(window).scrollLeft()+"px"),this.isHorizontallyOffset=!1},"isPinned":function(){return $(TagSidebar.sID_CONTAINER).hasClass(TagSidebar.CLASS_PINNED)},"create":function(e){var t=e?TagSidebar.CLASS_VISIBLE:TagSidebar.CLASS_INVISIBLE;return $("#page_queue").prepend('<div id="tag_sidebar_content_container" >	<div class="sidebar_wrapper">		<div id="'+TagSidebar.ID+'" class="sidebar_content '+TagSidebar.CLASS_SLIDER+" "+t+'">			<h3>Tags:</h3>			<div class="divider"></div>			<div class="loading"></div>		</div>	</div></div>'),queue.data.getTags({"delegate":this,"doneSelector":"getTagsCallback"}),this.layoutInfoCache.headersHeight=$("header").height()+$("#page nav").height(),this.layoutInfoCache.footersHeight=$("footer").height(),this.contentDiv=$(TagSidebar.sID),this.wrapper=$("#tag_sidebar_content_container .sidebar_wrapper"),this.setupListeners(),this.created=!0,$(TagSidebar.sCLASS_SLIDER)},"setupListeners":function(){var e=this;$(window).scroll(function(){queue.isOpen&&e.checkPinning()}),$(document).on("click",TagSidebar.sID_VIEW_ALL,function(){tagSidebar.pin()}),$(document).on("click",TagSidebar.sID_VIEW_UNTAGGED,function(){tagSidebar.pin()})},"getTagsCallback":function(e,t){this.buildTagList(e)},"buildTagList":function(e){$(TagSidebar.sID+" .loading").remove(),this.tags=e;var t='<ul id="'+TagSidebar.ID_FILTERS+'">	<li>		<a id="'+TagSidebar.ID_VIEW_ALL+'" title="View all items" class="'+TagSidebar.CLASS_SELECT+'" href="'+queue.tagUrlPrefix+'">view all items</a>	</li>	<li>		<a id="'+TagSidebar.ID_VIEW_UNTAGGED+'" title="View all untagged items" class="'+TagSidebar.CLASS_SELECT+'" href="'+queue.tagUrlPrefix+TagSidebar.UNTAGGED+'">view untagged items</a>	</li></ul><div class="divider"></div><ul id="'+TagSidebar.ID_LIST+'"></ul></div>';$(TagSidebar.sID).append(t);for(var n,i=$(TagSidebar.sID_LIST),a=0;a<e.length;a++)n=this.getNewRow(e[a]),this.rows[e[a]]=n,i.append(n);this.setTag(this.selectedTag,!0,!0),this.heightUpdated()},"getNewRow":function(e){var t=$("<li></li>");return this.setRowsTag(t,e),t},"setRowsTag":function(e,t){e.data("tag",t),e.empty();var n=$('<a class="'+TagSidebar.CLASS_SELECT+'"></a>');n.attr("href",queue.tagUrlPrefix+encodeURIComponent(sanitizeText(t))),n.html(sanitizeText(t)),e.append(n)},"getRowsTag":function(e){return e.data("tag")},"listUpdated":function(){},"refreshTagLinks":function(){$("#"+TagSidebar.ID_VIEW_ALL).attr("href",queue.tagUrlPrefix),$("#"+TagSidebar.ID_VIEW_UNTAGGED).attr("href",queue.tagUrlPrefix+TagSidebar.UNTAGGED),$(TagSidebar.sID_LIST+" "+TagSidebar.sCLASS_SELECT).each(function(){this.setAttribute("href",queue.tagUrlPrefix+encodeURIComponent(this.innerHTML))})},"editStart":function(e){var t=this,n={"tag":e,"row":$(this.rows[e]),"isFinishing":!1},i=$(TagSidebar.sID_EDITTING);if(!i.size()||(this.editFinish(i.data("editingData")),i=$(TagSidebar.sID_EDITTING),!i.size())){n.row.empty(),n.row.addClass("inline_edit"),n.fieldset=$('<fieldset id="'+TagSidebar.ID_EDITTING+'"></fieldset>'),n.row.append(n.fieldset),n.input=$('<input type="text" maxlength="25" />'),n.input.val(e),n.fieldset.append(n.input),n.deleteButton=$('<a class="'+TagSidebar.CLASS_DELETE+'" title="Delete">delete</a>'),n.fieldset.append(n.deleteButton),n.fieldset.append('<a class="'+TagSidebar.CLASS_EDIT_CLOSE+'" title="Edit">edit</a> <div class="clear"></div>'),n.fieldset.data("editingData",n),n.input.bind("keypress",function(e){var i=e.keyCode?e.keyCode:e.which;13==i&&t.editFinish(n)});var a;$(n.input).blur(function(){a=setTimeout(function(){t.editFinish(n)},200)}),$(n.input).focus(function(){a&&(clearTimeout(a),a=null)}),n.fieldset.find(TagSidebar.sCLASS_DELETE).click(function(){a&&(clearTimeout(a),a=null),t.deleteTag(n)}),n.input.focus(),n.input.select()}},"editFinish":function(e){e.isFinishing||(e.isFinishing=!0,e.newTag=$.trim(e.input.val()).toLowerCase(),this.editVerify(e))},"editVerify":function(e){var t=this;if(e.tag==e.newTag)this.editCommit(e,!0);else if(e.newTag.length>0){if(e.newTag==TagSidebar.UNTAGGED)return void createDialog({"anchor":e.input,"title":"Tag not allowed","message":'The tag <span class="tag">"'+TagSidebar.UNTAGGED+'"</span> is not allowed, please choose a different one.',"confirm":{"title":"Ok","action":function(){e.isFinishing=!1,e.input.focus()}}});for(var n=!1,i=0;i<this.tags.length;i++)if(this.tags[i]==e.newTag){n=!0;break}n?createDialog({"anchor":e.input,"title":"Tag already exists","message":'<span class="tag">"'+e.newTag+'"</span class="tag"> already exists, would you like to merge <span class="tag">"'+e.tag+'"</span class="tag"> into <span class="tag">"'+e.newTag+'"</span class="tag">?',"confirm":{"title":"Yes","action":function(){t.mergeTags(e)}},"cancel":{"action":function(){t.editCommit(e,!0)}}}):this.editCommit(e)}else this.editCommit(e,!0)},"editCommit":function(e,t){t&&(e.newTag=e.tag),this.setRowsTag(e.row,e.newTag),$(e.row).removeClass("inline_edit"),t||(this.updateArrays(e.tag,e.newTag),this.renameTag(e))},"renameTag":function(e){queue.data.renameTag({"data":{"oldTag":e.tag,"newTag":e.newTag}}),queue.tagRenamed(e.tag,e.newTag),e.tag==this.selectedTag&&setTimeout(function(){tagSidebar.setTag(e.newTag)},100)},"deleteTag":function(e){var t=this;createDialog({"anchor":e.deleteButton,"title":"Are you sure?","message":'This will untag the tag <span class="tag">"'+e.tag+'"</span> from any items that have been tagged with it.',"confirm":{"title":"Delete","action":function(){e.row.remove(),queue.data.deleteTag({"data":{"tag":e.tag}}),queue.tagDeleted(e.tag),t.selectedTag==e.tag&&t.setTag(null),t.updateArrays(e.tag),t.heightUpdated()}},"cancel":{"action":function(){e.isFinishing=!1,e.input.focus()}}})},"mergeTags":function(e){e.row.remove(),this.updateArrays(e.tag),this.renameTag(e),this.heightUpdated()},"updateArrays":function(e,t){if(t){this.rows[t]=this.rows[e],delete this.rows[e];for(var n,i=!1,a=!1,s=0;s<this.tags.length&&(i||this.tags[s]!=e||(this.tags.splice(s,1),i=!0),a||(this.tags[s]>t?(n=this.rows[this.tags[s]],this.tags.splice(s>0?s-1:0,0,t),a=!0):s==this.tags.length-1&&(n=null,this.tags.push(t),a=!0)),!a||!i);s++);n?this.rows[t].insertBefore(n):$("#tag_sidebar_list").append(this.rows[t]),this.scrollToTag(t)}else{delete this.rows[e];for(var s=0;s<this.tags.length;s++)if(this.tags[s]==e){this.tags.splice(s,1);break}}},"scrollToTag":function(e){var t=this.rows[e],n=$("#page_queue"),i=$(window).scrollTop(),a=$(window).height(),s=$("header").height()+$("#page nav").height(),o={"top":i+s,"bottom":i+a-$("footer").height()},r=this.contentDiv.offset();r.height=this.contentDiv.height(),r.bottom=r.top+r.height;var e=t.offset();e.height=t.outerHeight(),e.bottom=e.top+e.height;var l=s-r.top,c=n.offset().top+n.height()-r.bottom,u=o.bottom-r.bottom,d=o.top-r.top;r.ranges={"min":l>u?l:u,"max":c>d?d:c};var h,p=!0,f=o.top-e.top;if(e.top<o.top?h=f:e.top>o.bottom?h=o.bottom-e.top-e.height:p=!1,p){var m,g=!0;f>=r.ranges.min&&f<=r.ranges.max?m=f:h>=r.ranges.min&&h<=r.ranges.max?m=h:g=!1;var v=parseInt(this.contentDiv.css("top").replace("px",""));if(g)this.contentDiv.css("top",v+m+"px"),this.checkPinning();else{f=-1*f,h=-1*h;var _=$(document).height();m=f+i>0&&_>f+i?f:h+i>0&&_>h+i?h:0,this.pin(this.contentDiv,0,r.top),window.scrollBy(0,m)}}setTimeout(function(){t.addClass("highlighted"),setTimeout(function(){t.addClass("highlight_fade"),setTimeout(function(){t.removeClass("highlighted"),t.removeClass("highlight_fade")},1e3)},100)},30)},"lookForNewtags":function(e){if(this.created)for(var t=0;t<e.length;t++)-1==$.inArray(e[t],this.tags)&&this.addTag(e[t])},"addTag":function(e){for(var t,n=this.getNewRow(e),i=this.tags.length,a=0;a<this.tags.length;a++)if(this.tags[a]>e){t=this.rows[this.tags[a]],i=a-1;break}this.tags.splice(i>0?i:0,0,e),this.rows[e]=n,t?n.insertBefore(t):$("#tag_sidebar_list").append(n),this.heightUpdated()},"setBreadcrumb":function(e){e&&($(".queue_title_main").html(sanitizeText(e)),$(".nav-toggledetail").text("archive"==queue.stateSelector.value?Templating.callTrans("queue.inarchive"):"favorites"==queue.stateSelector.value?Templating.callTrans("queue.infavorites"):Templating.callTrans("queue.inmylist")),$(".queue_toggle_listqueue").addClass("queue_toggle_active"),
$(".toolbar_queue").addClass("toolbar_queue_narrowtoggle"),$(".notifications-error").addClass("notifications-error-narrowtoggle"),queue.queueList.addClass("queue_list_mode_narrowtoggle"))},"getHeight":function(){return this.isOpen()?this.contentDiv.outerHeight():void 0},"heightUpdated":function(){var e=$(window).height()-this.layoutInfoCache.footersHeight-this.layoutInfoCache.headersHeight,t=this.isOpen()?this.contentDiv.outerHeight():0;queue.page.css("min-height",(e>t?e:t)+"px"),this.checkPinning()}};var tagSidebar=new TagSidebar,QueueData=DataAdapter.extend({"getList":function(e){this.get("get",e)},"getShares":function(e){this.get("getShares",e)},"itemAction":function(e){this.send("itemAction",e,!0)},"bulkEdit":function(e){this.send("bulkEdit",e,!0)},"opened":function(e,t){2!=t&&this.send("open",{"data":{"item_id":e,"open_type":t}},!0)},"getTags":function(e){this.get("getTags",e)},"renameTag":function(e){this.send("renameTag",e,!0)},"deleteTag":function(e){this.send("deleteTag",e,!0)},"updateItemTags":function(e,t){this.bulkEdit({"data":{"items":[e],"tagType":t.length?"tags_replace":"tags_clear","tags":t.join(",")}})},"getRecommended":function(e){this.get("feed",e)},"getArticle":function(e){this.get("getArticle",e)},"savePosition":function(e){this.send("savePosition",e)}});Queue.prototype={"init":function(){function e(e){e.preventDefault(),($(e.target).hasClass("header-nav-toggle-close")||$(e.target).parent().hasClass("header-nav-toggle-close"))&&$(".side-nav").hasClass("side-nav-help")?Modernizr.cssanimations?$(".side-nav").one("webkitAnimationEnd animationend msAnimiationEnd oAnimationEnd",function(){$(".side-nav").removeClass("side-nav-interim side-nav-help").addClass("side-nav-final")}).removeClass("side-nav-final").addClass("side-nav-interim"):$(".side-nav").removeClass("side-nav-help"):($(".side-nav").hasClass("side-nav-active")?(PocketAnalytics.action("sidenav_hide","interact","webapp"),Modernizr.touch&&$(".side-nav").hasClass("sidenav-tagbreakout")&&$(".side-nav").removeClass("sidenav-tagbreakout")):PocketAnalytics.action("sidenav_show","interact","webapp"),$(".side-screen").toggleClass("side-screen-active"),$(".side-nav").toggleClass("side-nav-active"),Modernizr.csstransitions&&!$(".side-nav").hasClass("side-nav-active")&&$(".side-nav").one("webkitTransitionEnd transitionend msAnimiationEnd oTransitionEnd",function(){$(this).removeClass("side-nav-help")}))}function t(){$(".side-screen").removeClass("side-screen-active"),$(".side-nav").removeClass("side-nav-active sidenav-tagbreakout")}function n(){i.searchField.hasClass("page_search")||($.trim(i.searchField.val()).length>0?($(".searchtoolbar_screen").removeClass("searchtoolbar_screen_active"),i.hideRecentSearchesList(),$(".searchnav-sortby-disabled").removeClass("searchnav-sortby-disabled"),$(".section-filter-disabled").removeClass("section-filter-disabled"),i.searchChipLength?i.searchField.css("width",24*$.trim(i.searchField.val()).length+"px"):i.searchField.css("width","100%")):($(".searchtoolbar_screen").addClass("searchtoolbar_screen_active"),$("#searchnav_sortby > a").addClass("searchnav-sortby-disabled"),$(".section-filter").addClass("section-filter-disabled"),i.showRecentSearchesList(),i.searchField.css("width","100%"),$("#page_queue").removeClass("page_queue_search"),$(".side-nav").removeClass("side-nav-search")))}var i=this;"object"==typeof PocketUserApps&&(dictJSON.manual.avatarurl=PocketUserApps.avatarUrl);var a=Handlebars.templates.queue_navitem;this.navigationItem=$(a(dictJSON)),$("#page .pkt-nav").append(this.navigationItem),Modernizr.input.placeholder||"function"!=typeof $.fn.placeholder||$("input").placeholder(),$(".pkt-nav").after(Handlebars.templates.queue_sidenav(dictJSON)),$(".header-nav-toggle,.side-screen,#pagenav_sidenav > .inbox_badge").click(e),$(".nav-default,.nav-secondary").on("click","a",function(e){var n=$(this);if(n.hasClass("nav-selected"))return void e.preventDefault();n.hasClass("toggle-gridlistview")||e.preventDefault();var a=i.stateSelector.value;if(n.hasClass("section-mylist")&&i.stateSelector.set("queue"),n.hasClass("section-favorites")&&i.stateSelector.set("favorites"),n.hasClass("section-archive")&&i.stateSelector.set("archive"),n.hasClass("section-mylist")||n.hasClass("section-favorites")||n.hasClass("section-archive")){var s=$(".queue_toggle_listqueue").hasClass("queue_toggle_active");$(".queue_toggle_listqueue").removeClass("queue_toggle_active"),$(".toolbar_queue").removeClass("toolbar_queue_narrowtoggle"),$(".notifications-error").removeClass("notifications-error-narrowtoggle"),i.queueList.removeClass("queue_list_mode_narrowtoggle"),-1!=i.contentTypeControl.value?(i.contentTypeControl.set(-1),i.stateChanged(0!=tagSidebar.selectedtag),(a==i.stateSelector.value||s)&&i.reloadList()):i.stateChanged(0!=tagSidebar.selectedtag),i.showBulkEdit(!1)}if(n.hasClass("section-recommended")&&$(".queue_togglesection_recommended").trigger("click"),n.hasClass("section-inbox")&&i.showInbox($("#container")),n.hasClass("section-profile")&&window.open(ServerSettings.profilePage,"_blank"),n.hasClass("section-premium")&&window.open(i.premiumMode?"/premium_settings":"/premium?ep=2","_blank"),n.hasClass("section-options")&&window.open("/options","_blank"),n.hasClass("section-help")&&window.open("https://help.getpocket.com/customer/portal/topics/209720-pocket-for-web","_blank"),n.hasClass("section-logout")&&boot.logout(),n.attr("class").indexOf("filter-")>-1&&!n.hasClass("filter-tags")){$(".nav-selected").removeClass("nav-selected"),n.addClass("nav-selected");var s=$(".queue_toggle_listqueue").hasClass("queue_toggle_active");i.stateSelector.set("queue");var o=n.attr("class").match(/filter-(\w+)/)[1],r={"articles":0,"videos":1,"images":2};"object"==typeof i.contentTypeControl&&(i.contentTypeControl.set(r[o]),tagSidebar.setTag(!1,!0),$(".queue_toggle_listqueue").addClass("queue_toggle_active"),$(".toolbar_queue").addClass("toolbar_queue_narrowtoggle"),$(".notifications-error").addClass("notifications-error-narrowtoggle"),i.queueList.addClass("queue_list_mode_narrowtoggle"),$(".expanded_toggle_filter .expanded_toggle_selected").removeClass("expanded_toggle_selected"),$(".expanded_toggle_filter .expanded_toggle_mylist").addClass("expanded_toggle_selected"),queue.page.addClass("page_queue_filter"),$(".nav-toggledetail").text(Templating.callTrans("queue.inmylist")),$(".queue_title_main").text(Templating.callTrans("queue.filter_"+o)),PocketAnalytics.action("switch_"+o,"interact","webapp")),a==i.stateSelector.value||s?(i.stateChanged(),i.reloadList()):i.stateChanged(),i.showBulkEdit(!1)}if(n.attr("class").indexOf("section-")>-1){var l=n.attr("class").match(/section-(\w+)/)[1];"mylist"==l&&(l="queue"),PocketAnalytics.action("switch_"+l,"interact","webapp")}if(n.hasClass("nav-addarticle")&&$("#pagenav_addarticle > a").trigger("click"),n.hasClass("filter-tags")){$("#pagenav_tagfilter").trigger("click"),$("#pagenav_tagfilter").hasClass("innerpopover-active")&&PocketAnalytics.action("show_tags","interact","webapp");var n=$("#pagenav_tagfilter > a");return n.hasClass("all")&&queue.data.getTags({"delegate":queue,"doneSelector":"tagsReady"}),void($(window).width()<i.BREAK_ITEM_POPUP_WIDE&&t())}n.hasClass("filter-tags")||t()}),$("#nav-bottom-more").on("click",function(e){e.stopPropagation(),e.cancelBubble=!0;var t=$(this).parent();return t.toggleClass("nav-active"),$(document).one("click",function(e){return $(e.target).is("#nav-bottom-more")?!1:void t.removeClass("nav-active")}),!1}),this.stateSelector={"value":"queue","set":function(e){return this.value=e,"recommended"==e?void $(".pagenav_queuedetail").find(".queue_title_main").text(Templating.callTrans("recommended.recommended")):(queue.page.removeClass("page_queue_filter"),void(queue.searchStateMode||$.trim(queue.searchField.val()).length||($(".queue_title_main").attr("class","queue_title queue_title_main queue_title_"+e),$(".queue_title_main").text("queue"==e?Templating.callTrans("queue.mainmenu_home"):Templating.callTrans("queue.mainmenu_"+e)))))}};var a=Handlebars.templates.queue_searchitem;ServerSettings.PremiumStatus&&(this.premiumMode=!0),ServerSettings.PremiumOnTrial&&(this.premiumOnTrial=!0),dictJSON.manual.premium=this.premiumMode?1:0,this.searchItem=$(a(dictJSON)),$("#page .pkt-nav").append(this.searchItem),$("#page").append('<div class="searchtoolbar_screen"></div>'),$(".pagenav_searchicon a,.launch-search").click(function(e){e.preventDefault(),i.recommendedMode&&$(".queue_togglesection_home").trigger("click"),i.showSearchState(!0)}),this.searchField=$("#page_search"),this.searchChipLength=0,this.searchFieldEmptyState=!0,this.searchField.keyup(function(e){var t=e.keyCode||e.which;if(27==t)return void i.showSearchState(!1);if(this.searchKeyValid||8==t){if(this.searchKeyValid=!1,13==t)return i.reloadTO&&clearTimeout(i.reloadTO),void i.reloadList();i.searchRecentSearch=!1,i.reloadTO&&clearTimeout(i.reloadTO),i.saveSearchTO&&clearTimeout(i.saveSearchTO),i.reloadTO=setTimeout(function(){if($.trim(i.searchField.val()).length)i.searchFieldEmptyState=!1;else{if(i.searchFieldEmptyState)return;i.searchFieldEmptyState=!0}i.reloadList()},400),i.saveSearchTO=setTimeout(function(){i.saveSearchStateToPrevSearches()},2e4),n()}}).keypress(function(e){this.searchKeyValid=!0}).keydown(function(e){var t=e.keyCode||e.which;if(8==t&&!$(this).val().length&&i.searchChipLength){var n=$(".search-input-list .search-chip").last();n.hasClass("search-chip-selected")?(n.remove(),i.searchChipLength--,i.adjustInputAreaForChips(),i.reloadList()):n.addClass("search-chip-selected")}}).focus(function(e){PocketAnalytics.actionWithExtraString("search_focus","interact","webapp",$(this).val())}).blur(function(e){PocketAnalytics.actionWithExtraString("search_blur","interact","webapp",$(this).val())}).on("paste",function(e){setTimeout(function(){n(),i.reloadList()},50)}).on("input",function(e){n()}),/Trident/.test(navigator.userAgent)&&(this.searchFieldPrevLength=0),this.searchField.on("input",function(e){!$.trim($(this).val()).length&&this.searchFieldPrevLength>0&&(i.searchFieldEmptyState=!0,n(),i.reloadList()),this.searchFieldPrevLength=$.trim($(this).val()).length}),(/iPhone/.test(navigator.userAgent)||/iPad/.test(navigator.userAgent))&&this.searchField.addClass("search_mobile_mode"),$(".pocket_logo").click(function(e){e.preventDefault(),i.recommendedMode?i.setQueueRecommendMode(!1,function(){$(".pocket_logo").trigger("click")}):(i.searchStateMode&&i.showSearchState(!1),PocketAnalytics.action("logo_reset","interact","webapp"),$(".section-mylist").hasClass("nav-selected")?i.reloadList():$(".section-mylist").trigger("click"))}),this.tagSelector=new DropSelector({"id":"pagenav_tagfilter","class":"titleItem titleSelector","nodeName":"div","alignment":"centeredleft","append":$(".wrapper_tag"),"showClass":"innerpopover-active","list":[dsi("all",Templating.callTrans("queue.allitems")),dsi("untagged",Templating.callTrans("queue.tag_untaggeditems"))],"selectCallback":function(e,t){$(t).attr("val");return!0},"callback":function(){},"hideUntilSet":!1}),$(window).width()<i.BREAK_ITEM_POPUP_WIDE&&$("#container").append($(".wrapper_tag")),$("#pagenav_tagfilter > a").attr("title",Templating.callTrans("queue.tagfilter")).addClass("hint-item"),$("#pagenav_tagfilter").click(function(e){var t=$("#pagenav_tagfilter").find(".popover-new"),n=$(window).width();n>=queue.BREAK_ITEM_SIDENAV||"border-box"==$(".side-nav").css("box-sizing")?t.css({"left":"0","top":t.height()*-.55+"px"}):n>=queue.BREAK_ITEM_POPUP_WIDE&&t.css({"left":"-3em","top":"10.2em"}),Modernizr.touch&&n>=queue.BREAK_ITEM_POPUP_WIDE&&$(window).height()<416&&$(".side-nav").addClass("sidenav-tagbreakout"),n<queue.BREAK_ITEM_POPUP_WIDE&&!$(".popover-tagfilter-header").length&&$(".popover-new-list").before('<div class="popover-tagfilter-header"><a class="popover-tagfilter-close">Close</a><h3>Tags</h3></div>');var i=$("#pagenav_tagfilter").find(".popover-new-list");i.removeClass("tag_edit_mode"),i.parent().append('<div class="tagfilter_loading"><div class="loading_display"></div></div>');var a=i.children("li");i.height()<a.height()*a.length?i.addClass("scroll_mode"):i.removeClass("scroll_mode"),$(e.target).hasClass("all")&&queue.data.getTags({"delegate":queue,"doneSelector":"tagsReady"})}),$("#pagenav_tagfilter").on("click","a",function(e){if($(e.target).parent().hasClass("editdelete")&&boot.mouseDetectionOverride)return e.preventDefault(),e.stopImmediatePropagation(),$("#pagenav_tagfilter").find(".popover-new-list").toggleClass("tag_edit_mode"),void($("#pagenav_tagfilter").find(".popover-new-list").hasClass("tag_edit_mode")&&($("#pagenav_tagfilter").find("a").on("mouseover.temp",s),$("#pagenav_tagfilter").find("a").trigger("mouseover"),$("#pagenav_tagfilter").find("a").off("mouseover.temp")));if(!$(e.target).parent().hasClass("editdelete")&&!$(e.target).hasClass("editmode")){var n=i.stateSelector.value;i.stateSelector.set("queue"),i.contentTypeControl.set(-1),i.stateChanged(0!=tagSidebar.selectedtag),n==i.stateSelector.value&&i.reloadList(),t(),setTimeout(function(){i.tagSelector.close()},20)}});var s=function(e){if(!$(this).hasClass("editmode")&&"all"!=$(this).parent().attr("val")&&"untagged"!=$(this).parent().attr("val")&&!$(this).parent().hasClass("editdelete")){if(!$(this).children(".edittag").length){var n=$(this).text();$(this).text("").append('<span class="itemtext">'+sanitizeText(n)+"</span>");var a=$('<span class="edittag"></span>');(Modernizr.touch||boot.mouseDetectionOverride)&&(a=a.add('<span class="edittagtouch"></span>')),$(this).append(a),a.click(function(e){e.preventDefault(),e.stopImmediatePropagation();var a=$(this).parent("a");if(!a.hasClass("editmode")){a.addClass("editmode").find(".itemtext").hide();var s=$('<input class="edittaginput" type="text"></input>');a.children(".edittaginput").length&&a.children(".edittaginput").remove(),a.parent().append(s),(/iPhone/.test(navigator.userAgent)||/iPad/.test(navigator.userAgent))&&s.addClass("tag_mobile_mode"),s.focus(),s.val(n),a.find(".deletetag").addClass("deletetag_active"),s.blur(function(e){e.preventDefault();var t=$(this).val();setTimeout(function(){i.massTagChanging||i.massEditSelfClick||(i.commitMassTagChange(a,n,t.toLowerCase()),$("#pagenav_tagfilter").find(".popover-new-list").removeClass("tag_edit_mode")),i.massEditSelfClick=!1},100)}),s.keypress(function(e){13==e.which&&(e.preventDefault(),i.commitMassTagChange(a,n,$(this).val().toLowerCase()),setTimeout(function(){i.tagSelector.close()},20),t())}),s.click(function(e){i.massEditSelfClick=!0,e.preventDefault(),e.stopImmediatePropagation()})}})}if(!$(this).children(".deletetag").length){var s=$('<span class="deletetag"></span>');$(this).append(s),s.on("mousedown touchstart",function(e){var n=$(this).parent("a");if($(this).hasClass("deletetag_active")){$(this).removeClass("deletetag_active"),e.preventDefault(),e.stopImmediatePropagation();var a=n.text();i.commitMassTagDelete(n,a),setTimeout(function(){i.tagSelector.close()},20),t()}})}}};Modernizr.touch?$("#pagenav_tagfilter").on("click",".editdelete a",function(e){e.preventDefault(),e.stopImmediatePropagation(),$("#pagenav_tagfilter").find(".popover-new-list").toggleClass("tag_edit_mode"),$("#pagenav_tagfilter").find(".popover-new-list").hasClass("tag_edit_mode")&&($("#pagenav_tagfilter").find("a").on("mouseover.temp",s),$("#pagenav_tagfilter").find("a").trigger("mouseover"),$("#pagenav_tagfilter").find("a").off("mouseover.temp"))}):$("#pagenav_tagfilter").on("mouseover","a",s),$("#pagenav_addarticle > a").click(function(e){function t(e){var t=$("#addMenu input");return t.val().trim().length&&-1==t.val().trim().indexOf("getpocket.com/a")?t.siblings(".button").removeClass("button-disabled"):t.siblings(".button").addClass("button-disabled"),e&&13==e.keyCode&&(e.preventDefault(),t.siblings(".button").trigger("click")),e&&27==e.keyCode?(e.preventDefault(),void i.addMenu.show(!1)):void 0}if(e.preventDefault(),PocketAnalytics.action("show_addurl","interact","webapp"),!i.addMenu){var n=Handlebars.templates.queue_additemdialog(dictJSON).replace(/(\*)([\w|\d|\s|\.||\,|\'|\@|\w-]*)(\*)/i,'<a href="#" class="install_ext">$2</a>');i.addMenu=new PopOver("addMenu",n,$(".toolbar_queue"),{"onHide":function(){$("#addMenu").find("input").hide()},"onShow":function(){$("#addMenu").find("input").show(),$(window).width()>queue.BREAK_ITEM_POPUP_WIDE&&$("#addMenu").css({"top":$(".pkt-nav").height()*(5/6)+"px","left":$("#pagenav_addarticle > a").offset().left-$("#addMenu").width()-parseInt($(".toolbar_queue").offset().left)+24+"px"})},"positions":["bottomleft","bottom"],"disableHideOnScroll":!0,"hideOnClickInPopover":!1,"headerTitle":Templating.callTrans("queue.saveanitemtopocket"),"xOffset":10}),(/iPhone/.test(navigator.userAgent)||/iPad/.test(navigator.userAgent))&&$("#addMenu .container").addClass("addurl_mobile_mode"),$("#addMenu input").keyup(t),$("#addMenu input").on("paste",function(e){setTimeout(t,50)}),$("#addMenu .button").click(function(e){if(e.preventDefault(),!$(this).hasClass("button-disabled")){var t=$(this).siblings("input").val().trim();-1==t.indexOf("http")&&/\.\w\w/.test(t)&&(t="http://"+t),i.addURL(t),i.addMenu.show(!1),$(this).addClass("button-disabled"),$(this).siblings("input").val("")}}),$("#addMenu .install_ext").click(function(e){e.preventDefault(),boot.ExternalUserSettings.extinstalled=!0,boot.saveExternalUserSettings(),i.addMenu.show(!1),"object"==typeof chrome&&"object"==typeof chrome.webstore?i.gsfOpenInitOverlay(!0):window.open("http://getpocket.com/welcome")}),$("#addMenu .saveurl-close").click(function(e){e.preventDefault(),i.addMenu.show(!1)})}(boot.GSFStatus.extinstalled||boot.ExternalUserSettings.extinstalled||PocketUserApps.ready&&PocketUserApps.installedExtension())&&i.addMenu.object.addClass("addmenu-hideconnect"),i.addMenu.show($("#pagenav_addarticle > a")),setTimeout(function(){$("#addMenu input").focus()},50)}),$("#pagenav_inbox > a, #pagenav_inbox > .inbox_badge").click(function(e){e.preventDefault(),PocketAnalytics.action("switch_inbox","interact","webapp"),i.showInbox($(this))});var o="User";"string"==typeof PocketUserApps.firstName&&$.trim(PocketUserApps.firstName).length?o=PocketUserApps.firstName:"string"==typeof PocketUserApps.userName&&$.trim(PocketUserApps.userName).length&&(o=PocketUserApps.userName),$("#pagenav_options").find(".nav-username").html(o);var r=[dsi("profile",Templating.callTrans("sharing.profile")),dsi("premium",Templating.callTrans("queue.mainmenu_premium")),dsi("help",Templating.callTrans("queue.mainmenu_help")),dsi("options",Templating.callTrans("queue.mainmenu_options")),dsi("logout",Templating.callTrans("login.logout"))],l="bottomleft",c=-30;$(window).width()>queue.BREAK_ITEM_MAXWIDTH&&(l="bottom",c=0),this.optionsSelector=new DropSelector({"id":"pagenav_options_container","class":"","nodeName":"div","alignment":l,"append":$("#pagenav_options"),"showClass":"innerpopover-active","list":r,"selectCallback":function(e,t){var n=$(t).attr("val");return PocketAnalytics.action("switch_"+n,"interact","webapp"),"profile"==n?(window.open(ServerSettings.profilePage,"_blank"),!1):"premium"==n?(window.open(i.premiumMode?"/premium_settings":"/premium?ep=2","_blank"),!1):"options"==n?(window.open("/options","_blank"),!1):"help"==n?(window.open("https://help.getpocket.com/customer/portal/topics/209720-pocket-for-web","_blank"),!1):"logout"==n?(boot.logout(),!1):!0},"hideUntilSet":!0,"xOffset":c,"onShow":function(e){if(!i.optionsSelectorWidthSet){i.optionsSelectorWidthSet=!0;var t=$(".nav-username").width();e.xOffset="bottomleft"==e.alignment?-24+t:-30+t}}}),$("#pagenav_options_container").show().children("a").hover(function(){$("#pagenav_options .nav-username").addClass("nav-username-active"),$("#pagenav_options .nav-downnotch").addClass("nav-downnotch-active")},function(){$("#pagenav_options .nav-username").removeClass("nav-username-active"),$("#pagenav_options .nav-downnotch").removeClass("nav-downnotch-active")}),$("#pagenav_options_container").children("a").click(function(e){PocketAnalytics.action("show_options","interact","webapp")}),$("#pagenav_options_container .popover-new-list").find("a").append('<span class="nav-icon"></span>'),dictJSON.manual.profile_name=PocketUserApps.firstName+" "+PocketUserApps.lastName,dictJSON.manual.profile_avatarurl=PocketUserApps.avatarUrl,$("#pagenav_options_container").find(".profile a").html(Handlebars.templates.queue_optionsprofile(dictJSON));var u=Handlebars.templates.queue_bulkedit;this.bulkEditContainer=$(u(dictJSON)),this.navigationItem.append(this.bulkEditContainer),this.bulkEditActions=this.bulkEditContainer.find(".bulkedit-actions"),this.bulkEditActions.find(".bulkedit-archive a").click(function(e){e.preventDefault(),$(this).parents(".bulkedit-actions").hasClass("bulkedit-actions-inactive")||i.commitBulkEdit("mark")}),this.bulkEditActions.find(".bulkedit-favorite a").click(function(e){e.preventDefault(),$(this).parents(".bulkedit-actions").hasClass("bulkedit-actions-inactive")||i.commitBulkEdit("favorite")}),this.bulkEditActions.find(".bulkedit-delete a").click(function(e){if(e.preventDefault(),!$(this).parents(".bulkedit-actions").hasClass("bulkedit-actions-inactive")){var t=i.queueList.children(".item").filter(".item_bulkeditselected"),n=Templating.callTrans("confirm.deleting")+" "+t.length+(1==t.length?" item":" items");i.showConfirmDialog(n,Templating.callTrans("confirm.areyousure"),Templating.callTrans("cta.delete"),function(){i.commitBulkEdit("delete")})}}),this.bulkEditActions.find(".bulkedit-addtag a").click(function(e){if(e.preventDefault(),!$(this).parents(".bulkedit-actions").hasClass("bulkedit-actions-inactive")){var t=i.queueList.children(".item").filter(".item_bulkeditselected").not(".removed");PocketAnalytics.action("bulk_edit_tag","interact","webapp"),i.showBulkTagsDialog(!0,!1,null,null,null,t.length)}}),this.bulkEditContainer.find(".bulkedit-cancel").click(function(e){e.preventDefault(),$(this).parents(".bulkedit-actions").hasClass("bulkedit-actions-inactive")||(i.showBulkEdit(!1),PocketAnalytics.action("bulk_edit_close","interact","webapp"))}),this.page=$(Handlebars.templates.queue_pageshell(dictJSON)),$("#content").append(this.page),Modernizr.touch||$(".hint-item").each(function(e,t){createSimpleTooltip($(t))}),$(".pagenav_bulkedit > a").click(function(e){e.preventDefault(),PocketAnalytics.action("interact_bulkediticon_secondary","interact","webapp"),i.bulkEditMode?i.showBulkEdit(!1):(i.showBulkEdit(!0),i.updateBulkEditWording())});var d=[dsi("mylist",Templating.callTrans("queue.mainmenu_home")),dsi("favorites",Templating.callTrans("queue.mainmenu_favorites")),dsi("archive",Templating.callTrans("queue.mainmenu_archive"))];$(".nav-toggledetail").text(Templating.callTrans("queue.inmylist")),this.optionsSelector=new DropSelector({"class":"toggle_listqueue_container","nodeName":"div","alignment":"bottom","append":$(".queue_toggle_listqueueprimary"),"showClass":"innerpopover-active","list":d,"selectCallback":function(e,t){var n=$(t).attr("val");return"archive"==n&&($(".nav-toggledetail").text(Templating.callTrans("queue.inarchive")),i.stateSelector.value="archive",i.stateChanged(),i.reloadList()),"favorites"==n&&($(".nav-toggledetail").text(Templating.callTrans("queue.infavorites")),i.stateSelector.value="favorites",i.stateChanged(),i.reloadList()),"mylist"==n&&($(".nav-toggledetail").text(Templating.callTrans("queue.inmylist")),i.stateSelector.value="queue",i.stateChanged(),i.reloadList()),PocketAnalytics.action("switch_listtoggle_top_"+n,"interact","webapp"),!1},"callback":function(){},"hideUntilSet":!0}),this.optionsSelector=new DropSelector({"class":"toggle_listqueue_container","nodeName":"div","alignment":"bottom","append":$(".queue_toggle_listqueuesecondary"),"showClass":"innerpopover-active","list":d,"selectCallback":function(e,t){var n=$(t).attr("val");return $(".expanded_toggle_filter .expanded_toggle_selected").removeClass("expanded_toggle_selected"),"archive"==n&&($(".nav-toggledetail").text(Templating.callTrans("queue.inarchive")),$(".expanded_toggle_filter .expanded_toggle_archive").addClass("expanded_toggle_selected"),i.stateSelector.value="archive",i.stateChanged(),i.reloadList()),"favorites"==n&&($(".nav-toggledetail").text(Templating.callTrans("queue.infavorites")),$(".expanded_toggle_filter .expanded_toggle_mylist").addClass("expanded_toggle_selected"),i.stateSelector.value="favorites",i.stateChanged(),i.reloadList()),"mylist"==n&&($(".nav-toggledetail").text(Templating.callTrans("queue.inmylist")),$(".expanded_toggle_filter .expanded_toggle_mylist").addClass("expanded_toggle_selected"),i.stateSelector.value="queue",i.stateChanged(),i.reloadList()),PocketAnalytics.action("switch_listtoggle_secondary_"+n,"interact","webapp"),!1},"callback":function(){},"hideUntilSet":!0}),$(".toggle_listqueue_container").show(),$(".queue_toggle_listqueue").click(function(e){e.preventDefault(),$(this).hasClass("queue_toggle_listqueueprimary")?PocketAnalytics.action("show_listtoggle_top","interact","webapp"):PocketAnalytics.action("show_listtoggle_secondary","interact","webapp")}),$(".expanded_toggle_filter").find("a").click(function(e){e.preventDefault(),$(this).hasClass("expanded_toggle_selected")||($(".expanded_toggle_filter .expanded_toggle_selected").removeClass("expanded_toggle_selected"),$(this).addClass("expanded_toggle_selected"),$(this).hasClass("expanded_toggle_mylist")&&($(".nav-toggledetail").text(Templating.callTrans("queue.inmylist")),i.stateSelector.value="queue",i.reloadList()),$(this).hasClass("expanded_toggle_archive")&&($(".nav-toggledetail").text(Templating.callTrans("queue.inarchive")),i.stateSelector.value="archive",i.reloadList()))}),$(".expanded_toggle_search").find("a").click(function(e){e.preventDefault(),$(this).hasClass("expanded_toggle_selected")||($(".expanded_toggle_search .expanded_toggle_selected").removeClass("expanded_toggle_selected"),$(this).addClass("expanded_toggle_selected"),$(this).hasClass("expanded_toggle_mylist")&&(i.searchSectionFilter="mylist"),$(this).hasClass("expanded_toggle_archive")&&(i.searchSectionFilter="archive"),$(this).hasClass("expanded_toggle_allitems")&&(i.searchSectionFilter="allitems"),$.trim(i.searchField.val()).length&&i.reloadList())}),$(".queue_togglesection_option").click(function(e){e.preventDefault(),$(this).hasClass("queue_togglesection_optionselected")||(i.prevExplicitNavigate=!0,$(this).hasClass("queue_togglesection_recommended")?(i.prevRecommendSection=i.state.section,i.stateSelector.set("recommended"),PocketAnalytics.action("click_recommended","interact","webapp")):(i.stateSelector.set("undefined"==typeof i.prevRecommendSection?"queue":i.prevRecommendSection),PocketAnalytics.action("click_list","interact","webapp")),i.stateChanged())}),this.contentTypeControl=new ToolbarSegmentControl({"callback":function(){},"items":[{"class":"article","title":""},{"class":"video","title":""},{"class":"image","title":""}]}),this.breadCrumbSpacer=new Spacer,this.queueList=$("#queue"),this.recommendedList=$(".queue_list_recommend"),/Trident/.test(navigator.userAgent)&&this.queueList.addClass("queue_listnofavicon");var h=Modernizr.localstorage&&(ServerSettings.fromSignup||ServerSettings.fromLoginGsf)&&!this.items.length;if(boot.ExternalUserSettings.hits2013notifypre||boot.GSFStatus.active||h?boot.ExternalUserSettings.hits2013notify||boot.GSFStatus.active||h||(boot.ExternalUserSettings.hits2013notify=!0,boot.saveExternalUserSettings()):(boot.ExternalUserSettings.hits2013notifypre=!0,boot.saveExternalUserSettings()),ServerSettings.persistentNotification){$("body").addClass("page-notificationpersistent");var p=$(Handlebars.templates.notification_persistent(dictJSON));p.find(".content").html(ServerSettings.persistentNotificationMsg),$("#container").prepend(p),p.find(".close").click(function(e){e.preventDefault(),$(this).parents("notifications-persistent").remove(),$("body").removeClass("page-notificationpersistent")})}if("undefined"!=typeof boot.GSFStatus.active&&!boot.GSFStatus.active&&"object"==typeof PocketUserApps&&PocketUserApps.email.indexOf("temp.getpocket.com")>-1){$("body").addClass("page-notificationpersistent");var p=$(Handlebars.templates.notification_persistent(dictJSON));p.find(".content").html('It looks like you\'re still using a temporary email. Please <a href="/account" target="_blank">change this in options</a> now.'),$("#container").prepend(p),p.find(".close").click(function(e){e.preventDefault(),$(this).parents("notifications-persistent").remove(),$("body").removeClass("page-notificationpersistent")})}$(document).smartscroll(function(){this.scrolled()}.bind(this));var f;$(window).resize(function(){clearTimeout(f),f=setTimeout(function(){var e=i.tilesPerRow;if(i.tilesPerRow=tilesPerRow(),e!=i.tilesPerRow&&(e>=2&&1==i.tilesPerRow&&"grid"==boot.ExternalUserSettings.lastQueueView?($("#page_queue").removeClass("page_queue_grid").addClass("page_queue_list"),$(".pagenav_gridlist").removeClass("pagenav_gridview pagenav_listview").addClass("pagenav_listview"),i.reloadList()):1==e&&i.tilesPerRow>=2&&"grid"==boot.ExternalUserSettings.lastQueueView?($("#page_queue").removeClass("page_queue_list").addClass("page_queue_grid"),$(".pagenav_gridlist").removeClass("pagenav_gridview pagenav_listview").addClass("pagenav_gridview"),i.reloadList()):i.reflowTiles()),"object"==typeof i.gsftooltip&&i.gsfRecenterTooltip(200),$(".gsf-tooltip").hasClass("popover-active")){currentGSFTooltip.show(currentGSFTooltip.anchor);var t=currentGSFTooltip.object.attr("class").match(/popover-new-(\w+)/i);t&&t.length>1&&currentGSFTooltip.object.removeClass("gsf-tooltip-bottom gsf-tooltip-bottomleft gsf-tooltip-right gsf-tooltip-top gsf-tooltip-left").addClass("gsf-tooltip-"+t[1])}IsolateScreen.showing&&IsolateScreen.calcPosition();var n=i.recommendedList.children(".item");n.length&&(e>=2&&1==i.tilesPerRow&&(n.removeClass("adjusted"),$.each(n,function(e,t){var n=$(t),i=n.data("tileType");"recommend"==i?n.find(".thumb").css("height","auto"):n.find(".excerpt").css("height","auto")}),n.addClass("adjusted")),1==e&&i.tilesPerRow>=2&&(n.removeClass("adjusted"),i.adjustRecommendedTiles()))},250)}),this.startLazyLoadImages(),this.inited=!0},"loadState":function(e){if(this.inited||this.init(),e.sections[1]&&(e.sections[1]="list"==e.sections[1]?"list":"grid"),this.stateSelector.set(e.page,!0),this.initialView){var t=this;"string"==typeof boot.ExternalUserSettings.lastQueueView?(t.setView(boot.ExternalUserSettings.lastQueueView),t.stateChanged()):(t.setView(e.sections[1]?e.sections[1]:t.defaultView),boot.ExternalUserSettings.lastQueueView=e.sections[1]?e.sections[1]:t.defaultView,boot.saveExternalUserSettings()),this.initialView=!1}else this.setView(e.sections[1]?e.sections[1]:this.defaultView),boot.ExternalUserSettings.lastQueueView=e.sections[1]?e.sections[1]:this.defaultView,boot.saveExternalUserSettings();if(e.sections[2])tagSidebar.setTag(decodeURIComponent(desanitizeText(e.sections[2]).replace("%","%25")),!0),PocketAnalytics.actionWithExtraString("tag_filter","view","webapp",decodeURIComponent(desanitizeText(e.sections[2]).replace("%","%25")));else if(tagSidebar.setTag(!1),-1!==queue.contentTypeControl.value){var n={"0":Templating.callTrans("queue.filter_articles"),"1":Templating.callTrans("queue.filter_videos"),"2":Templating.callTrans("queue.filter_images")};$(".queue_title_main").text(n[queue.contentTypeControl.value])}this.stateChanged()},"stateChanged":function(e){var t=this.getCurrentLocation();if(this.state=t.state,"recommended"!==this.state.section){this.recommendedMode&&this.setQueueRecommendMode(!1);var n=this.getTagUrl("___TAG___").url.replace("/___TAG___","");n!=this.tagUrlPrefix&&(this.tagUrlPrefix=n),this.baseTagUrlPrefix="/a/queue/grid/","grid"!=this.selectedView&&(this.baseTagUrlPrefix="/a/queue/list/"),e&&(t.url=this.tagUrlPrefix,this.state.tag=!1,tagSidebar.selectedTag=!1),$(".pagenav_gridview a").attr("href",this.getInfoForState({"section":this.stateSelector.value,"view":"list","tag":this.state.tag}).url).attr("title",Templating.callTrans("queue.switchtolistview")).off("click").one("click",function(e){
e.preventDefault(),PocketAnalytics.action("toggle_view_list","interact","webapp")}),$(".pagenav_listview a").attr("href",this.getInfoForState({"section":this.stateSelector.value,"view":"grid","tag":this.state.tag}).url).attr("title",Templating.callTrans("queue.switchtotileview")).off("click").one("click",function(e){e.preventDefault(),PocketAnalytics.action("toggle_view_tile","interact","webapp")}),$("#nav_"+this.nav+" a").attr("href",t.url),$(".side-nav").find(".nav-selected").removeClass("nav-selected"),this.state.tag||"queue"!=this.state.section&&"favorites"!=this.state.section&&"archive"!=this.state.section||("queue"==this.state.section?-1!==this.contentTypeControl.value?$(".filter-"+this.contentTypeControl.key()+"s").addClass("nav-selected"):$(".section-mylist").addClass("nav-selected"):-1!==this.contentTypeControl.value?$(".filter-"+this.contentTypeControl.key()+"s").addClass("nav-selected"):$(".section-"+this.state.section).addClass("nav-selected"))}else this.recommendedMode||(this.setQueueRecommendMode(!0),this.getRecommendedItems());if(window.location!=t.url&&(t.title!=document.title&&(document.title=t.title),boot.pushState(t.title,t.url)),"boolean"!=typeof this.prevRecommendMode||this.recommendedMode!==this.prevRecommendMode){var i=boot.ACTION_TYPE_RESULTING;"boolean"!=typeof this.prevRecommendMode&&(i=boot.ACTION_TYPE_LAUNCH),this.prevExplicitNavigate&&(i=boot.ACTION_TYPE_NAV,this.prevExplicitNavigate=!1),PocketAnalytics.action(this.recommendedMode?"view_recommended":"view_list","view","webapp",i)}this.prevRecommendMode=this.recommendedMode,"recommended"!==this.state.section&&"/a/recommended/"!==this.lastUrl&&this.lastUrl!=t.url&&this.reloadList(),"queue"!=this.state.section||"/a/recommended/"!=this.lastUrl||this.syncedSince||this.reloadList(),this.lastUrl=t.url,boot.showPage(this)},"getCurrentLocation":function(){return this.getInfoForState({"tag":tagSidebar.selectedTag,"view":this.selectedView,"section":this.stateSelector.value})},"getTagUrl":function(e){return this.getInfoForState({"tag":e,"view":this.selectedView,"section":this.stateSelector.value})},"getInfoForState":function(e){var t="",n="",i=": ",a=e.section.toLowerCase();return e.tag&&(t=encodeURIComponent(e.tag)+"/"+t,n=i+e.tag),"recommended"==a?(t="recommended/",n=i+Templating.callTrans("recommended.recommended")):(e.view&&(t.length||e.view!=this.defaultView)&&(t=e.view+"/"+t),n=i+Templating.callTrans("queue.section_"+e.section.toLowerCase())+n,(t.length||a!=this.defaultSection)&&(t=a+"/"+t)),t="/a/"+t,n="Pocket"+n,{"url":t,"title":n,"state":e}},"setQueueNameAndToggle":function(){if($(".queue_title_main").attr("class","queue_title queue_title_main queue_title_"+this.stateSelector.value),$(".nav-default .nav-selected").removeClass("nav-selected"),this.searchStateMode&&$.trim(this.searchField.val()).length)$(".queue_title_main").html(Templating.callTrans("queue.searching"));else if(tagSidebar.selectedTag)$(".queue_title_main").html(sanitizeText(tagSidebar.selectedTag));else if(-1==this.contentTypeControl.value)"queue"==this.stateSelector.value?($(".queue_title_main").text(Templating.callTrans("queue.mainmenu_home")),$(".nav-default .section-mylist").addClass("nav-selected")):("archive"==this.stateSelector.value?$(".nav-default .section-archive").addClass("nav-selected"):"favorites"==this.stateSelector.value&&$(".nav-default .section-favorites").addClass("nav-selected"),$(".queue_title_main").text(Templating.callTrans("queue.mainmenu_"+this.stateSelector.value))),$(".queue_toggle_listqueue").removeClass("queue_toggle_active");else{var e=["articles","videos","images"];$(".queue_title_main").text(Templating.callTrans("queue.filter_"+e[this.contentTypeControl.value])),$(".queue_toggle_listqueue").addClass("queue_toggle_active"),$(".nav-default .filter-"+e[this.contentTypeControl.value]).addClass("nav-selected")}"archive"==this.stateSelector.value?$(".nav-toggledetail").text(Templating.callTrans("queue.inarchive")):"favorites"==this.stateSelector.value?$(".nav-toggledetail").text(Templating.callTrans("queue.infavorites")):"mylist"==this.stateSelector.value&&$(".nav-toggledetail").text(Templating.callTrans("queue.inmylist")),tagSidebar.selectedTag?$(".pagenav_contenttype").hide():$(".pagenav_contenttype").show()},"willHide":function(){this.lastScrollTop=$(window).scrollTop()},"didHide":function(){this.showBulkEdit(!1),this.isOpen=!1},"didShow":function(){var e=this;"undefined"!=typeof this.lastScrollTop&&$(window).scrollTop(e.lastScrollTop),this.isOpen=!0},"itemForItemID":function(e){var t=this.itemsByID[e];return t?t:{}},"reloadList":function(e){if(e||(e={}),!e.append||!this.loading){this.loading=!0,this.reloadTO&&clearTimeout(this.reloadTO),e.append?(this.loadingRow||(this.loadingRow=$('<li class="loading loadingRow">&nbsp;</li>')),this.queueList.append(this.loadingRow),this.loadingRow.show(),this.loadMoreRow.hide()):(this.setQueueNameAndToggle(),this.location=0,this.offset=0,(!this.searchStateMode||this.searchStateFirstSearch)&&(this.queueList.parent().addClass("loading"),this.searchStateFirstSearch&&$(".side-nav").addClass("side-nav-search"),this.searchStateFirstSearch=!1),scrollToTop());var t=this.stateSelector.value,n=null;"favorites"==t&&(t=null,n=1);var i=this,a=tagSidebar.selectedTag?tagSidebar.selectedTag:"",s=this.contentTypeControl.key();this.sortingByNewestToOldest="oldest"!=boot.ExternalUserSettings.sortlist;var o=this.sortingByNewestToOldest?"newest":"oldest";this.searchStateMode&&$.trim(this.searchField.val()).length?(e.append||($(".searchtoolbar_queue").find("h2").text(Templating.callTrans("queue.searching")),$(".wrapper_search").addClass("wrapper_search_loading"),$("#page_queue").addClass("page_queue_search"),$(".side-nav").addClass("side-nav-search")),n=null,t="mylist"==this.searchSectionFilter?"queue":"archive"==this.searchSectionFilter?"archive":null,s=null,a="",this.searchChipLength&&$(".search-input-list .search-chip").each(function(e){var o=$(this).find(".search-chip-icon");o.length&&o.hasClass("search-chip-contenttype")&&(s=i.deriveContentTypeFilterFromTagName($(this).find("p").text())),o.length&&o.hasClass("search-chip-tag")&&(a=$(this).find("p").text()),o.length&&o.hasClass("search-chip-favorite")&&(t=null,n=1)}),o=this.searchSortBy):this.searchStateMode&&($(".wrapper_search").addClass("wrapper_search_loading"),$(".searchtoolbar_queue").find("h2").text(""));var r;r=this.location-this.offset,this.offset=0;var l={"offset":r,"count":this.pageSize,"state":t,"favorite":n,"sort":o,"search":this.searchField.val().trim(),"tag":a,"view":this.selectedView,"contentType":s};e.append||(l.appsInfo="summary",l.forcegroups=1,l.forceshares=1),this.searchStateMode&&(l.cxt_search_type=this.searchRecentSearch?"recent":"new"),this.data.getList({"o":e,"data":l,"delegate":this,"doneSelector":"reloadListCallback","errorSelector":"reloadListError"}),"object"==typeof this.gsftooltip&&this.gsftooltip.show(!1),this.location=r+this.pageSize}},"reloadListCallback":function(e,t){if(this.syncedSince=e.since,this.searchHasMore=this.searchStateMode&&"object"==typeof e.search_meta&&e.search_meta.has_more,"object"==typeof PocketUserApps&&"object"==typeof e.app_types&&(PocketUserApps.appTypes=e.app_types,PocketUserApps.ready=!0,!PocketUserApps.installedMobile()&&(ServerSettings.mobileUpsell||boot.ExternalUserSettings.showmobileupsell)&&(boot.ExternalUserSettings.dismisseddevicereminder||"queue"!==this.state.section&&"home"==this.state.section)&&(boot.ExternalUserSettings.showmobileupsell||(boot.ExternalUserSettings.showmobileupsell=!0,boot.saveExternalUserSettings()),$(".nav-mobileupsell").removeClass("nav-mobileupsell-inactive"))),"object"==typeof e.recent_searches&&(this.recentSearches=e.recent_searches),"object"==typeof e.notifications&&"object"==typeof e.unconfirmed_shares&&this.receivedNotifications(e.notifications,e.unconfirmed_shares),this.searchStateMode&&this.premiumMode&&"object"==typeof e.search_meta&&"normal"==e.search_meta.search_type&&e.search_meta.error_msg&&boot.showErrorNotification(e.search_meta.error_msg,!1,!0),this.searchStateMode&&$.trim(this.searchField.val()).length>0?($("#page_queue").addClass("page_queue_search"),$(".side-nav").addClass("side-nav-search")):($("#page_queue").removeClass("page_queue_search"),$(".side-nav").removeClass("side-nav-search")),"object"==typeof e.groups&&!this.topicDetailActive){this.topicDetail=e.groups;var n="";for(var i in this.topicDetail){this.topicDetailActive=!0;var a=this.topicDetail[i];n+=".topic_"+a.group_id+"{background-color:rgb("+a.color.r+","+a.color.g+","+a.color.b+"); background-color:rgba("+a.color.r+","+a.color.g+","+a.color.b+",0.9);} "}$("head").append('<style type="text/css">'+n+"</style>")}var s=e.list;this.friends=e.friends||{},t.o.append||(this.items=[],this.itemsByID={}),this.items||(this.items=[],this.itemsByID={});var o=[];if(s&&($.each(s,function(e,t){o.push(t),this.items.push(t),this.itemsByID[t.item_id]=t}.bind(this)),o.sort(sortBySortId)),e.placements){var r=e.placements[0];if(r.sort_id<=o.length){var l=r.item,c=r.impression_info,u=c.display.format.placement_style,d=u&&"tower"===u,h=d&&"grid"==this.selectedView&&$(window).width()>=this.BREAK_ITEM_COLUMNS_TWO?0:r.sort_id;l.sponsor={"label":c.display.format.header.right_label,"itemid":l.resolved_id,"feeditemid":r.feed_item_id,"brand_avatar":r.post.profile.avatar_url,"brand_domain":c.display.domain,"brand_name":r.post.profile.name,"brand_profile":r.post.profile.username,"item_url":l.given_url,"redirect_url":l.redirect_url,"item_title":l.title,"impressionid":c.impression_id,"track":c.track,"sort_id":r.sort_id,"is_tower":d},l.image={"height":0,"width":0,"item_id":l.resolved_id,"src":c.display.image.src},o.splice(h,0,l)}}if($(".wrapper_search").removeClass("wrapper_search_loading"),this.searchStateMode&&$.trim(this.searchField.val()).length&&"undefined"!=typeof e.search_meta){var p;p=1==e.search_meta.total_result_count?Templating.callTrans("queue.searchresult",null,null,e.search_meta.total_result_count):Templating.callTrans("queue.searchresults",null,null,e.search_meta.total_result_count),$(".searchtoolbar_queue,.queue_secondarynav_main").find("h2").text(p)}else $(".searchtoolbar_queue").find("h2").text("");this.rebuildList(o,t)},"rebuildList":function(e,t){function n(e,t){var n=e;return 1==t?(e>=queue.BREAK_ITEM_COLUMNS_TWO&&(n=Math.ceil(e/2)-3*queue.ITEM_MARGIN),e>=queue.BREAK_ITEM_COLUMNS_THREE&&(n=Math.ceil(e/3)-Math.ceil(8/3*queue.ITEM_MARGIN)),e>=queue.BREAK_ITEM_COLUMNS_FOUR&&(n=Math.ceil(e/4)-Math.ceil(2.5*queue.ITEM_MARGIN))):2==t&&(e>=queue.BREAK_ITEM_COLUMNS_TWO&&(n=e-2*queue.ITEM_MARGIN),e>=queue.BREAK_ITEM_COLUMNS_THREE&&(n=Math.ceil(e/1.5)-Math.ceil(4*queue.ITEM_MARGIN)),e>=queue.BREAK_ITEM_COLUMNS_FOUR&&(n=Math.ceil(e/2)-Math.ceil(4*queue.ITEM_MARGIN))),n}function i(e){e.preventDefault();var t=$(this).parents(".item"),n=t.find(".shares"),i=n.height();return k?(t.addClass("share_expanded"),t.find(".row_friends").css("height",i)):(t.find(".sharesContainer").css("height",i),t.addClass("share_expanded")),e.preventDefault(),!1}function s(e){e.preventDefault();var t=$(this).parents(".item");return t.removeClass("share_expanded"),k?(t.find(".row_friends").css("height",""),"wide_split"==t.data("tiletype")&&t.find(".thumb").css("top","")):t.find(".sharesContainer").css("height",""),!1}function o(e){if(0!=e.button||!(e.metaKey||e.ctrlKey||e.altKey||e.shiftKey)){var t=$(this).parents(".item");return t.hasClass("share_expanded")?s.call(this,e):i.call(this,e)}}e=e||this.items,t=t||{},t.o.append||(this.getGamifyStatus()?this.queueList.children().not(".item_placeholder_gamify").remove():this.queueList.empty(),this.loadMoreRow=!1,this.c={"tiles":0,"leftInRow":0,"last":{}},this.showBulkEdit(!1));var r,l,c,u,d,h,p,f,m,g,v,_,b,y,S,w,T=this,k="grid"==this.selectedView&&$(window).width()>=this.BREAK_ITEM_COLUMNS_TWO,x="archive"==this.stateSelector.value?!0:!1,C="favorites"==this.stateSelector.value?!0:!1,E=0,M="",I=Math.max(this.items.length-this.pageSize,0),A=[],D=$(window).width();this.tilesPerRow=tilesPerRow(D),this.getGamifyStatus()&&(this.c.leftInRow=this.tilesPerRow-1);for(w in e){var L,q,O=this.THUMB_VARIANT_EMPTY;if(this.c.leftInRow<=0&&(this.c.leftInRow=this.tilesPerRow),l=e[w],l.highlights){var P=!1;for(prop in l.highlights)l.highlights[prop]=custom_decode_entities(l.highlights[prop]),"title"==prop?(l.highlights[prop]=l.highlights[prop].replace(/<em>/gi,"").replace(/<\/em>/gi,""),P=!0):"tags"==prop?(l.highlights[prop]=l.highlights[prop].replace(/<em>/gi,"").replace(/<\/em>/gi,""),P=!0):("url"==prop&&(P=!0),l.highlights[prop]=l.highlights[prop].replace(/<em>/gi,"").replace(/<\/em>/gi,""));P&&l.highlights.full_text&&delete l.highlights.full_text}"undefined"!=typeof l.shares&&(q=[],$.each(l.shares,function(e,t){if("string"==typeof t.time_shared&&(t.time_shared=new Date(1e3*parseInt(t.time_shared,10))),1===parseInt(t.status,10)){q.push(t);var n=t.from_friend_id;if(n){var i=T.friends[n];i&&(t.friend=i,l.friends=l.friends||[],l.friends.push(i))}}})),c=l.resolved_url?l.resolved_url:l.given_url,u="1"==l.is_article||"2"==l.has_video||"2"==l.has_image?"/a/read/"+l.item_id:urlWithPocketRedirect(c);var N="item_link";N+="1"==l.is_article||"2"==l.has_video||"2"==l.has_image?" start_articleview":" start_webview",f="1"==l.is_article?2:"2"==l.has_video?17:"2"==l.has_image?43:13,p=sanitizeText(domainForURL(c))||"",l.title&&(d=l.title),d=l.resolved_title?l.resolved_title:l.given_title?l.given_title:l.resolved_url?l.resolved_url:l.given_url,y=1,m="",g=0,v=0,_=!1,b=!0;var F=l.highlights&&l.highlights.full_text&&"grid"==queue.selectedView;if(k){if("1"==l.is_article||l.sponsor){if(l.image&&l.image.src){var U=boot.GSFStatus.active&&parseInt(w,10)<3;this.c.leftInRow>=2&&!U&&!F&&(!q&&(!this.c.last.wide_image||this.c.tiles-this.c.last.wide_image>=2)&&l.image.width>=n(D,2)?(y=2,m="wide_image",g=n(D,2)):(!this.c.last.wide_split||this.c.tiles-this.c.last.wide_split>=4)&&imageWouldFitIn(l.image,n(D,1),281)&&l.excerpt&&l.excerpt.length>30&&(y=2,m="wide_split",g=n(D,1),_=!0)),m.length||(F?(m="normal_excerpt",_=!0):(m="normal",g=n(D,1),b=!1))}}else"2"!=l.has_video||"1"!=l.has_image||F||(m="normal_video",g=n(D,1),b=!1),"2"!=l.has_image||F||(m="normal_image",g=n(D,1),v=255,b=!1);m.length||(l.excerpt&&l.excerpt.length>25?(m="normal_excerpt",_=!0):(g=!1,m="normal_only_title",O=this.THUMB_VARIANT_TITLEONLY)),g&&(O=this.THUMB_VARIANT_DEFAULT),M='data-tiletype="'+m+'" data-ts="'+y+'"'}else m="normal",g=80,v=100,D>=this.BREAK_ITEM_LIST_WIDE&&(g=100,v=100),D>=this.BREAK_ITEM_LIST_WIDECOLUMNS&&(g=100,v=80),O=l.image&&l.image.src?this.THUMB_VARIANT_LISTDEFAULT:this.THUMB_VARIANT_LISTEMPTY,M="";if(dictJSON.manual.item_id=l.item_id,dictJSON.manual.tile_class=m,dictJSON.manual.item_linkclasses=N,dictJSON.manual.item_openurl=u,l.badge_group_id&&T.topicDetailActive&&"object"==typeof T.topicDetail[l.badge_group_id]){var H=T.topicDetail[l.badge_group_id];"object"==typeof H.name&&"string"==typeof H.name[ServerSettings.language]&&"number"==typeof H.group_id?(dictJSON.manual.item_topic_desc=H.name[ServerSettings.language],dictJSON.manual.item_topic_id=H.group_id):(dictJSON.manual.item_topic_desc=null,dictJSON.manual.item_topic_id=null)}else dictJSON.manual.item_topic_desc=null,dictJSON.manual.item_topic_id=null;if(dictJSON.sponsor={},l.sponsor){dictJSON.sponsor=l.sponsor,dictJSON.sponsor.listclass="spoc_list_item",dictJSON.manual.item_thumbvariant=l.image,d=l.title.substring(0,54);var r=$(l.sponsor.is_tower&&k?Handlebars.templates.queue_sponsoredtowershell(dictJSON):Handlebars.templates.queue_sponsoreditemshell(dictJSON));r.data("contextIndex",parseInt(l.sponsor.sort_id)+1),T.setItemActions(r,l.sponsor.impressionid),T.setSponsorTracking(r,l.sponsor.impressionid)}else var r=$(Handlebars.templates.queue_itemshell(dictJSON));if(k&&(r.data("tiletype",m),r.data("ts",y)),"1"==l.favorite&&r.data("favorite",1),"1"==l.status&&r.data("status",1),r.data("contextIndex",parseInt(w)+I+1),a=r.find(".item_link"),dictJSON.manual.item_topic_desc&&r.find(".title").after(r.find(".topic_detail")),a.click(function(e,t){return function(){$("#nav-bottom-more").parent().removeClass("nav-active"),queue.data.opened(e,t)}}(l.item_id,f)),boot.ExternalUserSettings.sawwebviewoverlay||a.hasClass("start_webview")&&(a.off("click.webview"),a.on("click.webview",function(e){if(!(e.metaKey||e.ctrlKey||e.altKey||e.shiftKey||boot.ExternalUserSettings.sawwebviewoverlay||T.bulkEditMode||boot.GSFStatus.active&&"object"!=typeof boot.GSFStatus.saveditems)){e.preventDefault(),e.stopImmediatePropagation(),boot.ExternalUserSettings.sawwebviewoverlay=!0,boot.saveExternalUserSettings(),boot.GSFStatus.articleview=!0,boot.saveGSFStatus();var t=$(this);t.off("click.webview"),T.showConfirmDialog(Templating.callTrans("queue.webviewwarn_webonlyview"),Templating.callTrans("queue.webviewwarn_webonlydetail"),null,function(){T.gsfCheckLogic(),T.gsfCheckLogicAlt(),window.open(t.attr("href"))}),boot.GSFStatus.savedfirstitem&&!boot.GSFStatus.confirmedfirstsavedetail&&(boot.GSFStatus.confirmedfirstsavedetail=!0,boot.saveGSFStatus(),PocketAnalytics.action("gsf_savedtolistconfirm_article","click","webapp"))}})),r.find(".item_content").click(function(e){if(0==e.button&&(e.metaKey||e.ctrlKey||e.altKey||e.shiftKey)&&(T.bulkEditMode||!$(e.target).hasClass("original_url")&&!$(e.target).parent().hasClass("title"))){if(!T.bulkEditMode&&(e.metaKey||e.ctrlKey||e.altKey))return;{$(e.target)}e.preventDefault();var t=$(this).parents(".item");if(e.metaKey||e.ctrlKey||e.altKey)t.toggleClass("item_bulkeditselected");else{if(t.nextAll(".item_bulkeditselected").length)t.nextUntil(".item_bulkeditselected").addClass("item_bulkeditselected");else if(t.prevAll(".item_bulkeditselected").length)t.prevUntil(".item_bulkeditselected").addClass("item_bulkeditselected");else{var n=$(".item").not(".removed").first();n.addClass("item_bulkeditselected"),n.attr("id")!=t.attr("id")&&n.nextUntil(t).addClass("item_bulkeditselected")}t.addClass("item_bulkeditselected")}T.checkBulkEditLogic()}else{if(T.bulkEditMode){e.preventDefault(),e.stopImmediatePropagation();var t=$(this).parents(".item");return t.toggleClass("item_bulkeditselected"),void T.checkBulkEditLogic()}var i=$(e.target);if(0!=e.button||i.parents(".buttons").length||i.parents(".tags").length||i.hasClass("tags")||i.parent().hasClass("title")||i.closest(".item").hasClass("spoc")||i.closest(".item").hasClass("tower_spoc"))return;if(0==e.button&&i.hasClass("original_url"))return e.preventDefault(),e.stopImmediatePropagation(),void window.open(i.attr("href"));if(i.hasClass("favicon"))return window.open(i.data("originalurl")),e.preventDefault(),void e.stopImmediatePropagation();if(e.preventDefault(),e.stopImmediatePropagation(),$(this).find(".start_webview").length&&!e.metaKey&&!e.ctrlKey&&!e.altKey&&!e.shiftKey&&boot.ExternalUserSettings.sawwebviewoverlay&&!T.bulkEditMode)return void window.open($(this).find(".item_link").attr("href"));var a=$(this).find(".item_link").attr("href");$(".popover-new").removeClass("popover-active");var t=$(this).parents(".item");PocketAnalytics.setOpenContext(T.stateSelector.value,t.attr("id").replace(/^i/,""),t.data("contextIndex")),boot.loadStateFromUrl(a)}}),Modernizr.touch&&"function"==typeof Hammer){var j=new Hammer.Manager(r.find(".item_content")[0]);j.add(new Hammer.Pan({"direction":Hammer.DIRECTION_HORIZONTAL,"threshold":150})),j.on("pan",function(e){if(e.isFinal){var t=$(e.target).parents(".item");e.deltaX>0?t.hasClass("item_controls")?t.hasClass("item_controls_left")||t.removeClass("item_controls"):t.addClass("item_controls item_controls_left"):t.hasClass("item_controls")?t.hasClass("item_controls_left")&&t.removeClass("item_controls item_controls_left"):t.addClass("item_controls")}})}if(inner=r.find(".item_content"),caret=$([]),l.friends&&l.friends.length){var G=l.friends[0].name;l.friends.length>1&&(dictJSON.manual.item_friendslist+=" and "+(l.friends.length-1)+" other"+(l.friends.length>2?"s":"")),k||(dictJSON.manual.item_friendslist=Templating.callTrans("queue.sharedby")+" "+G),dictJSON.manual.item_friendsbgimg=getImageCacheUrl(l.friends[0].avatar_url,"w90-h90-nc"),dictJSON.manual.item_friendslist=G,h=$(Handlebars.templates.queue_itemfriendsdetail(dictJSON)),r.addClass("shared_to")}else h=$([]);r.find(".title").text(tagEntities(d)),d=r.find(".title"),excerpt=_&&l.excerpt?$('<p class="excerpt">'+tagEntities(l.excerpt)+"</p>"):null,thumb=r.find(".thumb"),thumb.data("variant",O);var R;if(dictJSON.manual.item_targeturl=urlWithPocketRedirect(c),dictJSON.manual.item_domain=p,dictJSON.manual.item_tags=listTags(l.tags,!1,!0),l.highlights&&(l.highlights.title&&(d=l.highlights.title,r.find(".title").addClass("title-searchmatch").html(d)),l.highlights.full_text&&excerpt&&excerpt.html(sanitizeText(l.highlights.full_text)),l.highlights.tags&&l.tags&&(dictJSON.manual.item_tags=listTags(l.tags,!1,!0,l.highlights.tags))),l.sponsor||(R=$(Handlebars.templates.queue_itemsubdetail_list(dictJSON)),k?(L=r.find(".favicon"),L.attr("data-originalurl",urlWithPocketRedirect(c)),inner.prepend(h),inner.find(".title").after(excerpt),inner.append(R)):(l.friends&&l.friends.length&&$("<li></li>").append(h).insertBefore(R.children().get(0)),a.after(excerpt),inner.append(R))),l.highlights&&l.highlights.url&&p){var z="",Y=/\/\/([^(<|\/)]*<span class="search-match">[^<|\/]*<\/span>[^<|\/]*)/.exec(l.highlights.url);z=Y?Y[0].replace(/(\/\/)?(www\.)?/,""):'<span class="search-match">'+p+"</span>",inner.find(".original_url").html(z)}var B=window.devicePixelRatio||1,W=B>1,J=l.image?getImageCacheUrl(l.image.src,"w"+Math.round(g*B)+(Math.round(v*B)?"-h"+Math.round(v*B):"")+(b?"":"-nc"),"t",W):void 0;if(O!==this.THUMB_VARIANT_EMPTY)if(O===this.THUMB_VARIANT_LISTEMPTY){var V="/a/i/tile_fallback@1x.jpg";thumb.css("background-image","url('"+V+"')"),thumb.css("background-repeat","repeat"),thumb.css("background-size","auto"),thumb.addClass("lazy-active"),B>1&&(V=V.replace("1x.jpg","2x.jpg").replace("1x.png","2x.png"),thumb.css("background-size","844px 591px"))}else if(thumb.addClass("lazy-load"),thumb.attr("data-lazy-type","thumbnail"),thumb.attr("data-lazy-key",l.item_id),O===this.THUMB_VARIANT_TITLEONLY){var K=getImageCacheUrl("http://"+p+"/apple-touch-icon.png","w80-h80-nc");thumb.attr("data-thumburl",K),thumb.attr("data-thumbvariant",O),thumb.attr("data-shouldcache","0"==l.status)}else O===this.THUMB_VARIANT_DEFAULT?g&&(thumb.attr("data-thumburl",J),thumb.attr("data-thumbvariant",O),thumb.attr("data-tileclass",m),thumb.attr("data-shouldcache","0"==l.status)):O===this.THUMB_VARIANT_LISTDEFAULT&&(thumb.attr("data-thumburl",J),thumb.attr("data-thumbvariant",O),thumb.attr("data-hasplaybutton","2"==l.has_video),thumb.attr("data-shouldcache","0"==l.status));if(L&&!l.sponsor&&(L.addClass("lazy-load"),L.attr("data-lazy-type","favicon"),L.attr("data-lazy-key",l.item_id),L.attr("data-favicon-url",faviconForUrl(p))),"undefined"!=typeof q){var X=$("<div class='shares'></div>");if(q.sort(function(e,t){var n=e.time_shared,i=t.time_shared;return n instanceof Date?n=n.getTime():"string"==typeof n&&(n=parseInt(n,10)),i instanceof Date?i=i.getTime():"string"==typeof i&&(i=parseInt(i,10)),i-n}),k||1!=q.length||void 0!=q[0].comment&&0!=q[0].comment.length||void 0!=q[0].quote&&0!=q[0].quote.length)for(var Q=0;Q<q.length;Q++){var Z=attributionForShare(q[Q],l,!k,!0);X.append(Z)}else{var ee=$("<div class='notification'><div><div class='attribution'><div class='one_liner'></div></div></div></div>"),te=q[0],ne=te.fromFriend||this.friends[te.from_friend_id],ie=ne&&ne.name&&ne.name.length?ne.name:"A friend";ee.find(".one_liner").text(""+ie+" "+Templating.callTrans("queue.sharedthiswithyou")+" "+relativeDateString(te.time_shared,!0)+"."),X.append(ee)}if(k)h.append(X);else{var ae=$("<div class='sharesContainer'></div>");ae.append(X),r.append(ae)}}A.push(r),S={},"1"==l.favorite&&(S.favorite=!0),(x||C||T.searchStateMode)&&1==l.status&&(S.archived=!0),(S.favorite||S.archived||Modernizr.touch)&&!l.sponsor&&this.addButtonsToRow(!1,r,S),r.find(".tag_container").on("click",".tag",function(e){T.searchStateMode&&T.showSearchState(!1)}),E++,this.c.tiles+=y,this.c.leftInRow-=y,this.c.last[m]=this.c.tiles}if(this.loadMoreRow||(this.loadMoreRow=$('<li class="info-loading"></li>'),this.loadMoreRow.click(function(){this.reloadList({"append":!0})}.bind(this))),t.data&&(E<t.data.count?(this.remaining=!1,this.loadMoreRow.hide()):(this.remaining=!0,this.loadMoreRow.show())),t.o.postSync&&(this.remaining=!0,this.loadMoreRow.hide()),$.each(A,function(e,t){t.hasClass("item_type_spoc")||t.hasClass("item_type_tower_spoc")||t.mouseover(function(){T.addButtonsToRow(this)}),t.find("a.add_tag").click(function(){T.editItemTags(this)}),t.find("a.edit").click(function(){T.editItemTags(this)}),k?t.find(".row_friends").mouseenter(i).mouseleave(s).unbind("click").click(function(e){0==e.button&&(e.metaKey||e.ctrlKey||e.altKey||e.shiftKey)||(e.preventDefault(),$(this).siblings(".item_link").trigger("click"))}):t.find(".row_friends").unbind("click").click(o)}),t.o.append&&!this.listIsEmpty()||t.o.postSync||"queue"!=this.state.section&&"home"!=this.state.section||this.searchField.val().length||tagSidebar.selectedTag||this.checkForMessages(),this.queueList.append(A),this.queueList.append(this.loadMoreRow),$(document.body).hasClass("editing")&&this.applyEditToRows(),this.showEmpty(0==E&&(!t.o.append||this.listIsEmpty())),t.o.append&&!this.listIsEmpty()||t.o.postSync||this.resetHighlight(),this.listIsDoneLoading(),"undefined"==typeof boot.ExternalUserSettings.haspassword&&"object"==typeof PromptPassword)return void this.checkUserValidPassword();if("undefined"==typeof boot.ExternalUserSettings.fontbundle&&(boot.ExternalUserSettings.fontbundle="en-US"==ServerSettings.language||"fr-FR"==ServerSettings.language||"fr-CA"==ServerSettings.language||"de-DE"==ServerSettings.language||"it-IT"==ServerSettings.language||"es-ES"==ServerSettings.language||"es-LA"==ServerSettings.language||"pt-PT"==ServerSettings.language||"pt-BR"==ServerSettings.language?"standard":"full",boot.saveExternalUserSettings()),this.gamifyCheckLogic(),this.gsfInitialize(),!ServerSettings.fromFFViewList||boot.GSFStatus.active||boot.ExternalUserSettings.readinglistnotice||($(".isolate_screen_buttontargetsecond").length||$("body").append('<div class="isolate_screen_buttontargetsecond"></div>'),createGSFTooltip({"anchor":$(".isolate_screen_buttontargetsecond"),"body":Handlebars.templates.gsf_comingback(dictJSON),"position":["bottomleft"],"progress":{"size":boot.GSFStatus.gsfProgressMax,"selected":5},"confirmdetail":{"button":!0,"text":Templating.callTrans("gsf.gotit"),"callback":function(){closeGSFTooltip(),PocketAnalytics.action("gsf_readinglistnext_dismiss","click","webapp")}},"isolateall":!0,"fixed":!0}),$(".gsf-tooltip-progress").css("visibility","hidden"),PocketAnalytics.action("gsf_readinglistnext","view","webapp"),currentGSFTooltip.object.addClass("gsf-tooltip-fluid").css("left",parseInt(currentGSFTooltip.object.css("left"))-100+"px"),boot.ExternalUserSettings.readinglistnotice=!0,boot.saveExternalUserSettings()),ServerSettings.fromTwitterAuthenticate&&!boot.ExternalUserSettings.authtwitternotice&&setTimeout(function(){boot.showErrorNotification(Templating.callTrans("sharing.authtwitter")),boot.ExternalUserSettings.authtwitternotice=!0,boot.saveExternalUserSettings()},3e3),1==ServerSettings.premUpsell&&Modernizr.localstorage){var se=localStorage.getItem("lastbanner"),oe=boot.ExternalUserSettings.dismissedpremupsell;if(("queue"==this.state.section||"home"==this.state.section)&&!this.searchField.val().length&&!tagSidebar.selectedTag&&0==ServerSettings.PremiumStatus&&("undefined"==typeof oe||parseInt(oe)<2)&&(boot.GSFStatus.active||1==Math.floor(7*Math.random()+1)&&(null==se||Date.now()-parseInt(se)>2592e5)))if(localStorage.setItem("lastbanner",Date.now()),boot.GSFStatus.active){if($(".gsf_device_premupsell").length)return;$("#page_queue").outerHeight()<$(window).height()-5&&$("#page_queue").css("minHeight",$(window).height()-40+"px"),$("#page_queue").append(Handlebars.templates.queue_gsfpremreminder(dictJSON)),$(".gsf_device_reminder").css("cursor","pointer").click(function(e){e.preventDefault(),PocketAnalytics.action("click_premiumbanner","interact","webapp"),window.open("https://getpocket.com/premium/?prt=ifT0Oyt6myb0Da&s=banner&t=gsfn"),$(".gsf_device_reminder_container").remove()}),$(".gsf_device_reminder_container").addClass("gsf_device_premupsell"),$(".gsf_device_reminder .close").click(function(e){e.preventDefault(),e.stopImmediatePropagation(),boot.ExternalUserSettings.dismissedpremupsell="undefined"==typeof oe?1:parseInt(boot.ExternalUserSettings.dismissedpremupsell)+1,boot.saveExternalUserSettings(),$(".gsf_device_reminder_container").remove()})}else{if($(".gsf_device_premupsell").length)return;$("body").addClass("page-notificationpersistent");var ee=$(Handlebars.templates.notification_persistent(dictJSON));ee.find(".content").html("<p>"+Templating.callTrans("gsf.enjoypremiummonthalt",'<a href="https://getpocket.com/premium/?prt=ifT0Oyt6myb0Da&s=banner&t=gsfe" target="_blank">',"</a>")+"</p>"),$("#container").prepend(ee),ee.find("a").click(function(e){PocketAnalytics.action("click_premiumbanner","interact","webapp"),$(this).parents("notifications-persistent").remove(),$("body").removeClass("page-notificationpersistent")}),ee.find(".close").click(function(e){e.preventDefault(),e.stopImmediatePropagation(),$(this).parents("notifications-persistent").remove(),boot.ExternalUserSettings.dismissedpremupsell="undefined"==typeof oe?1:parseInt(boot.ExternalUserSettings.dismissedpremupsell)+1,boot.saveExternalUserSettings(),$("body").removeClass("page-notificationpersistent")})}}else boot.ExternalUserSettings.dismisseddevicereminder||PocketUserApps.ready&&PocketUserApps.installedMobile()||"queue"!=this.state.section&&"home"!=this.state.section||this.searchField.val().length||tagSidebar.selectedTag||this.getGamifyStatus()?$(".gsf_device_reminder_container").length&&$(".gsf_device_reminder_container").remove():($("#page_queue").outerHeight()<$(window).height()-5&&$("#page_queue").css("minHeight",$(window).height()-40+"px"),dictJSON.manual.nativeappsupport=ServerSettings.nativeAppSupport,$("#page_queue").append(Handlebars.templates.queue_gsfdevicereminder(dictJSON)),$(".gsf_device_reminder .close,.gsf_device_reminder_native_link").click(function(e){boot.ExternalUserSettings.dismisseddevicereminder=!0,boot.saveExternalUserSettings(),$(".gsf_device_reminder_container").remove()}));t.o&&t.o.append&&(setTimeout(function(){$(".removed").remove()},1e3),$(document.body).hasClass("editing")&&this.updateCheckAllBox()),setTimeout(function(){if("grid"==this.selectedView&&this.adjustTiles(),"list"==this.selectedView&&this.checkTilesTagOverflow(),t.o.postSync&&boot.pages.queue.isOpen&&this.preSyncTopItem){var e=$("#"+this.preSyncTopItem);if(e.length){var n=e.position().top;if(n){var i=$("body").scrollTop()?$("body").scrollTop():$("html").scrollTop();$("body,html").scrollTop(n-this.preSyncTopPosition+i)}}}this.processLazyLoadScroll(),"object"!=typeof boot.ExternalUserSettings||boot.ExternalUserSettings.recommendedmodeupsell||boot.GSFStatus.active||this.getGamifyStatus()||!$(".queue_togglesection_recommended").is(":visible")||(boot.ExternalUserSettings.recommendedmodeupsell=!0,boot.saveExternalUserSettings(),T.showGamifyStyleTooltip({"anchor":$(".queue_togglesection_recommended"),"directions":["bottom","bottomright"],"offset":13,"wording":Templating.callTrans("recommended.checkout"),"fixed":!0}),PocketAnalytics.action("recommendtooltip_show","view","webapp")),"object"==typeof boot.ExternalUserSettings&&"boolean"!=typeof boot.ExternalUserSettings.existingprerecommend&&(boot.ExternalUserSettings.existingprerecommend=!boot.GSFStatus.active&&!queue.getGamifyStatus(),boot.saveExternalUserSettings())}.bind(this),50)},"sync":function(){if(this.syncedSince){var e=this.stateSelector.value,t=null;"favorites"==e&&(e=null,t=1),this.data.getList({"o":{},"data":{"since":this.syncedSince,"appsInfo":"summary"},"delegate":this,"doneSelector":"syncCallback",
"errorSelector":"syncError"}),this.recommendedMode&&this.getRecommendedItems(!1,!0)}},"syncCallback":function(e,t){function n(e){for(var t=-1,n=0;n<queue.items.length;n++)queue.items[n].item_id==e&&(t=n);t>-1&&queue.items.splice(t,1)}this.syncedSincePrev=this.syncedSince,this.syncedSince=e.since;var i=e.list;"object"==typeof PocketUserApps&&(PocketUserApps.appTypes=e.app_types,PocketUserApps.ready=!0,!PocketUserApps.installedMobile()&&(ServerSettings.mobileUpsell||boot.ExternalUserSettings.showmobileupsell)&&(boot.ExternalUserSettings.dismisseddevicereminder||"queue"!==this.state.section&&"home"==this.state.section)&&(boot.ExternalUserSettings.showmobileupsell||(boot.ExternalUserSettings.showmobileupsell=!0,boot.saveExternalUserSettings()),$(".nav-mobileupsell").removeClass("nav-mobileupsell-inactive"))),"object"==typeof e.recent_searches&&(this.recentSearches=e.recent_searches);var a=[],s=[],o=[],r=0,l=0,c=0,u=0;if(i){if($.each(i,function(e,t){a.push(t);var n=this.itemsByID[t.item_id],i=parseInt(t.status,10),d=parseInt(t.favorite,10),h="recommended"==this.stateSelector.value&&this.syncedSince?this.prevRecommendSection:this.stateSelector.value,p=!1;if(!this.searchStateMode&&"queue"==h&&0==i||!this.searchStateMode&&"favorites"==h&&2!=i&&d||!this.searchStateMode&&"archive"==h&&1==i||this.searchStateMode&&"allitems"==this.searchSectionFilter||this.searchStateMode&&"mylist"==this.searchSectionFilter&&0==i||this.searchStateMode&&"archive"==this.searchSectionFilter&&1==i||this.searchStateMode&&$(".search-chip-favorite").length&&2!=i&&d){var f=this.searchField.val().trim();(!f.length||t.resolved_title.toLowerCase().indexOf(f)>-1||t.given_title.toLowerCase().indexOf(f)>-1||t.resolved_url.toLowerCase().indexOf(f)>-1||t.given_url.toLowerCase().toLowerCase().indexOf(f)>-1)&&(tagSidebar.selectedTag&&t.tags?JSON.stringify(t.tags).indexOf(tagSidebar.selectedTag)>-1&&(p=!0):tagSidebar.selectedTag||(p=!0))}if("object"!=typeof n||p){if("object"==typeof n){this.itemsByID[t.item_id]=t;var m=this.inited?$("#i"+t.item_id):!1,g=m.find(".action_favorite");d!=g.hasClass("selected")&&(l++,d?(g.addClass("selected"),m.addClass("item_state_favorited")):(g.removeClass("selected"),m.removeClass("item_state_favorited")))}else if("object"!=typeof n&&p){if(t.time_added<this.syncedSincePrev)return!0;s.push(t),"favorite"==h?l++:1==i?c++:2==i?u++:r++}}else o.push(t),"favorite"==h?l++:1==i?c++:2==i?u++:r++}.bind(this)),a.sort(sortBySortId),s.length||o.length){$.each(s,function(e,t){(this.sortingByNewestToOldest||!this.remaining)&&(queue.items.splice(0,0,t),queue.itemsByID[t.item_id]=t,queue.offset--)}),$.each(o,function(e,t){var i=queue.itemsByID[t.item_id];"object"==typeof i&&(n(t.item_id),delete queue.itemsByID[t.item_id],queue.offset++)});var d=$(".item").not(".removed");this.preSyncTopItem=d.length?d.first().attr("id"):null,this.preSyncTopPosition=d.length?d.first().position().top:0,this.sortingByNewestToOldest?this.rebuildList(queue.items.sort(sortByTimeAddedNewest),{"o":{"append":!1,"postSync":!0}}):this.rebuildList(queue.items.sort(sortByTimeAddedOldest),{"o":{"append":!1,"postSync":!0}})}if(r||l||c||u){var h="";if(!r||l||c||u)if(!l||r||c||u)if(!c||r||l||u)if(!u||r||c||l){var p=u+r+c+l;dictJSON.manual.sync_count=p,dictJSON.manual.sync_singular=1==p,h=Handlebars.templates.notification_sync_updated(dictJSON)}else dictJSON.manual.sync_count=u,dictJSON.manual.sync_singular=1==u,h=Handlebars.templates.notification_sync_deleted(dictJSON);else dictJSON.manual.sync_count=c,dictJSON.manual.sync_singular=1==c,h=Handlebars.templates.notification_sync_archived(dictJSON);else dictJSON.manual.sync_count=l,dictJSON.manual.sync_singular=1==l,h=Handlebars.templates.notification_sync_updated(dictJSON);else dictJSON.manual.sync_count=r,dictJSON.manual.sync_singular=1==r,h=Handlebars.templates.notification_sync_added(dictJSON);boot.showNotification(h,!1,0,!0),setTimeout(function(){boot.hideNotification()},3e3)}}},"syncError":function(){boot.showErrorNotification(Templating.callTrans("notification.unexpectederror"))},"checkSortingChange":function(){var e=this;if("object"==typeof boot.ExternalUserSettings&&"object"==typeof PocketUserApps&&"number"==typeof PocketUserApps.userId){{boot.ExternalUserSettings}boot.data.get("getUserMeta",{"data":{"userId":PocketUserApps.userId,"property":boot.USERS_META_WEB_DISPLAY_SETTINGS},"delegate":e,"doneSelector":"checkSortingChangeCallback"},!0)}},"checkSortingChangeCallback":function(e){"object"==typeof e&&"string"==typeof e.value&&(pollsettings=JSON.parse(e.value.replace(/\\\"/g,'"')),pollsettings.sortlist!=boot.ExternalUserSettings.sortlist&&(boot.ExternalUserSettings.sortlist=pollsettings.sortlist,this.reloadList(),sharedToast.show(Templating.callTrans("oldest"!=boot.ExternalUserSettings.sortlist?"queue.sortingbynewest":"queue.sortingbyoldest"))))},"checkLanguageChange":function(){var e=this;if("object"==typeof boot.ExternalUserSettings&&"object"==typeof PocketUserApps&&"number"==typeof PocketUserApps.userId){{boot.ExternalUserSettings}boot.data.get("getUserMeta",{"data":{"userId":PocketUserApps.userId,"property":boot.USERS_META_WEB_DISPLAY_SETTINGS},"delegate":e,"doneSelector":"checkLanguageChangeCallback"},!0)}},"checkLanguageChangeCallback":function(e){"object"==typeof e&&"string"==typeof e.value&&(pollsettings=JSON.parse(e.value.replace(/\\\"/g,'"')),pollsettings.forcelanguage!=boot.ExternalUserSettings.forcelanguage&&(boot.ExternalUserSettings.forcelanguage=pollsettings.forcelanguage,boot.showErrorNotification("",!0),$(".notifications-error .message").html(Templating.callTrans("notification.langchange",['<a class="link-force-reload" href="#">'],["</a>"])),$(".link-force-reload").css("color","#FBB64A").click(function(){document.location.href="/web"})))},"checkFontBundleChange":function(){var e=this;if("object"==typeof boot.ExternalUserSettings&&"object"==typeof PocketUserApps&&"number"==typeof PocketUserApps.userId&&("standard"==boot.ExternalUserSettings.fontbundle||"full"==boot.ExternalUserSettings.fontbundle)){{boot.ExternalUserSettings}boot.data.get("getUserMeta",{"data":{"userId":PocketUserApps.userId,"property":boot.USERS_META_WEB_DISPLAY_SETTINGS},"delegate":e,"doneSelector":"checkFontBundleChangeCallback"},!0)}},"checkFontBundleChangeCallback":function(e){"object"==typeof e&&"string"==typeof e.value&&(pollsettings=JSON.parse(e.value.replace(/\\\"/g,'"')),"standard"!=boot.ExternalUserSettings.fontbundle&&"full"!=boot.ExternalUserSettings.fontbundle||pollsettings.fontbundle==boot.ExternalUserSettings.fontbundle||(boot.ExternalUserSettings.fontbundle=pollsettings.fontbundle,"full"==boot.ExternalUserSettings.fontbundle&&boot.expandToFullFontBundle()))},"receivedNotifications":function(e,t){e=e||[];for(var n=0;n<e.length;n++){var i=e[n];i.time_shared&&"string"==typeof i.time_shared&&(i.time_shared=new Date(1e3*parseInt(i.time_shared,10)))}this.notifications=e,this.unconfirmedNotifications=t;var a=0;for(var s in this.unconfirmedNotifications||{})++a;var o=e.length+a;this.setInboxNotification(o)},"addURL":function(e,t,n){var i=this;if(queue.lastSaveUrl=e,e=(e+"").toString(),e=e.replace(/!/g,"%21").replace(/'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/\*/g,"%2A").replace(/%20/g,"+"),e.indexOf("\\")>-1)boot.showErrorNotification(Templating.callTrans("notification.invalidaddurl")),PocketAnalytics.actionWithExtraString("web_save_fail","interact","webapp",queue.lastSaveUrl);else{var a={"action":"add","url":e};"object"==typeof n&&(a.context=n),queue.data.itemAction({"data":a,"o":{"callback":t},"delegate":i,"doneSelector":"addURLCallback","errorSelector":"addURLError"})}},"addURLCallback":function(e,t){"object"==typeof e&&"number"==typeof e.status&&e.status?(this.justAddedURL=!0,"object"==typeof t&&"object"==typeof t.o&&"function"==typeof t.o.callback&&t.o.callback(),sharedToast.show(Templating.callTrans("notification.addedtolist")),PocketAnalytics.actionWithExtraString("web_save_success","interact","webapp",queue.lastSaveUrl),this.sync()):(boot.showErrorNotification(Templating.callTrans("notification.invalidaddurl")),PocketAnalytics.actionWithExtraString("web_save_fail","interact","webapp",queue.lastSaveUrl))},"addURLError":function(e){PocketAnalytics.actionWithExtraString("web_save_fail","interact","webapp",queue.lastSaveUrl),boot.showErrorNotification(e.message)},"adjustTiles":function(){var e="grid"==this.selectedView&&$(window).width()>=this.BREAK_ITEM_COLUMNS_TWO;if(e){var t=this,n=this.queueList.children(".item:not(.adjusted)");n.length&&(queue.recommendedMode||boot.pages.queue.isOpen)&&$(".queue_list_main").addClass("queue_inactivetempmeasure");var i={},a={},s={};$.each(n,function(e,n){var o=$(n),r=o.attr("id"),l=o.data("tiletype"),c=o.find(".title").outerHeight(),u=o.find(".excerpt");i[r]=t.thumbnailHeightforTile(o,l,c),a[r]=t.excerptHeightForTile(u,o,l,c),s[r]=t.offsetForTopicBadge(o,l,c)}),$.each(n,function(e,n){var o=$(n);o.addClass("adjusted");var r=o.attr("id"),l=o.data("tiletype");t.executeThumbnailHeightForTile(o,i[r]),t.executeExcerptHeight(o,a[r],l),t.executeTopicBadgeOffset(o,s[r],l)}),n.length&&(queue.recommendedMode||boot.pages.queue.isOpen)&&$(".queue_list_main").removeClass("queue_inactivetempmeasure")}},"adjustTile":function(e){e.addClass("adjusted");var t=e.data("tiletype");if(t){var n=e.find(".title").height(),i=e.find(".excerpt"),a=(i.size(),this.thumbnailHeightforTile(e,t,n)),s=this.excerptHeightForTile(i,e,t,n);this.executeThumbnailHeightForTile(e,a),this.executeExcerptHeight(e,s,t)}},"thumbnailHeightforTile":function(e,t,n){var i;if("wide_split"!=t&&"normal_image"!=t){var a=e.find(".row_friends");i=e.height()-n-33-a.height()}return i},"executeThumbnailHeightForTile":function(e,t){"undefined"!=typeof t&&e.find(".thumb").css("height",t)},"excerptHeightForTile":function(e,t,n,i){var a,s=e.size();if(e&&1==s){var o=t.find(".row_friends");a=t.height()-i-33-1*e.css("padding-top").replace("px","")-1*e.css("padding-bottom").replace("px",""),t.hasClass("shared_to")&&(a-=o.height())}return a},"executeExcerptHeight":function(e,t,n){if("undefined"!=typeof t){var i=e.find(".excerpt");"normal_excerpt"==n?snapToLineAndMaxHeight(i,18,t):"wide_split"==n&&snapToLineAndMaxHeight(i,18,t)}},"offsetForTopicBadge":function(e,t,n){var i;return e.hasClass("item_withtopic")&&(i=n,e.hasClass("item_type_normal_excerpt")&&(i+=12),e.hasClass("shared_to")&&(i+=35)),i},"executeTopicBadgeOffset":function(e,t,n){"undefined"!=typeof t&&"wide_split"!=n&&"normal_image"!=n&&e.find(".topic_detail").css("top",t+"px")},"reflowTiles":function(){if(this.c){var e=tilesPerRow();this.c.tiles=0,this.c.leftInRow=e,this.c.last=[];for(var t,n,i=this.queueList.children(".item:not(.marked)"),a=0;a<i.length;a++)t=$(i[a]),t.removeClass("adjusted"),n=1*t.data("ts"),n>this.c.leftInRow&&(t.removeClass("item_type_"+t.data("tiletype")),t.addClass("item_type_normal"),t.data("tiletype","normal"),t.data("ts",1),n=1),this.c.tiles+=n,this.c.leftInRow-=n,this.c.last[t.data("tiletype")]=this.c.tiles,this.c.leftInRow<=0&&(this.c.leftInRow=e);this.adjustTiles()}},"checkTilesTagOverflow":function(){var e=this,t=this.queueList.children(".item:not(.adjusted)");$.each(t,function(t,n){e.checkTileTagOverflow(n)})},"checkTileTagOverflow":function(e,t){var n=$(e),i=n.find(".tag_container"),a=n.hasClass("item_withoverflowtags"),s=t?t:500;if(i.width()>=s){n.addClass("item_withoverflowtags");for(var o=i.find(".tag"),r='<div class="tag-overflow-container clearfix">',l=0,c=o.length-1;c>0;c--)o.eq(c).position().left<=0&&c>0&&(l=c);for(var c=l;c<o.length;c++)o.eq(c).addClass("tag-overflow"),r+=o[c].outerHTML;r+="</div>";var u=n.find(".tag-overflow-link");u.length&&u.remove();var d=$('<a class="tag-overflow-link" href="#">'+Templating.callTrans("queue.moretags").replace(/{(.*)}/i,o.length-l)+"</a>");d.click(function(e){e.preventDefault();var t=$(this).data("content"),n=new PopOver("tagMenu",t,$("#container"),{"positions":["bottom","top"],"hideOnClickInPopover":!1,"xOffset":0,"disableHideOnScroll":!0});n.show($(this))}),d.data("content",r),i.after(d)}else a&&(n.removeClass("item_withoverflowtags"),n.find(".tag-overflow-link").remove())},"listIsDoneLoading":function(){this.queueList.parent().removeClass("loading"),this.loading=!1,this.loadingRow&&this.loadingRow.hide()},"reloadListError":function(){this.showEmpty(!0,{"img":!1,"title":Templating.callTrans("notification.uhoh"),"message":Templating.callTrans("notification.unexpectederror")}),this.listIsDoneLoading(!1)},"listIsEmpty":function(){var e=this.queueList.children(".item").size(),t=this.queueList.children(".item.removed").size();return 0>=e-t},"checkIfRunningLow":function(){this.listIsEmpty()&&(this.remaining?this.reloadList({"append":!0}):this.showEmpty(!0))},"startLazyLoadImages":function(){this.processLazyLoadScroll(),$(document).smartscroll(function(){this.processLazyLoadScroll()}.bind(this))},"processLazyLoadScroll":function(){this.imagesLoading=this.imagesLoading||{};var e=$(".lazy-load");$.each(e,function(e,t){var n=$(t),i=n.attr("data-lazy-type"),a=i+":"+n.attr("data-lazy-key"),s="undefined"!=typeof this.imagesLoading[a];if(!s&&elementCloseInViewport(t)){this.imagesLoading[a]=!0;var o=function(){n.removeClass("lazy-load").addClass("lazy-active"),delete this.imagesLoading[a]}.bind(this);"thumbnail"===i?this.loadThumbnailImageLazy(n,o):"favicon"===i&&this.loadFaviconLazy(n,o)}}.bind(this))},"loadFaviconLazy":function(e,t){e.attr("src",e.attr("data-favicon-url")),t()},"loadThumbnailImageLazy":function(e,t){var n,i,a=e.attr("data-thumburl"),s=parseInt(e.data("variant"),10),o=("true"===e.attr("data-shouldcache"),window.devicePixelRatio||1);if(s===this.THUMB_VARIANT_TITLEONLY){n="url(/a/i/tile_graphic_site@1x.png)",i="url(/a/i/tile_fallback@1x.jpg)";var r="";r+="url('"+a+"'),",r+=n+","+i,o>1&&(r=r.replace("1x.jpg","2x.jpg").replace("1x.png","2x.png")),e.addClass("thumb-wimage"),e.css("background-image",r),t()}else if(s===this.THUMB_VARIANT_DEFAULT){var l=e.attr("data-tileclass"),r="",c="url(/a/i/play@1x.png),",u="normal_video"==l?c:"",d="url('"+a+"')";r+=u+d,o>1&&(r=r.replace("1x.png","2x.png")),e.css("background-image",r),t()}else if(s===this.THUMB_VARIANT_LISTDEFAULT){i="url(/a/i/tile_fallback@1x.jpg)",o>1&&(i=i.replace("1x.jpg","2x.jpg").replace("1x.png","2x.png"));var h="true"===e.attr("data-hasplaybutton"),c="url(/a/i/play@1x.png),",u=h?c:"",d="url('"+a+"')",r=u+d;o>1&&(r=r.replace("1x.png","2x.png")),e.css("background-image",r);var p=(h?"50px 50px, ":"")+"cover, auto";o>1&&(p=(h?"50px 50px, ":"")+"cover, 844px 591px");var f=(h?"center, ":"")+"center, center";e.css("background-size",p),e.css("background-position",f),t()}else if(s===this.THUMB_VARIANT_LISTEMPTY){var m="/a/i/tile_fallback@1x.jpg";o>1&&(m=m.replace("1x.jpg","2x.jpg").replace("1x.png","2x.png")),e.css("background-image","url('"+m+"')"),e.css("background-repeat","repeat"),e.css("background-size","auto"),t()}else s===this.THUMB_VARIANT_RECOMMENDED&&(r="url('"+a+"')",o>1&&(r=r.replace("1x.png","2x.png")),e.css("background-image",r),t())},"getTaggedWithMessage":function(e){return e?e==TagSidebar.UNTAGGED?" "+Templating.callTrans("tag.areuntagged"):" "+Templating.callTrans("tag.havebeentaggedwith")+" <em>"+sanitizeText(e)+"</em>":""},"showEmpty":function(e,t){if(e){if(this.getGamifyStatus())return void $("#queue").toggleClass("queue_empty",e);var n,i,a,s=this.contentTypeControl.key();if(s=Templating.callTrans(s?"search."+s+"s":"search.items"),t)a=t.img,n=t.title,i=t.message;else{var o=this.getCurrentLocation().state;this.searchField.val().length?(a="search",n=Templating.callTrans("search.noresultsfound"),i="allitems"==this.searchSectionFilter?Templating.callTrans("search.nomatchesforsearch"):tagSidebar.selectedTag?Templating.callTrans("search.matchedyoursearchforwtags").replace("xxxxx",s).replace("yyyyy",Templating.callTrans("queue.search_"+this.searchSectionFilter)).replace("zzzzz",this.getTaggedWithMessage(tagSidebar.selectedTag)).replace("aaaaa",sanitizeText(this.searchField.val().trim())):Templating.callTrans("search.matchedyoursearchfor").replace("xxxxx",s).replace("yyyyy",Templating.callTrans("queue.search_"+this.searchSectionFilter)).replace("aaaaa",sanitizeText(this.searchField.val().trim()))):tagSidebar.selectedTag?(a="tag",n=Templating.callTrans(tagSidebar.selectedTag==TagSidebar.UNTAGGED?"tag.nountaggeditems":"tag.nottagged"),i=Templating.callTrans("search.nobeentagged").replace("xxxxx",s).replace("yyyyy",Templating.callTrans("queue.section_"+o.section.toLowerCase())).replace("zzzzz",this.getTaggedWithMessage(tagSidebar.selectedTag))):s!=Templating.callTrans("search.items")?(a=o.section,n=Templating.callTrans("search.nofound",null,null,s),i=Templating.callTrans("search.thereareno")+" "+s+" "+Templating.callTrans("search.inyour")+" "+Templating.callTrans("queue.section_"+o.section.toLowerCase())+"."):"queue"==o.section||"home"==o.section?(a="queue",n=Templating.callTrans("search.yourqueueisempty"),i=Templating.callTrans("search.learnhowexpanded","<a href='http://getpocket.com/welcome' target='_blank'>","</a>")):"favorites"==o.section?(a="favorites",n=Templating.callTrans("search.youhavenofavorites"),i=Templating.callTrans("search.favoritesemptymsg")):"archive"==o.section&&(a="archive",n="Your Archive is Empty",i=Templating.callTrans("search.archiveemptymsg").replace("*","")),"queue"!=o.section&&"home"!=o.section||!boot.GSFStatus.active||"object"!=typeof boot.GSFStatus.saveditems||this.searchField.val().length||$(".item_placeholder").length||(dictJSON.manual.placeholderdesc=1,dictJSON.manual.placeholderwextension=boot.GSFStatus.extinstalled||PocketUserApps.ready&&PocketUserApps.installedExtension(),$("#queue").prepend(Handlebars.templates.queue_placeholder(dictJSON)),this.gsfAddPlaceholderEvents())}$("#queue_empty").length||(this.emptyCell=$('<div id="queue_empty"></div>'),this.emptyCell.html(ServerSettings.emptyStates||boot.ExternalUserSettings.emptystates?'<h3></h3><p></p><a class="button button-emptyrecommend">'+Templating.callTrans("recommended.checkoutempty")+"</a>":"<h3></h3><p></p>"),$("#queue").append(this.emptyCell));var r=this.emptyCell.children("h3");r.html((a?'<img src="/a/i/icon_m_'+a.toLowerCase()+'.png" />':"")+n),a&&this.emptyCell.find("img").addClass("img-"+a),this.emptyCell.children("p").html(i),(ServerSettings.emptyStates||boot.ExternalUserSettings.emptystates)&&$(".button-emptyrecommend").click(function(e){PocketAnalytics.action("view_recommendedempty_"+queue.getCurrentLocation().state.section,"click","webapp"),$(".queue_togglesection_recommended").trigger("click")}),i.indexOf("notice_container")>-1&&setTimeout(function(){$(".notice_container").addClass("notice_container_active")},50)}(!boot.GSFStatus.active||"queue"!=this.state.section&&"home"!=this.state.section||this.searchField.val().length||tagSidebar.selectedTag)&&$("#queue").toggleClass("queue_empty",e)},"setView":function(e){this.selectedView!=e&&(this.queueList.parent().addClass("loading"),this.selectedView&&($("#page_queue").removeClass("page_queue_"+this.selectedView),$("#page .pkt-nav .leftItem .selected").removeClass("selected")),$(window).width()<this.BREAK_ITEM_COLUMNS_TWO&&(e="list"),$("#page_queue").addClass("page_queue_"+e),$(".pagenav_gridlist").removeClass("pagenav_gridview pagenav_listview").addClass("pagenav_"+e+"view"),this.showBulkEdit(!1),this.selectedView=e)},"showArticleFilterMenu":function(e){!this.articleFilterMenu,this.articleFilterMenu.show(e),this.articleFilterMenu.object.css("display","block")},"showShareMenu":function(e){var t=this;if(e){e=$(e);var n=e.parents(".item");if(this.sharedItem=t.itemsByID[e.parents(".item").attr("id").replace(/i([0-9]+)/,"$1")],!this.shareMenu){for(var i=[],a=0;a<Sharers.length;a++){var s=Sharers[a];i.push(dsi(a,s.name))}var o=new DropSelector({"id":"shareMenuContents","class":"titleItem shareMenuSelector","nodeName":"h2","append":$("#container"),"list":i,"selectCallback":function(e,n){var i=$(n).attr("val"),a=Sharers[i];return a?(t.shareMenu.show(!1),a.share(t.sharedItem,a.iconname),!0):!1},"callback":function(){},"hideUntilSet":!0});this.shareMenu=new PopOver("shareMenu",o.ul,$("#container"),{"onHide":function(){$(".pendingDialog").removeClass("pendingDialog")},"positions":["bottom","bottomright","bottomleft","top","topleft","topright"],"headerTitle":"Share","xOffset":0}),this.shareMenu.sizeObject=o.ul;for(var r=this.shareMenu.object.find("li"),a=0;a<r.length;a++){var l=$(r[a]),c=l.find("a"),u=Sharers[parseInt(l.attr("val"),10)],d=u.iconname;c.addClass("share-"+d).append('<span class="share-icon share-'+d+'-icon">')}o.object.remove(),this.shareMenu.object.addClass("titleSelector")}var h=$(this.shareMenu.sizeObject).find(".share-permanent").parent("li");if(h.length){var s=Sharers[h.attr("val")];s&&s.setPermanentLink("http://"+(document.location.hostname||document.location.host)+"/library/?pl_i="+t.sharedItem.item_id,h)}var p=$(this.shareMenu.sizeObject).find(".share-original").parent("li");if(p.length){var s=Sharers[p.attr("val")];if(s){var f=t.sharedItem.resolved_url||t.sharedItem.given_url||t.sharedItem.original_url||t.sharedItem.url;s.setExternalLink(f,p)}}}n.toggleClass("pendingDialog",void 0!=e),this.shareMenu.show(e)},"confirmDelete":function(e){var t=$(e).closest(".item"),n=t.attr("id").replace(/^i/,""),i=this;createDialog({"anchor":$(e),"title":Templating.callTrans("confirm.areyousure"),"message":!1,"xOffset":4,"confirm":{"title":Templating.callTrans("cta.delete"),"action":function(){i.takeActionOnItem("delete",!0,n,void 0,!0)}},"onShow":function(){t.addClass("pendingDialog")},"onHide":function(){t.removeClass("pendingDialog")}})},"showConfirmDialog":function(e,t,n,i,a){if("string"==typeof e||"string"==typeof t){var s='<div class="overlay_detail ';if(s+="string"==typeof n?'overlay_detail_confirm">':'webview_warning">',"string"==typeof e&&(s+="<h3>"+e+"</h3>"),"string"==typeof t)for(var o=t.split("|"),r=0;r<o.length;r++)s+="<p>"+o[r]+"</p>";"string"==typeof n?(dictJSON.manual.confirmbuttontext=n,s+=Handlebars.templates.queue_confirmdialog_cancel(dictJSON)):s+=Handlebars.templates.queue_confirmdialog_nocancel(dictJSON),OverlayScreen.setDetail(s),OverlayScreen.show();var l=$(".overlay_detail");"string"==typeof n&&l.find(".button-cancel").click(function(e){e.preventDefault(),OverlayScreen.hide(),"function"==typeof a&&a()}),l.find(".button-confirm").click(function(e){e.preventDefault(),OverlayScreen.hide(),"function"==typeof i&&i()})}},"tagsReady":function(e,t){this.buildPopoverTagList(e)},"buildPopoverTagList":function(e){"/a/queue/"==queue.tagUrlPrefix&&(queue.tagUrlPrefix="/a/queue/grid/"),this.tagList=[];var t=$("#pagenav_tagfilter ul");t.parent().find(".tagfilter_loading").remove(),t.children().remove(),t.append('<li class="editdelete" val="edit"><a href="#">'+Templating.callTrans("queue.editdelete")+"</a></li>"),t.append('<li val="all"><a href="'+queue.baseTagUrlPrefix+'">'+Templating.callTrans("queue.allitems")+"</a></li>"),t.append('<li val="untagged"><a href="'+queue.baseTagUrlPrefix+'_untagged_">'+Templating.callTrans("queue.tag_untaggeditems")+"</a></li>");for(var n=0;n<e.length;n++)$.trim(sanitizeText(e[n])).length&&(this.tagList.push(sanitizeText(e[n])),t.append('<li val="'+encodeURIComponent(sanitizeText(e[n]))+'"><a href="'+queue.baseTagUrlPrefix+encodeURIComponent(sanitizeText(e[n]))+'">'+sanitizeText(e[n])+"</a></li>"));this.tagListBuilt=!0,$(".tag_clear").attr("href",queue.baseTagUrlPrefix)},"actionToggle":function(e,t){var n=$(t).closest(".item"),i=n.attr("id").replace(/^i/,"");this.takeActionOnItem(e,!$(t).parent().hasClass("selected"),i,void 0,!0)},"takeActionOnItem":function(e,t,n,i,a){if(n){var i=i?i:0,s=this,o=this.inited?$("#i"+n):!1,r=!1,l=this.itemsByID[n];"undefined"==typeof l&&n==reader.itemId&&(l=reader.item);var c={"itemId":n,"itemUrl":l.resolved_url?l.resolved_url:l.given_url,"itemTitle":l.resolved_title?l.resolved_title:l.given_title};if("mark"==e?(c.action="mark",c.on=t?1:0,o&&(o.addClass("marked"),(!this.searchStateMode&&("queue"==this.stateSelector.value&&t||"archive"==this.stateSelector.value&&!t)||this.searchStateMode&&("allitems"!==s.searchSectionFilter||"mylist"==s.searchSectionFilter&&t||"archive"==s.searchSectionFilter&&!t))&&(r=!0,this.items.splice($.inArray(l,this.items),1),delete this.itemsByID[l.item_id]),o.find(".action_mark").toggleClass("selected",t).toggleClass("action_mark_archived",t),this.batch||(c.on?(sharedToast.show(Templating.callTrans("notification.itemarchived")),boot.GSFStatus.active&&(boot.ExternalUserSettings.sawarchivetooltip?s.gsfRecenterTooltip(2e3):s.gsfCheckArchiveTooltip(2e3))):sharedToast.show(Templating.callTrans("notification.addedtolist")),setTimeout(function(){s.checkBulkEditLogic()},300)))):"favorite"==e?(c.action="favorite",c.on=t?1:0,o&&(l.favorite=c.on,o.addClass("marked"),"favorites"!=this.stateSelector.value||t||(r=!0),o.find(".action_favorite").toggleClass("selected",t),o.toggleClass("item_state_favorited",t),this.batch||this.checkBulkEditLogic())):"delete"==e&&t&&(c.action="delete",c.on=1,o&&(this.items.splice($.inArray(l,this.items),1),delete this.itemsByID[l.item_id],o.addClass("marked"),r=!0,o.find(".action_delete").toggleClass("selected",t),this.batch||(sharedToast.show(Templating.callTrans("notification.itemdeleted")),boot.GSFStatus.active&&s.gsfRecenterTooltip(2e3),setTimeout(function(){s.checkBulkEditLogic()},300)))),!this.batch&&a&&queue.data.itemAction({"data":c}),o){if(r){var u=!1,d=!1;this.batch&&("list"==queue.selectedView||$(window).width()<queue.BREAK_ITEM_COLUMNS_TWO?(u=!0,$(".item_bulkeditselected").each(function(e,t){var n=$(t).outerHeight();$(t).nextUntil(".item_bulkeditselected").each(function(e,t){var i=$(t).data("moveheight");"undefined"==typeof i?$(t).data("moveheight",n):$(t).data("moveheight",parseInt(n)+parseInt(i))})})):d=!0),setTimeout(function(){o.addClass("removed");var e;if(!Modernizr.csstransitions){e={"opacity":"hide"},"grid"==s.selectedView?e.width="hide":e.height="hide";var t=o.find(".thumb");if(t.size()){var n=t.css("background-size");if(n){var a,r,l=n.indexOf(" ");if(~l?(a=n.substr(0,l),r=l+1<n.length?n.substr(l+1):a):(r=n,a=n),~a.indexOf("auto")&&(a="100%"),~a.indexOf("%")){var c=Math.round(parseInt(a.replace("%",""))/100*t.width());t.css("background-size",c+"px "+r)}}}}if(Modernizr.csstransitions){if(!d)if("grid"==queue.selectedView&&$(window).width()>=queue.BREAK_ITEM_COLUMNS_TWO){for(var h=o.outerWidth(),p=o.offset().top,f=o.next(".item");f.length&&(f.hasClass("removed")||f.offset().top==p);)f.addClass("item-column-shift"),f=f.next(".item");$(".item-column-shift").css("transform","translate3d(-"+h+"px,0,0)")}else{var m=o.outerHeight();o.nextAll(".item").addClass("item-column-shift"),u?$(".item-column-shift").each(function(e,t){var n=$(t).data("moveheight");("undefined"==typeof n||"0"==n)&&(n=m),$(t).css("transform","translate3d(0,-"+n+"px,0)")}):$(".item-column-shift").css("transform","translate3d(0,-"+m+"px,0)")}o.on("webkitTransitionEnd transitionend msTransitionEnd oTransitionEnd",function(e){$(e.target).hasClass("item")&&($(e.target).off("webkitTransitionEnd transitionend msTransitionEnd oTransitionEnd").hide(),$(".item-column-shift").removeClass("item-column-shift").css("transform","translate3d(0,0,0)"),s.reflowTiles(),s.highlightItemCheckDeletedMarked(),s.processLazyLoadScroll(),u&&$(".item").data("moveheight",0))}),o.addClass("item-column-hidden")}else setTimeout(function(){o.animate(e,333),s.reflowTiles(),s.highlightItemCheckDeletedMarked()},i)},i),clearTimeout(this.checkIfNeedsMoreTO),this.checkIfNeedsMoreTO=setTimeout(function(){s.checkIfRunningLow()},i+100)}else this.addButtonsToRow(!1,o);this.batch||this.checkIfRunningLow()}}},"addButtonsToRow":function(e,t,n){function i(e){return a.bulkEditMode||e.metaKey||e.ctrlKey||e.altKey||e.shiftKey}var a=this,t=t||$(e),n=n||{};IsolateScreen.showing&&IsolateScreen.anchor.parent(".item").attr("id")==t.attr("id")||0===t.find(".buttons").size()&&(dictJSON.manual.item_buttonarchived=n.archived?"selected":"",dictJSON.manual.item_buttonfavorited=n.favorite?"selected":"",t.find(".item_content").append(Handlebars.templates.queue_itembuttons(dictJSON)),dictJSON.manual.item_buttonfavorited&&t.addClass("item_state_favorited"),t.find(".action_mark a").click(function(e){e.preventDefault(),i(e)||(a.actionToggle("mark",this),PocketAnalytics.action("itemaction_mark","interact","webapp"))}),t.find(".action_delete a").click(function(e){e.preventDefault(),i(e)||(a.confirmDelete(this),PocketAnalytics.action("itemaction_delete","interact","webapp"))}),t.find(".action_tag a").click(function(e){e.preventDefault(),i(e)||(a.editItemTags(this),PocketAnalytics.action("itemaction_edittags","interact","webapp"))}),t.find(".action_favorite a").click(function(e){e.preventDefault(),i(e)||(a.actionToggle("favorite",this),PocketAnalytics.action("itemaction_favorite","interact","webapp"))}),t.find(".action_share a").click(function(e){e.preventDefault(),i(e)||(a.showShareMenu(this),PocketAnalytics.action("itemaction_share","interact","webapp"))}),t.find(".buttons a").click(function(e){!i(e)&&a.searchStateMode&&a.saveSearchStateToPrevSearches()}))},"checkUserValidPassword":function(){function e(e,t){var n=$("#"+e).parents(".form-field"),i=n.find(".error-bubble");if(t){var a=i.height();a>16?i.addClass("error-bubble-twoliner"):i.removeClass("error-bubble-twoliner"),n.hasClass("form-field-error")||n.removeClass("form-field-verified"),n.addClass("form-field-error")}else n.hasClass("form-field-verified")||(n.addClass("form-field-verified"),PocketAnalytics.action("verified_"+$("#"+e).attr("id"),"interact","webapp")),n.removeClass("form-field-error")}function t(t){if("undefined"==typeof t||"blur"==t.type&&$(this).val().length||$(t.target).parent().hasClass("form-field-error")){var n=this;return"undefined"==typeof t&&(n=$("#password")),$.trim($(n).val()).length<6?(e("password",!0),!1):(e("password",!1),!0)}}var n=this;PocketAnalytics.action("addpassword","view","webapp"),ServerSettings.fromSignupInstalledFF&&(ServerSettings.altGSF?(boot.GSFStatus={"active":!0,"sawinitoverlay":!1,"savedfirstitem":!1,"confirmedfirstsavedetail":!1,"firstsavewebviewonly":!1,"confirmedreaderviewdetail":!1,"confirmedmobilepopup":!1,"confirmedreadinglistdetail":!1,"needsoneitemplaceholder":!0,"extinstalledFFemail":!1,"extinstalledFFfxa":!1,"gsfProgressMax":6,"gsfMode":"buttonlong"},"string"==typeof ServerSettings.altGSFMode&&ServerSettings.altGSFMode&&(boot.GSFStatus.gsfMode=ServerSettings.altGSFMode),("buttonshort"==boot.GSFStatus.gsfMode||"inceptionshort"==boot.GSFStatus.gsfMode||"inceptionrecommended"==boot.GSFStatus.gsfMode)&&(boot.GSFStatus.gsfProgressMax=3),"buttonshortreturnpocket"==boot.GSFStatus.gsfMode&&(boot.GSFStatus.gsfProgressMax=4)):(boot.GSFStatus={"active":!0,"sawinitoverlay":!1,"postextensioninitoverlay":!0,"extinstalled":!0,"extinstalledFFemail":!1,"extinstalledFFfxa":!1,"articleview":!1,"articleviewconfirm":!1,"articleviewitemactions":!1,"saveditems":[]},boot.GSFStatus.extinstalled=!0),"ff_email"==ServerSettings.fromSignupInstalledFF&&(boot.GSFStatus.extinstalledFFemail=!0),"ff_fxa"==ServerSettings.fromSignupInstalledFF&&(boot.GSFStatus.extinstalledFFfxa=!0),boot.saveGSFStatus());var i=$(Handlebars.templates.init_requirepassword(dictJSON));i.find(".email").html(PromptPassword.email),i.find(".name").html(PromptPassword.name),"object"==typeof PocketUserApps&&"string"==typeof PocketUserApps.userName&&i.find(".extrausername").val(PocketUserApps.userName);var a=PromptPassword.avatar;(boot.GSFStatus.extinstalledFFemail||boot.GSFStatus.extinstalledFFfxa)&&(a="/a/i/gsf/gsf_ffemptyavatar@2x.png"),""!=a&&"string"==typeof a&&(a=a.split("?")[0]+"?sz=160",i.find(".avatar").css({"backgroundColor":"transparent","backgroundImage":"url("+a+")"})),OverlayScreen.setDetail(i),OverlayScreen.show(),i.find(".form-changepassword").append($('input[name="ct"]'),$(".onetimetoken")),OverlayScreen.overlayScreen.addClass("overlay_screen_light"),setTimeout(function(){$(".overlay_createpasswordcontainer").find("#password").focus()},50),$("#password").on("keyup blur",t).on("focus",function(e){
PocketAnalytics.action("addpassword_focus","interact","webapp")}).on("blur",function(e){PocketAnalytics.action("addpassword_blur","interact","webapp")}),$(".password-btn-add").click(function(e){function i(e){var t={},n=e.serializeArray();return $.each(n,function(){t[this.name]?(t[this.name].push||(t[this.name]=[t[this.name]]),t[this.name].push(this.value||"")):t[this.name]=this.value||""}),t}if(e.preventDefault(),!$(this).hasClass("button-disabled")){var a=this;if($(this).addClass("button-disabled"),$(".form-changepassword").addClass("password-processing"),t()){var s=i($(".form-changepassword"));s.source="google",s.is_ajax=1,$.ajax({"url":"/changepass_process.php","data":s,"dataType":"json","type":"POST","success":function(e){if("number"==typeof e.status){if(!e.status)return PocketAnalytics.action("addpassword_form_error","interact","webapp"),$(".overlay_createpasswordcontainer .form-error").remove(),$(".overlay_createpasswordcontainer h2").after('<div class="form-error">'+e.error_msg+"</div>"),$(".form-changepassword").removeClass("password-processing"),void $(a).removeClass("button-disabled");boot.ExternalUserSettings.haspassword=!0,boot.saveExternalUserSettings(),$(".overlay_createpasswordcontainer .form-error").remove(),$(".overlay_createpasswordcontainer .form-msg").addClass("form-msg-active"),PocketAnalytics.action("addpassword_form_success","interact","webapp"),setTimeout(function(){n.showEmpty(!1),OverlayScreen.overlayScreen.find(".content_detail").html(""),OverlayScreen.overlayScreen.removeClass("overlay_screen_light"),OverlayScreen.hide(),setTimeout(function(){n.reloadList()},500)},2e3)}},"error":function(e,t){return"abort"==t?(PocketAnalytics.action("addpassword_error","interact","webapp"),$(".form-changepassword").removeClass("password-processing"),void $(a).removeClass("button-disabled")):void 0},"complete":function(e,t){return"abort"==t?(PocketAnalytics.action("addpassword_error","interact","webapp"),$(".form-changepassword").removeClass("password-processing"),void $(a).removeClass("button-disabled")):void 0}})}else PocketAnalytics.action("addpassword_error","interact","webapp"),$(".form-changepassword").removeClass("password-processing"),$(a).removeClass("button-disabled"),$("#password").focus()}})},"gsfInitialize":function(){if(!ServerSettings.gamifyGSF&&!this.getGamifyStatus())if((ServerSettings.altGSF||"boolean"==typeof boot.GSFStatus.savedfirstitem)&&"object"!=typeof boot.GSFStatus.saveditems&&$(window).width()>=queue.BREAK_ITEM_COLUMNS_TWO&&$(window).height()>=448){if("undefined"==typeof boot.GSFStatus.active&&(boot.GSFStatus={"active":!1,"sawinitoverlay":!1,"savedfirstitem":!1,"confirmedfirstsavedetail":!1,"firstsavewebviewonly":!1,"confirmedreaderviewdetail":!1,"confirmedmobilepopup":!1,"confirmedreadinglistdetail":!1,"needsoneitemplaceholder":!1,"extinstalledFFemail":!1,"extinstalledFFfxa":!1,"gsfProgressMax":6,"gsfMode":"buttonlong"},ServerSettings.fromSignup&&"function"==typeof ga&&ga("send","pageview",{"page":"/a/queue_conversion","title":"New User Conversion"}),ServerSettings.fromSignup&&!this.items.length&&(boot.GSFStatus.active=!0,boot.GSFStatus.needsoneitemplaceholder=!0,boot.ExternalUserSettings.sawbundleupsell=!0,boot.ExternalUserSettings.sawarchivetooltip=!1,boot.ExternalUserSettings.recommendedmodeupsell=!0,"string"==typeof ServerSettings.altGSFMode&&ServerSettings.altGSFMode&&(boot.GSFStatus.gsfMode=ServerSettings.altGSFMode),("buttonshort"==boot.GSFStatus.gsfMode||"inceptionshort"==boot.GSFStatus.gsfMode||"inceptionrecommended"==boot.GSFStatus.gsfMode)&&(boot.GSFStatus.gsfProgressMax=3),"buttonshortreturnpocket"==boot.GSFStatus.gsfMode&&(boot.GSFStatus.gsfProgressMax=4),boot.saveExternalUserSettings()),boot.saveGSFStatus()),this.gsfCheckOneItemPlaceholder(),!boot.GSFStatus.active||!boot.pages.queue.isOpen||"queue"!=this.state.section&&"home"!=this.state.section||this.searchField.val().length)return;$("#queue").hasClass("queue_empty")&&($("#queue").removeClass("queue_empty"),".item_placeholder".length||"object"!=typeof boot.GSFStatus.saveditems||(dictJSON.manual.placeholderdesc=1,dictJSON.manual.placeholderwextension=boot.GSFStatus.extinstalled||PocketUserApps.ready&&PocketUserApps.installedExtension(),$("#queue").prepend(Handlebars.templates.queue_placeholder(dictJSON)),this.gsfAddPlaceholderEvents())),boot.GSFStatus.sawinitoverlay||$(".overlay_detail").is(":visible")?this.gsfCheckLogicAlt():this.gsfOpenInitOverlayAlt(),boot.saveGSFStatus()}else{if("undefined"==typeof boot.GSFStatus.active&&(boot.GSFStatus={"active":!1,"sawinitoverlay":!1,"postextensioninitoverlay":!1,"extinstalled":!1,"extinstalledFFemail":!1,"extinstalledFFfxa":!1,"articleview":!1,"articleviewconfirm":!1,"articleviewitemactions":!1,"saveditems":[]},ServerSettings.fromSignup&&"function"==typeof ga&&ga("send","pageview",{"page":"/a/queue_conversion","title":"New User Conversion"}),Modernizr.localstorage&&(ServerSettings.fromSignup||ServerSettings.fromLoginGsf)&&!this.items.length?(boot.GSFStatus.active=!0,boot.ExternalUserSettings.sawbundleupsell=!0,boot.ExternalUserSettings.recommendedmodeupsell=!0,boot.ExternalUserSettings.sawarchivetooltip=!1,boot.saveExternalUserSettings()):(boot.ExternalUserSettings.sawbundleupsell=!0,boot.ExternalUserSettings.recommendedmodeupsell=!0,boot.saveExternalUserSettings())),boot.saveGSFStatus(),!boot.GSFStatus.active||!boot.pages.queue.isOpen||"queue"!=this.state.section&&"home"!=this.state.section||this.searchField.val().length)return;$("#queue").hasClass("queue_empty")&&($("#queue").removeClass("queue_empty"),".item_placeholder".length||"object"!=typeof boot.GSFStatus.saveditems||(dictJSON.manual.placeholderdesc=1,dictJSON.manual.placeholderwextension=boot.GSFStatus.extinstalled||PocketUserApps.ready&&PocketUserApps.installedExtension(),$("#queue").prepend(Handlebars.templates.queue_placeholder(dictJSON)),this.gsfAddPlaceholderEvents())),boot.GSFStatus.sawinitoverlay||$(".overlay_detail").is(":visible")?this.gsfCheckLogic():this.gsfOpenInitOverlay()}},"gsfOpenInitOverlay":function(e){function t(){if(boot.GSFStatus.extinstalled=!0,boot.saveGSFStatus(),boot.ExternalUserSettings.extinstalled=!0,boot.saveExternalUserSettings(),"object"!=typeof chrome||"object"!=typeof chrome.webstore)return void window.open("http://getpocket.com/welcome");var t=$(Handlebars.templates.gsf_chromeinlineinstall(dictJSON));$("body").append(t),setTimeout(function(){t.css("backgroundColor","rgba(0,0,0,0.8)"),t.addClass("overlay_screen_active"),-1==navigator.userAgent.indexOf("Mac OS X")&&($(".overlay_note_container").css("marginTop",$(window).height()/2+120+"px").css({"left":"-20px","backgroundPosition":"left top"}),$(".overlay_arrow").css("left","200px"),$(".overlay_note_container p").css("marginLeft","0"))},10),chrome.webstore.install("https://chrome.google.com/webstore/detail/niloccemoadcdkdjlinkgdfekeahmflj",function(){$(".overlay_screen_alt").removeClass("overlay_screen_active"),PocketAnalytics.action("gsf_addext_success","view","webapp"),setTimeout(function(){$("overlay_screen_alt").remove()},1e3),e&&(OverlayScreen.show(),$(".gsf_three .button").click(function(e){PocketAnalytics.action("gsf_buttonconnected_save","click","webapp"),OverlayScreen.hide(),n.gsfCheckLogic()})),$(".gsf_two,.gsf_one").removeClass("gsf_active"),$(".gsf_three").addClass("gsf_active"),PocketAnalytics.action("gsf_buttonconnected","view","webapp"),$(".gsf_progress").hide(),$(".overlay_detail").css("paddingBottom","100px")},function(e){$(".overlay_screen_alt").removeClass("overlay_screen_active"),PocketAnalytics.action("gsf_addext_failure","view","webapp"),setTimeout(function(){$("overlay_screen_alt").remove()},1e3),$(".overlay_screen_alt").removeClass("overlay_screen_active"),OverlayScreen.hide(),n.gsfCheckLogic()})}var n=this;"string"==typeof ServerSettings.tempP&&ServerSettings.tempP.length&&!boot.GSFStatus.sawinitoverlay&&(dictJSON.manual.simplesignup=1,dictJSON.manual.temppass=ServerSettings.tempP,"string"==typeof ServerSettings.tempE&&ServerSettings.tempE.length&&(dictJSON.manual.simplesignupnoemail=1,dictJSON.manual.tempemail=ServerSettings.tempE)),(ServerSettings.fromSignupInstalled||boot.GSFStatus.postextensioninitoverlay)&&(dictJSON.manual.termsconditions=Templating.callTrans("gsf.termsconditions",['<a href="/tos" target="_blank">','<a href="/privacy" target="_blank">'],["</a>","</a>"])),OverlayScreen.setDetail(Handlebars.templates.gsf_overlayone(dictJSON)),e?($(".gsf_one").removeClass("gsf_active"),t()):(OverlayScreen.show(),OverlayScreen.overlayScreen.addClass("overlay_screen_dark"),(ServerSettings.fromSignupInstalled||boot.GSFStatus.postextensioninitoverlay)&&"string"!=typeof ServerSettings.tempP&&("boolean"!=typeof IgnoreFromInstalled||!IgnoreFromInstalled)&&$(window).width()>=queue.BREAK_ITEM_COLUMNS_TWO&&$(window).height()>=448&&(boot.GSFStatus.postextensioninitoverlay=!0,boot.GSFStatus.extinstalled=!0,"ff_email"==ServerSettings.fromSignupInstalledFF&&(boot.GSFStatus.extinstalledFFemail=!0),"ff_fxa"==ServerSettings.fromSignupInstalledFF&&(boot.GSFStatus.extinstalledFFfxa=!0),boot.saveGSFStatus(),$(".gsf_two,.gsf_one").removeClass("gsf_active"),boot.GSFStatus.extinstalledFFemail||boot.GSFStatus.extinstalledFFfxa?(boot.GSFStatus.extinstalledFFemail&&$(".gsf_twopointfive").addClass("gsf_twopointfive_notos"),$(".gsf_twopointfive").addClass("gsf_active"),PocketAnalytics.action("gsf_buttonconnectedwelcome","view","webapp")):($(".gsf_three").addClass("gsf_active"),PocketAnalytics.action("gsf_buttonconnectedauto","view","webapp")),$(".gsf_progress").hide(),$(".overlay_detail").css("paddingBottom","118px")),PocketAnalytics.action("gsf_congrats","view","webapp"),"string"==typeof ServerSettings.tempP&&($(".gsf_progress").hide(),$(".gsf_zero .button").click(function(e){e.preventDefault(),!ServerSettings.fromSignupInstalled||"boolean"==typeof IgnoreFromInstalled&&IgnoreFromInstalled||(boot.GSFStatus.postextensioninitoverlay=!0,boot.GSFStatus.extinstalled=!0,boot.saveGSFStatus()),PocketAnalytics.action("gsf_temppassword_getstarted","click","webapp"),boot.GSFStatus.sawinitoverlay=!0,boot.saveGSFStatus(),$(".gsf_zero").removeClass("gsf_active"),boot.GSFStatus.postextensioninitoverlay?($(".gsf_two,.gsf_one").removeClass("gsf_active"),$(".gsf_three").addClass("gsf_active"),PocketAnalytics.action("gsf_buttonconnectedauto","view","webapp"),$(".gsf_progress").hide(),$(".overlay_detail").css("paddingBottom","100px")):($(".gsf_one").addClass("gsf_active"),$(".gsf_progress").show())})),$(".gsf_one .button").click(function(e){if(e.preventDefault(),PocketAnalytics.action("gsf_congrats_getstarted","click","webapp"),boot.GSFStatus.sawinitoverlay=!0,boot.saveGSFStatus(),$(window).width()<n.BREAK_ITEM_COLUMNS_TWO||$(window).height()<448)return OverlayScreen.hide(),void n.gsfCheckLogic();PocketUserApps.ready&&PocketUserApps.installedExtension()&&(boot.GSFStatus.extinstalled=!0,boot.saveGSFStatus(),boot.ExternalUserSettings.extinstalled=!0,boot.saveExternalUserSettings(),OverlayScreen.hide(),n.gsfCheckLogic()),$(".gsf_one").removeClass("gsf_active"),$(".gsf_two").addClass("gsf_active"),PocketAnalytics.action("gsf_savethings","view","webapp");var t=$(".gsf_progress").find("li");t.first().removeClass("selected"),t.last().addClass("selected")}),$(".gsf_two .button").click(function(e){t(),PocketAnalytics.action("gsf_savethings_connectnow","click","webapp"),("object"!=typeof chrome||"object"!=typeof chrome.webstore)&&(OverlayScreen.hide(),n.gsfCheckLogic())}),$(".gsf_twopointfive .button").click(function(e){e.preventDefault(),boot.GSFStatus.sawinitoverlay=!0,boot.saveGSFStatus(),$(".gsf_sendtips").is(":visible")&&boot.saveMarketingOptOutStatus("undefined"==typeof $(".gsf_sendtips:checked").val()),$(".gsf_twopointfive").removeClass("gsf_active"),$(".gsf_three").addClass("gsf_active"),PocketAnalytics.action("gsf_getstartedwelcome","click","webapp")}),$(".gsf_two .skip_link, .gsf_three .button").click(function(e){e.preventDefault(),boot.GSFStatus.sawinitoverlay=!0,boot.saveGSFStatus(),OverlayScreen.hide(),n.gsfCheckLogic(),PocketAnalytics.action("gsf_savethings_exit","click","webapp")}))},"gsfOpenInitOverlayAlt":function(){var e=this;ServerSettings.fromSignupInstalled&&(dictJSON.manual.termsconditions=Templating.callTrans("gsf.termsconditions",['<a href="/tos" target="_blank">','<a href="/privacy" target="_blank">'],["</a>","</a>"])),OverlayScreen.setDetail(Handlebars.templates.gsf_overlayalt(dictJSON)),OverlayScreen.show(),$(".overlay_detail").addClass("overlay_detail_gsfwelcome"),OverlayScreen.overlayScreen.addClass("overlay_screen_dark"),ServerSettings.fromSignupInstalled&&("ff_email"==ServerSettings.fromSignupInstalledFF&&(boot.GSFStatus.extinstalledFFemail=!0,boot.saveGSFStatus()),"ff_fxa"==ServerSettings.fromSignupInstalledFF&&(boot.GSFStatus.extinstalledFFfxa=!0,boot.saveGSFStatus()),PocketAnalytics.action("gsf_buttonconnectedwelcome","view","webapp")),boot.GSFStatus.extinstalledFFemail&&$(".gsf_twopointfive").addClass("gsf_twopointfive_notos"),PocketAnalytics.action("gsf_buttonconnectedwelcomealt","view","webapp"),$(".gsf_twopointfive .button").click(function(t){t.preventDefault(),boot.GSFStatus.sawinitoverlay=!0,boot.saveGSFStatus(),$(".gsf_sendtips").is(":visible")&&boot.saveMarketingOptOutStatus("undefined"==typeof $(".gsf_sendtips:checked").val()),PocketAnalytics.action("gsf_getstartedwelcomealt","click","webapp"),OverlayScreen.hide(),e.gsfCheckLogicAlt()})},"gsfCheckLogic":function(){function e(e){var t=e.attr("id").substring(1),i=n.itemsByID[t],a=/youtube.com\/watch|vimeo.com\/\d/;return"object"==typeof i&&2==i.has_video||a.test(i.given_url)?"video":"article"}function t(e){var t=!1;for(i=0;i<boot.GSFStatus.saveditems.length;i++)boot.GSFStatus.saveditems[i].id==e&&(t=!0);return t}var n=this;if(boot.GSFStatus.active&&"object"==typeof boot.GSFStatus.saveditems&&!this.recommendedMode){"object"==typeof this.gsftooltip&&this.gsftooltip.show(!1);var a=this.queueList.children(".item"),s=a.not(".removed,.item_placeholder"),o=s.length,r=boot.GSFStatus.saveditems.length;if(r>=0&&o>0&&!t(s.first().attr("id").substring(1))&&(boot.GSFStatus.saveditems.push({"id":s.first().attr("id").substring(1),"type":e(s.first())}),r++,boot.saveGSFStatus()),1>r&&1>o?$(".item_placeholder").length||($(".item").length?(dictJSON.manual.placeholderdesc=0,$(".item").last().after(Handlebars.templates.queue_placeholder(dictJSON))):(dictJSON.manual.placeholderdesc=1,dictJSON.manual.placeholderwextension=boot.GSFStatus.extinstalled||PocketUserApps.ready&&PocketUserApps.installedExtension(),$("#queue").prepend(Handlebars.templates.queue_placeholder(dictJSON))),this.gsfAddPlaceholderEvents()):$(".item_placeholder").length&&$(".item_placeholder").remove(),r>=1||o>=1){if($(".gsf_device_reminder_container").length){var n=this;setTimeout(function(){n.gsftooltip,n.gsftooltip=1==ServerSettings.premUpsell?createTooltip($(".gsf_device_reminder_container"),Templating.callTrans("gsf.explorepremium"),"",["top"]):createTooltip($(".gsf_device_reminder_container"),Templating.callTrans("gsf.pockettogo"),Templating.callTrans("gsf.connectmobile"),["top"]),"gsf_tooltip_taketogo"!=PocketAnalytics.prevAction&&PocketAnalytics.action("gsf_tooltip_taketogo","view","webapp"),$("body").one("click",function(){"object"==typeof n.gsftooltip&&n.gsftooltip.show(!1)})},3e3)}boot.GSFStatus.active=!1,boot.saveGSFStatus(),boot.ExternalUserSettings.newreleasewelcome=!0,boot.saveExternalUserSettings()}else 0==r?(ServerSettings.firstUrl&&queue.addURL(ServerSettings.firstUrl),$(window).width()<n.BREAK_ITEM_COLUMNS_TWO||$(window).height()<448?(this.gsftooltip=createTooltip($("#pagenav_addarticle > a"),Templating.callTrans("gsf.savefirstitem"),Templating.callTrans("gsf.addtopockethere"),["bottomleft","bottom"],10),$(".pkt-nav").one("click",function(e){n.gsftooltip.object.hide()})):boot.GSFStatus.extinstalled||PocketUserApps.ready&&PocketUserApps.installedExtension()?(this.gsftooltip=createTooltip($(".item_placeholder"),Templating.callTrans("gsf.savefirstitem"),Templating.callTrans("gsf.ventureoutandsave",'<a href="http://getpocket.com/welcome" target="_blank">',"</a>"),null,10),(boot.GSFStatus.extinstalledFFemail||boot.GSFStatus.extinstalledFFfxa)&&$(".alt-tooltip").filter(".popover-active").find("p").last().remove()):this.gsftooltip=createTooltip($("#pagenav_addarticle > a"),Templating.callTrans("gsf.savefirstitem"),Templating.callTrans("gsf.addtopockethere"),["bottomleft","bottom"],10),"gsf_tooltip_savefirst"!=PocketAnalytics.prevAction&&PocketAnalytics.action("gsf_tooltip_savefirst","view","webapp")):($(window).width()<n.BREAK_ITEM_COLUMNS_TWO||$(window).height()<448)&&(boot.GSFStatus.active=!1,boot.saveGSFStatus(),boot.ExternalUserSettings.newreleasewelcome=!0,boot.saveExternalUserSettings())}},"gsfCheckLogicAlt":function(){function e(){closeGSFTooltip(),boot.GSFStatus.confirmedrecommendedtooltipdetail=!0,boot.GSFStatus.active=!1,boot.saveGSFStatus(),t.gsfCheckOneItemPlaceholder()}var t=this;if(boot.GSFStatus.active&&"object"!=typeof boot.GSFStatus.saveditems){if(boot.GSFStatus.confirmedfirstsavedetail){if(("buttonshort"==boot.GSFStatus.gsfMode||"inceptionshort"==boot.GSFStatus.gsfMode||"buttonshortreturnpocket"==boot.GSFStatus.gsfMode&&boot.GSFStatus.confirmedreadinglistdetail)&&!boot.GSFStatus.firstsavewebviewonly||boot.GSFStatus.confirmedreadinglistdetail&&"inceptionrecommended"!==boot.GSFStatus.gsfMode)return createGSFTooltip({"anchor":!1,"body":Handlebars.templates.gsf_allsetup(dictJSON),"position":["centered"],"progress":{"size":boot.GSFStatus.gsfProgressMax,"selected":boot.GSFStatus.gsfProgressMax},"confirmdetail":{"button":!0,"text":Templating.callTrans("gsf.coolgotthis"),"callback":function(){closeGSFTooltip(),PocketAnalytics.action("gsf_allsetup_dismiss","click","webapp"),t.gsfCheckOneItemPlaceholder()}}}),boot.GSFStatus.active=!1,boot.saveGSFStatus(),void PocketAnalytics.action("gsf_allsetup","view","webapp");if(boot.GSFStatus.confirmedreaderviewdetail&&!boot.GSFStatus.confirmedmobilepopup&&"inceptionrecommended"!==boot.GSFStatus.gsfMode)return createGSFTooltip({"anchor":!1,"body":Handlebars.templates.gsf_mobilepopup(dictJSON),"position":["centered"],"progress":{"size":boot.GSFStatus.gsfProgressMax,"selected":4},"confirmdetail":{"button":!0,"text":Templating.callTrans("cta.continue"),"callback":function(){closeGSFTooltip(),boot.GSFStatus.confirmedmobilepopup=!0,boot.saveGSFStatus(),t.gsfCheckLogicAlt()}}}),$(".gsf-tooltip-confirm").addClass("gsf-tooltip-confirm-inactive"),$(".gsf-tooltip-dismiss").click(function(){$(".gsf-tooltip-confirm").trigger("click"),PocketAnalytics.action("gsf_mobilepopup_notnow","click","webapp")}),$(".gsf-tooltip-detail-mobile .button").click(function(e){if(e.preventDefault(),!$(this).hasClass("button-processing")&&!$(this).hasClass("button-sent")){$(".gsf-tooltip-dismiss").hide(),$(this).addClass("button-processing");var t={"formCheck":formCheck,"infoType":"mobile_install"};$.ajax({"url":"/web/x/requestInfo.php","type":"POST","dataType":"json","data":t,"success":function(e){"number"==typeof e.status&&(e.status?($(".button-inactive").removeClass("button-inactive"),$(".button-processing").addClass("button-inactive"),setTimeout(function(){$(".gsf-tooltip-confirm").trigger("click")},1750)):($(".gsf-tooltip-dismiss").show().parent().html(Templating.callTrans("gsf.unabletosendemail")),$(".button-processing").removeClass("button-processing"),$(".gsf-tooltip-confirm").removeClass("gsf-tooltip-confirm-inactive")))}}),PocketAnalytics.action("gsf_mobilepopup_requestemail","click","webapp")}}),void PocketAnalytics.action("gsf_mobilepopup","view","webapp");if("buttonshortreturnpocket"==boot.GSFStatus.gsfMode||boot.GSFStatus.confirmedmobilepopup&&!boot.GSFStatus.confirmedreadinglistdetail)return $(".isolate_screen_buttontargetsecond").length||$("body").append('<div class="isolate_screen_buttontargetsecond"></div>'),createGSFTooltip({"anchor":$(".isolate_screen_buttontargetsecond"),"body":Handlebars.templates.gsf_comingback(dictJSON),"position":["bottomleft"],"progress":{"size":boot.GSFStatus.gsfProgressMax,"selected":"buttonshortreturnpocket"==boot.GSFStatus.gsfMode?3:5},"confirmdetail":{"button":!0,"text":Templating.callTrans("buttonshortreturnpocket"==boot.GSFStatus.gsfMode?"gsf.gotit":"gsf.viewmylist"),"callback":function(){closeGSFTooltip(),PocketAnalytics.action("gsf_readinglist_dismiss","click","webapp"),boot.pages.reader.isOpen&&!OverlayScreen.showing?(boot.loadStateFromUrl("/a/"),t.gsfCheckLogicAlt()):t.gsfCheckLogicAlt()}},"isolateall":!0,"fixed":!0}),PocketAnalytics.action("gsf_readinglist","view","webapp"),currentGSFTooltip.object.addClass("gsf-tooltip-fluid").css("left",parseInt(currentGSFTooltip.object.css("left"))-100+"px"),void(boot.GSFStatus.confirmedreadinglistdetail=!0)}if(boot.pages.queue.isOpen){var n=this.queueList.children(".item"),i=n.not(".item_placeholder_gsf"),a=i.length;if(1>a&&!boot.GSFStatus.savedfirstitem)"inceptionshort"==boot.GSFStatus.gsfMode||"inceptionrecommended"==boot.GSFStatus.gsfMode||boot.GSFStatus.gsfMode?t.gsfGetArticles(function(){cancelFirefoxButtonListener(),listenForFirefoxButtonSave(function(){queue.addURL(queue.gsfArticles.inception.link),PocketAnalytics.action("gsf_inceptionpopup_toolbar","click","webapp"),closeGSFTooltip()}),createGSFTooltip({"anchor":!1,"body":Handlebars.templates.gsf_inceptionpopup(dictJSON),"position":["centered"],"progress":{"size":boot.GSFStatus.gsfProgressMax,"selected":1},"confirmdetail":{"button":!0,"text":Templating.callTrans("cta.continue")}}),$(".gsf-tooltip-confirm").addClass("gsf-tooltip-confirm-inactive"),$(".gsf-tooltip-inception-link").click(function(e){e.preventDefault(),queue.addURL(queue.gsfArticles.inception.link),PocketAnalytics.action("gsf_inceptionpopup_direct","click","webapp"),closeGSFTooltip()}),PocketAnalytics.action("gsf_inceptionpopup","view","webapp")}):($(".isolate_screen_buttontarget").length||$("body").append('<div class="isolate_screen_buttontarget"></div>'),t.gsfGetArticles(function(){cancelFirefoxButtonListener(),listenForFirefoxButtonSave(function(){t.gsfShowSaveInWebAppWarning()}),dictJSON.manual.gsftooltiptitle=queue.gsfArticles.firstitem.title,dictJSON.manual.gsftooltiplink=queue.gsfArticles.firstitem.link,dictJSON.manual.gsftooltipimgsrc=queue.gsfArticles.firstitem.imgsrc,createGSFTooltip({"anchor":$(".isolate_screen_buttontarget"),"headline":Templating.callTrans("gsf.savefirstitem"),"body":Handlebars.templates.gsf_savefirstitem(dictJSON),"position":["bottomleft"],"progress":{"size":boot.GSFStatus.gsfProgressMax,"selected":1},"confirmdetail":{"button":!0,"text":Templating.callTrans("gsf.tryit"),"callback":function(){var e=currentGSFTooltip.object.find(".gsf-tooltip-articlelink");e.length&&(window.open(e.attr("href")),PocketAnalytics.action("gsf_firstitemarticle_tryit","click","webapp"))}},"isolateall":!0,"fixed":!0}),$(".gsf-tooltip-articlelink").click(function(e){PocketAnalytics.action("gsf_firstitemarticle_direct","click","webapp")}),PocketAnalytics.action("gsf_savefirstitem","view","webapp")}));else if(a>0&&!boot.GSFStatus.confirmedfirstsavedetail){var s=i.find(".item_content").eq(0);if(!s.length)return;boot.GSFStatus.savedfirstitem||(boot.GSFStatus.savedfirstitem=!0,boot.saveGSFStatus());var o=s.find(".item_link");dictJSON.manual.gsftooltipcontent=Templating.callTrans("buttonshort"==boot.GSFStatus.gsfMode||"inceptionshort"==boot.GSFStatus.gsfMode||"inceptionrecommended"==boot.GSFStatus.gsfMode||"buttonshortreturnpocket"==boot.GSFStatus.gsfMode||o.hasClass("start_webview")?"gsf.itsthateasy":"gsf.clickthearticle"),o.hasClass("start_webview")&&(o.off("click.altgsfwarning"),o.on("click.altgsfwarning",function(e){e.preventDefault(),e.stopImmediatePropagation(),o.off("click.altgsfwarning"),createGSFTooltip({"anchor":!1,"body":Handlebars.templates.gsf_webviewclickwarning(dictJSON),"position":["centered"],"progress":{"size":boot.GSFStatus.gsfProgressMax,"selected":2},"confirmdetail":{"button":!0,"text":Templating.callTrans("gsf.gotit"),"callback":function(){window.open(o.attr("href")),boot.GSFStatus.confirmedfirstsavedetail=!0,boot.GSFStatus.firstsavewebviewonly=!0,PocketAnalytics.action("gsf_webviewclickwarning_dismiss","click","webapp"),t.gsfShowWebViewOnlyWarning(),boot.saveGSFStatus()}}}),$(".gsf-tooltip-detail").addClass("gsf-tooltip-detail-webwarning"),PocketAnalytics.action("gsf_webviewclickwarning","view","webapp")})),cancelFirefoxButtonListener(),createGSFTooltip({"anchor":s,"headline":Templating.callTrans("buttonshort"==boot.GSFStatus.gsfMode||"inceptionshort"==boot.GSFStatus.gsfMode||"inceptionrecommended"==boot.GSFStatus.gsfMode||"buttonshortreturnpocket"==boot.GSFStatus.gsfMode?"gsf.savedtopocket":"gsf.savedtoyourlist"),"body":Handlebars.templates.gsf_simpletooltip(dictJSON),"position":["right"],"progress":{"size":boot.GSFStatus.gsfProgressMax,"selected":2},"offsetx":10,"confirmdetail":{"button":!0,"text":Templating.callTrans("buttonshort"==boot.GSFStatus.gsfMode||"inceptionshort"==boot.GSFStatus.gsfMode||"inceptionrecommended"==boot.GSFStatus.gsfMode||"buttonshortreturnpocket"==boot.GSFStatus.gsfMode||o.hasClass("start_webview")?"gsf.gotit":"gsf.viewarticle"),"callback":function(){closeGSFTooltip(),boot.GSFStatus.confirmedfirstsavedetail=!0,PocketAnalytics.action("gsf_savedtolistconfirm_tooltip","click","webapp"),"buttonshort"!==boot.GSFStatus.gsfMode&&"inceptionshort"!==boot.GSFStatus.gsfMode&&"inceptionrecommended"!==boot.GSFStatus.gsfMode&&"buttonshortreturnpocket"!==boot.GSFStatus.gsfMode?o.hasClass("start_webview")?(boot.GSFStatus.firstsavewebviewonly=!0,t.gsfShowWebViewOnlyWarning()):o.trigger("click"):o.hasClass("start_webview")?(boot.GSFStatus.firstsavewebviewonly=!0,t.gsfShowWebViewOnlyWarning()):t.gsfCheckLogicAlt(),boot.saveGSFStatus()}}}),PocketAnalytics.action("gsf_savedtolist","view","webapp")}else if(a>0&&boot.GSFStatus.firstsavewebviewonly)if(a>1){var s=i.find(".item_content").eq(0);if(!s.length)return;if(s.find(".item_link").hasClass("start_articleview")){if("buttonshort"==boot.GSFStatus.gsfMode||"inceptionshort"==boot.GSFStatus.gsfMode||"inceptionrecommended"==boot.GSFStatus.gsfMode||"buttonshortreturnpocket"==boot.GSFStatus.gsfMode)return createGSFTooltip({"anchor":!1,"body":Handlebars.templates.gsf_allsetup(dictJSON),"position":["centered"],"progress":{"size":boot.GSFStatus.gsfProgressMax,"selected":boot.GSFStatus.gsfProgressMax},"confirmdetail":{"button":!0,"text":Templating.callTrans("gsf.coolgotthis"),"callback":function(){closeGSFTooltip(),PocketAnalytics.action("gsf_allsetup_dismiss","click","webapp"),t.gsfCheckOneItemPlaceholder()}}}),boot.GSFStatus.active=!1,boot.saveGSFStatus(),void PocketAnalytics.action("gsf_allsetup","view","webapp");boot.GSFStatus.confirmedfirstsavedetail=!1,boot.saveGSFStatus(),t.gsfCheckLogicAlt()}else boot.GSFStatus.active=!1,boot.saveGSFStatus(),closeGSFTooltip(),PocketAnalytics.action("gsf_savedtwowebarticles","interact","webapp")}else t.gsfShowWebViewOnlyWarning();else a>0&&boot.GSFStatus.confirmedfirstsavedetail&&"inceptionrecommended"==boot.GSFStatus.gsfMode&&(dictJSON.manual.gsftooltipcontent=Templating.callTrans("gsf.recommendedtabdetail"),createGSFTooltip({"anchor":$(".queue_togglesection_recommended"),"headline":Templating.callTrans("gsf.discovermoregoodreads"),"body":Handlebars.templates.gsf_simpletooltip(dictJSON),"position":["bottom"],"progress":{"size":boot.GSFStatus.gsfProgressMax,"selected":boot.GSFStatus.gsfProgressMax},"confirmdetail":{"button":!0,"text":Templating.callTrans("gsf.checkitout"),"callback":function(){e(),PocketAnalytics.action("gsf_recommendedinfo_dismiss","click","webapp"),$(".queue_togglesection_recommended").off("click.gsfcheck").trigger("click")}},"isolatepadding":15}),$(".queue_togglesection_recommended").one("click.gsfcheck",function(t){t.preventDefault(),boot.GSFStatus.active&&IsolateScreen.showing&&(e(),PocketAnalytics.action("gsf_recommendedinfo_dismissdirect","click","webapp"))}))}else if(boot.pages.reader.isOpen){if(boot.GSFStatus.savedfirstitem&&!boot.GSFStatus.confirmedfirstsavedetail)return boot.GSFStatus.confirmedfirstsavedetail=!0,boot.saveGSFStatus(),t.gsfCheckLogicAlt(),void PocketAnalytics.action("gsf_savedtolistconfirm_article","click","webapp");"buttonshort"!==boot.GSFStatus.gsfMode&&"inceptionshort"!==boot.GSFStatus.gsfMode&&"buttonshortreturnpocket"!==boot.GSFStatus.gsfMode&&boot.GSFStatus.confirmedfirstsavedetail&&!boot.GSFStatus.confirmedreaderviewdetail&&(dictJSON.manual.gsftooltipcontent=Templating.callTrans("gsf.whatyousaveoptimized"),"inceptionrecommended"==boot.GSFStatus.gsfMode?(createGSFTooltip({"anchor":$(".reader_head h1"),"headline":Templating.callTrans("gsf.beautifullyformatted"),"body":Handlebars.templates.gsf_simpletooltip(dictJSON),"position":["left","bottom"],"progress":{"size":boot.GSFStatus.gsfProgressMax,"selected":3},"offsetx":-10,"noisolate":!0,"confirmdetail":{"button":!0,"text":Templating.callTrans("gsf.backtomylist"),"callback":function(){closeGSFTooltip(),boot.GSFStatus.waitrecommendedcall=!1,reader.goBackToQueue(),setTimeout(function(){queue.gsfCheckLogicAlt()},0),PocketAnalytics.action("gsf_articledetailtooltip_dismiss","click","webapp")}}}),boot.GSFStatus.confirmedreaderviewdetail=!0,boot.saveGSFStatus(),boot.GSFStatus.waitrecommendedcall=!0):createGSFTooltip({"anchor":$(".reader_head h1"),"headline":Templating.callTrans("gsf.beautifullyformatted"),"body":Handlebars.templates.gsf_simpletooltip(dictJSON),"position":["left","bottom"],"progress":{"size":boot.GSFStatus.gsfProgressMax,"selected":3},"offsetx":-10,"noisolate":!0,"confirmdetail":{"button":!0,"text":Templating.callTrans("cta.learnmore"),"callback":function(){closeGSFTooltip(),boot.GSFStatus.confirmedreaderviewdetail=!0,boot.saveGSFStatus(),t.gsfCheckLogicAlt(),PocketAnalytics.action("gsf_articledetailtooltip_dismiss","click","webapp")}}}),PocketAnalytics.action("gsf_articledetailtooltip","view","webapp"))}}},"gsfGetArticles":function(e){var t=this;if(!$.isEmptyObject(queue.gsfArticles))return void("function"==typeof e&&e());var n=new XMLHttpRequest,i=!1;n.onload=function(){var n=JSON.parse(this.responseText);"string"==typeof ServerSettings.altGSFArticle?(t.gsfArticles=n[ServerSettings.altGSFArticle],"undefined"==typeof t.gsfArticles&&(t.gsfArticles=n.control)):t.gsfArticles=n.control,"function"!=typeof e||i||(i=!0,e())},n.onreadystatechange=function(){404==n.status&&("function"!=typeof e||i||(i=!0,e()))};var a=ServerSettings.language;"de-DE"!==a&&"en-US"!==a&&"es-ES"!==a&&"es-LA"!==a&&"ja-JP"!==a&&"ru-RU"!==a&&(a="en-US"),n.open("GET","/localization/gsfarticles-"+a+".min.json?v=101",!0),n.send()},"gsfCheckOneItemPlaceholder":function(){if(!("boolean"!=typeof boot.GSFStatus.needsoneitemplaceholder||!boot.GSFStatus.needsoneitemplaceholder||boot.GSFStatus.active||"queue"!=this.state.section&&"home"!=this.state.section&&"recommended"!=this.state.section||this.searchField.val().length||tagSidebar.selectedTag)){var e=this.queueList.children(".item"),t=e.not(".item_placeholder_gsf"),n=t.length;if(n>1)return boot.GSFStatus.needsoneitemplaceholder=!1,boot.saveGSFStatus(),$(".item_placeholder_gsf").remove(),void PocketAnalytics.action("gsf_savedsecondarticle","view","webapp");if($(".item_placeholder_gsf").length||"grid"!==queue.selectedView)return;this.gsfGetArticles(function(){"inceptionshort"==boot.GSFStatus.gsfMode?(dictJSON.manual.itemplaceholdertitle=queue.gsfArticles.postgsfplaceholderinception.title,dictJSON.manual.itemplaceholderimgsrc=queue.gsfArticles.postgsfplaceholderinception.imgsrc,dictJSON.manual.itemplaceholderlink=queue.gsfArticles.postgsfplaceholderinception.link):(dictJSON.manual.itemplaceholdertitle=queue.gsfArticles.postgsfplaceholder.title,dictJSON.manual.itemplaceholderimgsrc=queue.gsfArticles.postgsfplaceholder.imgsrc,dictJSON.manual.itemplaceholderlink=queue.gsfArticles.postgsfplaceholder.link),"inceptionrecommended"==boot.GSFStatus.gsfMode?(dictJSON.manual.itemplaceholderrecommended=1,dictJSON.manual.noopentabssuggestion=Templating.callTrans("gsf.noopentabsuggestionrecommend",['<a class="item_placeholder_switchrecommend" href="#">'],["</a>"])):dictJSON.manual.noopentabssuggestion=Templating.callTrans("gsf.noopentabssuggestion"),
$("#queue").prepend(Handlebars.templates.queue_placeholder_gsf(dictJSON)),boot.pages.queue.isOpen?PocketAnalytics.action("gsf_oneitemplaceholder","view","webapp"):boot.GSFStatus.waitplaceholderanalytics=!0,$(".item_placeholder_articlelink").click(function(e){PocketAnalytics.action("gsf_oneitemplaceholder_article","click","webapp")}),$(".item_placeholder_switchrecommend").click(function(e){e.preventDefault(),PocketAnalytics.action("gsf_oneitemplaceholder_recommend","click","webapp"),$(".queue_togglesection_recommended").trigger("click")})})}},"gsfShowWebViewOnlyWarning":function(){this.gsfGetArticles(function(){dictJSON.manual.gsftooltiptitle=queue.gsfArticles.firstitem.title,dictJSON.manual.gsftooltiplink=queue.gsfArticles.firstitem.link,dictJSON.manual.gsftooltipimgsrc=queue.gsfArticles.firstitem.imgsrc,createGSFTooltip({"anchor":!1,"body":Handlebars.templates.gsf_webviewonlywarning(dictJSON),"position":["centered"],"progress":{"size":boot.GSFStatus.gsfProgressMax,"selected":2},"confirmdetail":{"button":!0,"text":Templating.callTrans("gsf.openarticletosave"),"callback":function(){var e=currentGSFTooltip.object.find(".gsf-tooltip-articlelink");e.length&&(window.open(e.attr("href")),PocketAnalytics.action("gsf_webviewonlyarticle_tryit","click","webapp"))}}}),$(".gsf-tooltip-articlelink").click(function(e){PocketAnalytics.action("gsf_webviewonlyarticle_direct","click","webapp")}),PocketAnalytics.action("gsf_webviewonlyarticlerecommend","view","webapp")})},"gsfShowSaveInWebAppWarning":function(){this.gsfGetArticles(function(){dictJSON.manual.gsftooltiptitle=queue.gsfArticles.firstitem.title,dictJSON.manual.gsftooltiplink=queue.gsfArticles.firstitem.link,dictJSON.manual.gsftooltipimgsrc=queue.gsfArticles.firstitem.imgsrc,createGSFTooltip({"anchor":!1,"body":Handlebars.templates.gsf_saveinwebappwarning(dictJSON),"position":["centered"],"progress":{"size":boot.GSFStatus.gsfProgressMax,"selected":2},"confirmdetail":{"button":!0,"text":Templating.callTrans("gsf.openarticletosave"),"callback":function(){var e=currentGSFTooltip.object.find(".gsf-tooltip-articlelink");e.length&&(window.open(e.attr("href")),PocketAnalytics.action("gsf_saveinwebapparticle_tryit","click","webapp"))}}}),$(".gsf-tooltip-articlelink").click(function(e){PocketAnalytics.action("gsf_saveinwebapparticle_direct","click","webapp")}),PocketAnalytics.action("gsf_saveinwebapparticlerecommend","view","webapp")})},"gsfAddPlaceholderEvents":function(){var e=this;$(".item_placeholder").click(function(t){t.preventDefault(),dictJSON.manual.wextension=boot.GSFStatus.extinstalled||PocketUserApps.ready&&PocketUserApps.installedExtension(),OverlayScreen.setDetail(Handlebars.templates.gsf_needhelpsaving(dictJSON)),OverlayScreen.show(),$(".gsf_four").find("p").eq(1).html(Templating.callTrans("gsf.trybuttonlinks",['<a target="_blank" href="http://medium.com">','<a target="_blank" href="http://nytimes.com">','<a target="_blank" href="http://youtube.com">'],["</a>","</a>","</a>"])),$(".gsf_four .button-gotit, .gsf_four .button-connect, .gsf_four .close").click(function(e){e.preventDefault(),OverlayScreen.hide(),PocketAnalytics.action("gsf_close_needhelpsaving","interact","webapp"),boot.saveExternalUserSettings()}),$(".gsf_four .button-connect").click(function(t){t.preventDefault(),boot.GSFStatus.extinstalled=!0,boot.saveGSFStatus(),boot.ExternalUserSettings.extinstalled=!0,boot.saveExternalUserSettings(),"object"==typeof chrome&&"object"==typeof chrome.webstore?e.gsfOpenInitOverlay(!0):window.open("http://getpocket.com/welcome"),PocketAnalytics.action("gsf_needhelpsaving_connect","interact","webapp"),$(".item_placeholder .button-connect").remove(),$(".item_placeholder p").first().text(Templating.callTrans("gsf.savecontentfrom")),e.gsfCheckLogic()}),PocketAnalytics.action("gsf_view_needhelpsaving","view","webapp"),boot.saveExternalUserSettings()}),$(".item_placeholder .button-connect").click(function(t){t.preventDefault(),t.stopImmediatePropagation(),boot.GSFStatus.extinstalled=!0,boot.saveGSFStatus(),boot.ExternalUserSettings.extinstalled=!0,boot.saveExternalUserSettings(),"object"==typeof chrome&&"object"==typeof chrome.webstore?e.gsfOpenInitOverlay(!0):window.open("http://getpocket.com/welcome"),$(".item_placeholder .button-connect").remove(),$(".item_placeholder p").first().text(Templating.callTrans("gsf.savecontentfrom")),e.gsfCheckLogic()})},"gsfRecenterTooltip":function(e){this.gsftooltip.show(!1);var t=this;setTimeout(function(){t.gsfCheckLogic()},e)},"gsfCheckArchiveTooltip":function(e){var t=this;t.archiveTooltipPending||(boot.ExternalUserSettings.sawarchivetooltip=!0,boot.saveExternalUserSettings(),t.archiveTooltipPending=!0,setTimeout(function(){var e=createTooltip($("#queue_title > a"),Templating.callTrans("notification.itemarchived"),Templating.callTrans("gsf.toviewarchived"));e.object.css("marginTop","10px"),$("#queue_title > a").one("click",function(){t.archiveTooltipPending=!1,e.show(!1),t.gsfCheckLogic()}),PocketAnalytics.action("gsf_tooltip_itemarchived","view","webapp")},e))},"getGamifyStatus":function(){return"object"==typeof boot.ExternalUserSettings.gamifyStatus&&boot.ExternalUserSettings.gamifyStatus.active?boot.ExternalUserSettings.gamifyStatus:!1},"registerGamifyCompletedStep":function(e){if("object"==typeof boot.ExternalUserSettings.gamifyStatus&&boot.ExternalUserSettings.gamifyStatus.active){var t=boot.ExternalUserSettings.gamifyStatus.completedSteps[e];if("boolean"==typeof t)return boot.ExternalUserSettings.gamifyStatus.completedSteps[e]=!0,boot.ExternalUserSettings.gamifyStatus.stepsLeft--,boot.saveExternalUserSettings(),!0}return!1},"registerGamifyAlert":function(e){if("object"==typeof boot.ExternalUserSettings.gamifyStatus&&boot.ExternalUserSettings.gamifyStatus.active){var t=boot.ExternalUserSettings.gamifyStatus.alerts[e];if("boolean"==typeof t)return boot.ExternalUserSettings.gamifyStatus.alerts[e]=!0,boot.saveExternalUserSettings(),!0}return!1},"gamifyCheckLogic":function(){if(ServerSettings.gamifyGSF||this.getGamifyStatus()){if(!this.getGamifyStatus()&&ServerSettings.fromSignup&&!this.items.length){var e=new Date;boot.ExternalUserSettings.gamifyStatus={"active":!0,"alerts":{"emptyPlaceholderInactive":!1,"welcome":!1},"completedSteps":{"buttonSave":!1,"mobileAppInstall":!1,"recommendedSave":!1},"expires":e.setDate(e.getDate()+14),"myListAddUrlIds":[],"stepsLeft":3},boot.saveExternalUserSettings(),$("#queue_empty").length&&$("#queue_empty").remove()}if(($(window).width()<this.BREAK_ITEM_COLUMNS_TWO||$(window).height()<448||Date.now()>this.getGamifyStatus().expires)&&(this.getGamifyStatus().active=!1,boot.saveExternalUserSettings()),!this.getGamifyStatus())return;!this.getGamifyStatus().completedSteps.mobileAppInstall&&PocketUserApps.ready&&PocketUserApps.installedMobile()&&queue.registerGamifyCompletedStep("mobileAppInstall"),this.addGamifyStepPlaceholder();var t=this.queueList.children(".item"),n=t.not(".removed,.item_placeholder,.item_placeholder_gamify,.item_placeholder_gamifyempty"),i=n.length;0>=i&&!this.getGamifyStatus().alerts.emptyPlaceholderInactive?this.addGamifyEmptyPlaceholders():(this.getGamifyStatus().completedSteps.buttonSave||(this.justAddedURL?(n.each(function(e,t){var n=$(t).attr("id").replace(/^i/,"");queue.getGamifyStatus().myListAddUrlIds.push(n)}),boot.saveExternalUserSettings()):n.each(function(e,t){var i=$(t).attr("id").replace(/^i/,"");return-1==$.inArray(i,queue.getGamifyStatus().myListAddUrlIds)?(queue.registerGamifyCompletedStep("buttonSave"),closeGSFTooltip(),queue.showGamifyStyleTooltip({"anchor":n.eq(0),"directions":["bottomright"],"offset":15,"wording":Templating.callTrans("gamify.nicesavemylist"),"checkbox":!0,"closex":!0}),queue.gamifyCheckLogic(),!1):void 0})),this.justAddedURL=!1,$(".item_placeholder_gamifyempty").remove(),this.getGamifyStatus().alerts.emptyPlaceholderInactive||this.registerGamifyAlert("emptyPlaceholderInactive")),this.getGamifyStatus()&&!this.getGamifyStatus().alerts.welcome&&(OverlayScreen.setDetail(Handlebars.templates.gsf_overlayalt(dictJSON)),OverlayScreen.show(),$(".overlay_detail").addClass("overlay_detail_gsfwelcome"),$(".gsf_twopointfive").addClass("gsf_twopointfive_notos"),OverlayScreen.overlayScreen.addClass("overlay_screen_dark"),this.registerGamifyAlert("welcome"),$(".gsf_twopointfive .button").click(function(e){e.preventDefault(),OverlayScreen.hide()}))}},"addGamifyStepPlaceholder":function(){if(this.getGamifyStatus()&&("queue"==this.state.section||"home"==this.state.section||"recommended"==this.state.section)){var e=$(this.recommendedMode?".queue_list_recommend":".queue_list_main");e.find(".item_placeholder_gamify").length||e.prepend(Handlebars.templates.queue_placeholder_gamify(dictJSON)),this.updateGamifyStepPlaceholder()}},"updateGamifyStepPlaceholder":function(){if(this.getGamifyStatus()&&("queue"==this.state.section||"home"==this.state.section||"recommended"==this.state.section)&&".item_placeholder_gamify".length){dictJSON.manual.savearticlevidrecommended=Templating.callTrans("gamify.savearticlevidrecommended",["<strong>"],["</strong>"]),dictJSON.manual.savebrowserbutton=Templating.callTrans("gamify.savebrowserbutton",["<strong>"],["</strong>"]),dictJSON.manual.mobileapp=Templating.callTrans("gamify.mobileapp",["<strong>"],["</strong>"]);var e=this.getGamifyStatus();dictJSON.manual.gamifysteponechecked=e.completedSteps.recommendedSave?1:null,dictJSON.manual.gamifysteptwochecked=e.completedSteps.buttonSave?1:null,dictJSON.manual.gamifystepthreechecked=e.completedSteps.mobileAppInstall?1:null,dictJSON.manual.gamifyallstepschecked=e.completedSteps.recommendedSave&&e.completedSteps.buttonSave&&e.completedSteps.mobileAppInstall,$(".item_placeholder_gamify .item_placegamify_stepscontainer").html(Handlebars.templates.queue_placeholder_gamifycontent(dictJSON)),$(".item_placegamify_link").click(function(e){e.preventDefault();var t=$(this);t.parent().hasClass("item_placegamify_stepchecked")||(t.hasClass("item_placegamify_linkrecommended")&&(this.recommendedMode||$(".queue_togglesection_recommended").trigger("click"),dictJSON.manual.gamifyclickpocket=Templating.callTrans("gamify.clickpocket").replace("xxxxx",'<span class="overlaygamify_pocketicon"></span>'),OverlayScreen.setDetail(Handlebars.templates.gsf_overlaygamifyrecommended(dictJSON)),OverlayScreen.show(),OverlayScreen.overlayScreen.addClass("overlay_screen_dark"),$(".overlaygamify_button").click(function(e){e.preventDefault(),OverlayScreen.hide()}),PocketAnalytics.action("click_gamifysteprecommended","click","webapp")),t.hasClass("item_placegamify_browserbutton")&&($(".isolate_screen_buttontarget").length||$("body").append('<div class="isolate_screen_buttontarget"></div>'),createGSFTooltip({"anchor":$(".isolate_screen_buttontarget"),"body":Handlebars.templates.gsf_gamifyhowsave(dictJSON),"position":["bottomleft"],"progress":{"size":5,"selected":5},"confirmdetail":{"button":!0,"text":Templating.callTrans("gsf.gotit"),"callback":function(){closeGSFTooltip(),PocketAnalytics.action("gsf_readinglistnext_dismiss","click","webapp")}},"isolateall":!0,"fixed":!0,"gamifymode":!0}),$(".gsf-tooltip").addClass("gsf-tooltip-gamify-bottomleft"),PocketAnalytics.action("click_gamifystepbrowserbutton","click","webapp")),t.hasClass("item_placegamify_mobileapp")&&(OverlayScreen.setDetail(Handlebars.templates.gsf_mobilepopup(dictJSON)),OverlayScreen.show(),OverlayScreen.overlayScreen.addClass("overlay_screen_dark"),$(".gsf-tooltip-confirm").addClass("gsf-tooltip-confirm-inactive"),$(".gsf-tooltip-close").click(function(e){e.preventDefault(),OverlayScreen.hide()}),$(".gsf-tooltip-detail-mobile .button").click(function(e){if(e.preventDefault(),!$(this).hasClass("button-processing")&&!$(this).hasClass("button-sent")){$(this).addClass("button-processing");var t={"formCheck":formCheck,"infoType":"mobile_install"};$.ajax({"url":"/web/x/requestInfo.php","type":"POST","dataType":"json","data":t,"success":function(e){"number"==typeof e.status&&(e.status?($(".button-inactive").removeClass("button-inactive"),$(".button-processing").addClass("button-inactive"),setTimeout(function(){OverlayScreen.hide()},1750),queue.gamifyCheckLogic()):($(".gsf-tooltip-dismiss").show().parent().html(Templating.callTrans("gsf.unabletosendemail")),$(".button-processing").removeClass("button-processing"),$(".gsf-tooltip-confirm").removeClass("gsf-tooltip-confirm-inactive")))}}),PocketAnalytics.action("gamify_mobilepopup_requestemail","click","webapp")}}),PocketAnalytics.action("gamify_mobilepopup","view","webapp")),$(".gsf-tooltip-mobilecta").click(function(e){setTimeout(function(){OverlayScreen.hide()},500),PocketAnalytics.action("gamify_mobilepopup_requestapp","click","webapp"),queue.gamifyCheckLogic()}))}),$(".item_placegamify_donedismiss").click(function(e){e.preventDefault(),$(".item_placeholder_gamify,.item_placeholder_gamifyempty").remove(),queue.getGamifyStatus().active=!1,PocketAnalytics.action("gamify_dismisstepplaceholder","click","webapp"),boot.saveExternalUserSettings()})}},"addGamifyEmptyPlaceholders":function(){if(this.getGamifyStatus()&&("queue"==this.state.section||"home"==this.state.section)&&!$(".item_placeholder_gamifyempty").length&&$(".queue_list_main .item_placeholder_gamify").length)for(var e=Math.max(tilesPerRow()-1,0),t=e-1;t>=0;t--)dictJSON.manual.gamifyemptymessage=0==t?1:null,$(".queue_list_main .item_placeholder_gamify").after(Handlebars.templates.queue_placeholder_gamifyempty(dictJSON))},"showGamifyStyleTooltip":function(e){var t=this;t.gsftooltip=createTooltip(e.anchor,"",e.wording,e.directions,e.offset,null,null,e.fixed),$(".pkt-nav").append(t.gsftooltip.object),t.gsftooltip.object.addClass("alt-tooltip-recommended"),e.closex&&t.gsftooltip.object.addClass("alt-tooltip-recommendedclosex"),e.checkbox&&t.gsftooltip.object.addClass("alt-tooltip-recommendedcheckbox"),setTimeout(function(){t.gsftooltip.object.addClass("alt-tooltip-recommendedactive"),e.closex&&$(".alt-tooltip-close").one("click",function(e){e.preventDefault(),PocketAnalytics.action("click_gamifytooltipclose","click","webapp")}),$("body").one("click",function(){"object"==typeof t.gsftooltip&&t.gsftooltip.show(!1)})},0)},"showSearchState":function(e,t){var n=this;if(e){$.trim(n.searchField.val()).length?$(".side-nav").addClass("side-nav-search"):($(".searchtoolbar_screen").addClass("searchtoolbar_screen_active"),n.showRecentSearchesList(),$("#searchnav_sortby > a").addClass("searchnav-sortby-disabled"),$(".section-filter").addClass("section-filter-disabled")),$(".searchtoolbar_screenbar").addClass("searchtoolbar_screen_active"),$(".pkt-nav").addClass("pkt-nav-searchmode"),$("#page_queue").hasClass("list")?$(".searchtoolbar_queue").addClass("searchtoolbar-listmode"):$(".searchtoolbar_queue").removeClass("searchtoolbar-listmode"),$(".searchtoolbar_queue").addClass("active"),boot.pages.queue.isOpen&&$("#queue_title").hide();var i=n.contentTypeControl.key()?n.contentTypeControl.key():"",a=tagSidebar.selectedTag?tagSidebar.selectedTag:"";if(n.queueList.addClass("queue_list_mode_narrowtoggle"),!t){var s=boot.ExternalUserSettings.prevnewsearchstates;s?s++:s=1,4>s&&(boot.ExternalUserSettings.prevnewsearchstates=s,boot.saveExternalUserSettings()),n.clearSearchChips(),i.length&&n.insertSearchChip(n.deriveTagNameFromContentTypeFilter(i),"contenttype"),a.length&&n.insertSearchChip(a,"tag"),"favorites"==n.state.section&&n.insertSearchChip(Templating.callTrans("queue.mainmenu_favorites"),"favorite"),n.searchChipLength>1?($(".wrapper_search").addClass("wrapper_search_expanded"),$(".search-instr-recent").addClass("search-instr-recent-expanded")):($(".wrapper_search").removeClass("wrapper_search_expanded"),$(".search-instr-recent").removeClass("search-instr-recent-expanded")),$(".expanded_toggle_search .expanded_toggle_selected").removeClass("expanded_toggle_selected"),"archive"==n.state.section?(n.searchSectionFilter="archive",$(".section-filter-value-text").text(Templating.callTrans("queue.search_archive")),$(".expanded_toggle_search .expanded_toggle_archive").addClass("expanded_toggle_selected")):n.premiumMode?(n.searchSectionFilter="allitems",$(".section-filter-value-text").text(Templating.callTrans("queue.search_allitems")),$(".expanded_toggle_search .expanded_toggle_allitems").addClass("expanded_toggle_selected")):(n.searchSectionFilter="mylist",$(".section-filter-value-text").text(Templating.callTrans("queue.search_mylist")),$(".expanded_toggle_search .expanded_toggle_mylist").addClass("expanded_toggle_selected")),n.searchRecentSearch=!1}setTimeout(function(){if(n.searchField.focus(),!$(".searchtoolbar_queue").data("init")){$("#search_close").on("click","a",function(e){e.preventDefault(),PocketAnalytics.action("search_close","interact","webapp"),n.showSearchState(!1)}),$(".searchtoolbar_screen").click(function(e){e.preventDefault(),n.showSearchState(!1)}),n.searchField.focus(function(e){$(".search-chip-selected").removeClass("search-chip-selected"),$(window).off("keydown.removechip")}),$(".searchtoolbar_queue").find(".section-filter").click(function(e){if(e.preventDefault(),!$(this).hasClass("section-filter-disabled")){var t=$(this).find(".section-filter-options");t.hasClass("section-filter-options-active")?$(".searchtoolbar_screen,.searchtoolbar_screenbar").off("click.closeSectionFilter"):$(".searchtoolbar_screen,.searchtoolbar_screenbar").off("click.closeSectionFilter").one("click.closeSectionFilter",function(e){$(".searchtoolbar_queue").find(".section-filter").trigger("click")}),$(this).toggleClass("section-filter-active"),t.toggleClass("section-filter-options-active")}}),n.searchSectionFilter=n.premiumMode?"archive"==n.state.section?"archive":"allitems":"archive"==n.state.section?"archive":"mylist",$(".section-filter-options").find("a").click(function(e){e.preventDefault(),e.stopImmediatePropagation();var t=$(".section-filter-value-text"),i=$(this).attr("class");n.searchSectionFilter!=i&&(t.text($(this).text()),n.searchSectionFilter=i,$(".section-filter-options").hasClass("section-filter-options-active")&&($(".searchtoolbar_queue").find(".section-filter").trigger("click"),$.trim(n.searchField.val()).length&&n.reloadList()))}),n.searchSortBy=n.premiumMode?"relevance":"newest",dictJSON.manual.premium=n.premiumMode?1:0;var e=Handlebars.templates.queue_sortsearchdialog(dictJSON);n.sortSearchMenu=new PopOver("searchSortMenu",e,$(".searchtoolbar_queue"),{"positions":["bottom"],"hideOnClickInPopover":!0,"xOffset":0,"disableHideOnScroll":!0,"fixedPosition":!0,"onShow":function(){$(".section-filter-options").hasClass("section-filter-options-active")&&$(".searchtoolbar_queue").find(".section-filter").trigger("click"),$("#searchSortMenu").data("init")||($("#searchSortMenu").find("a").click(function(e){e.preventDefault(),$(this).hasClass("search-sortby-selected")||($(".search-sortby-options").find("a").removeClass("search-sortby-selected"),n.searchSortBy=$(this).attr("class"),$(this).addClass("search-sortby-selected"),$.trim(n.searchField.val()).length&&n.reloadList())}),$("#searchSortMenu").data("init",!0)),$("#searchnav_sortby > a").addClass("searchnav-sortby-active")},"onHide":function(){$("#searchnav_sortby > a").removeClass("searchnav-sortby-active")}}),$("#searchnav_sortby > a").click(function(e){e.preventDefault(),$(this).hasClass("searchnav-sortby-disabled")||n.sortSearchMenu.show($("#searchnav_sortby > a"))})}$(".searchtoolbar_queue").data("init",!0)},100),this.searchStateMode=!0,this.searchStateFirstSearch=!0,PocketAnalytics.action("search_show","interact","webapp")}else if($(".searchtoolbar_screen,.searchtoolbar_screenbar").removeClass("searchtoolbar_screen_active"),$(".pkt-nav").removeClass("pkt-nav-searchmode"),n.hideRecentSearchesList(),$(".searchtoolbar_queue").removeClass("active"),$(".search-chip-selected").removeClass("search-chip-selected"),$(".section-filter-options").removeClass("section-filter-options-active"),n.queueList.removeClass("queue_list_mode_narrowtoggle"),$("#page_queue").removeClass("page_queue_search"),$(".side-nav").removeClass("side-nav-search"),$(window).off("keydown.removechip"),boot.pages.queue.isOpen&&$("#queue_title").show(),this.searchStateMode=!1,PocketAnalytics.action("search_hide","interact","webapp"),!t){n.saveSearchStateToPrevSearches(),$("#searchnav_sortby > a").addClass("searchnav-sortby-disabled"),$(".section-filter").addClass("section-filter-disabled");var o=n.searchSectionFilter,r=$.trim(n.searchField.val());"archive"==n.state.section?$(".section-filter-options").find(".archive").trigger("click"):$(".section-filter-options").find(".all").trigger("click"),$(".searchtoolbar_queue").find("h2").text(""),n.searchField.val(""),n.searchFieldEmptyState=!0,$(".wrapper_search").removeClass("wrapper_search_loading"),("allitems"!==o&&"mylist"!==o&&"archive"!==n.state.section||"archive"!==o&&"archive"==n.state.section||r.length)&&n.reloadList()}},"insertSearchChip":function(e,t){var n=this,i=$(Handlebars.templates.queue_searchchip(dictJSON));i.find("p").text(e),i.find(".search-chip-icon").addClass("search-chip-"+t),i.find(".search-chip-delete").click(function(e){e.preventDefault(),e.stopImmediatePropagation(),$(this).parents(".search-chip").remove(),n.searchRecentSearch=!1,n.searchChipLength--,n.adjustInputAreaForChips(),n.reloadList()}),i.click(function(e){$(".search-chip-selected").removeClass("search-chip-selected"),$(this).addClass("search-chip-selected"),$(window).off("keydown.removechip").on("keydown.removechip",function(e){var t=e.keyCode||e.which,i=$(".search-chip-selected");i.length?8==t&&(e.preventDefault(),e.stopImmediatePropagation(),i.remove(),n.searchField.focus(),$(window).off("keydown.removechip")):$(window).off("keydown.removechip")})}),$(".search-input").before(i),this.searchChipLength++,n.adjustInputAreaForChips(),this.searchField.attr("placeholder","")},"adjustInputAreaForChips":function(){if(!Modernizr.flexbox){var e=$(".search-input-list").width();$(".search-input-list .search-chip").each(function(t){e-=$(this).outerWidth()+parseInt($(this).css("marginRight"))}),$(".search-input-list .search-input").css("width",e-1+"px")}},"clearSearchChips":function(){$(".search-input").siblings().remove(),this.searchChipLength=0,Modernizr.flexbox||$(".search-input-list .search-input").css("width","100%"),this.searchField.attr("placeholder",Templating.callTrans("queue.search"))},"deriveTagNameFromContentTypeFilter":function(e){var t="";return"video"==e&&(t=Templating.callTrans("queue.filter_videos")),"image"==e&&(t=Templating.callTrans("queue.filter_images")),"article"==e&&(t=Templating.callTrans("queue.filter_articles")),t},"deriveContentTypeFilterFromTagName":function(e){var t="";return e==Templating.callTrans("queue.filter_videos")&&(t="video"),e==Templating.callTrans("queue.filter_images")&&(t="image"),e==Templating.callTrans("queue.filter_articles")&&(t="article"),t},"deriveTagNameFromContentTypeFilter":function(e){var t="";return"video"==e&&(t=Templating.callTrans("queue.filter_videos")),"image"==e&&(t=Templating.callTrans("queue.filter_images")),"article"==e&&(t=Templating.callTrans("queue.filter_articles")),t},"saveSearchStateToPrevSearches":function(){this.saveSearchTO&&clearTimeout(this.saveSearchTO);var e={"search":$.trim(this.searchField.val())};if(e.search.length){if(this.searchChipLength){var t={};if($(".search-input-list .search-chip").each(function(e){var n=$(this).find(".search-chip-icon");if(n.length){var i=n.attr("class").match(/icon\s*search-chip-(.*)/);i&&i.length>1&&(t["chip-"+i[1]]=$.trim($(this).find("p").text()))}}),t["chip-favorite"]?(e.scxt_key="in",e.scxt_val="favorites"):t["chip-tag"]?(e.scxt_key="tag",e.scxt_val=t["chip-tag"]):t["chip-contenttype"]&&(e.scxt_key="in",e.scxt_val=this.deriveContentTypeFilterFromTagName(t["chip-contenttype"])),this.searchChipLength>1){var n=t["chip-tag"]?t["chip-tag"]:"",i=t["chip-contenttype"]?this.deriveContentTypeFilterFromTagName(t["chip-contenttype"]):"";t["chip-favorite"]?e.search+=" "+$.trim(n+" "+i):t["chip-tag"]&&(e.search+=" "+$.trim(i))}}else e.scxt_key="",e.scxt_val="";boot.data.send("saveRecentSearch",{"data":e},!0)}},"showRecentSearchesList":function(){var e=this,t=$(".search-instr-recent");if(this.premiumMode&&(t.find(".recentsearch").find("a").text(""),this.recentSearches)){this.recentSearches=this.recentSearches.sort(function(e,t){return parseInt(t.sort_id)-parseInt(e.sort_id)}),t.find(".recentsearch").removeClass("recentsearch-active");for(var n=0;n<this.recentSearches.length;n++){var i=this.recentSearches[n],a="",s=0,o=t.find(".recentsearch-"+(n+1)),r={};for(var l in i)"context_key"!=l&&"context_value"!=l||!i[l]?"search"==l&&(a+='<span class="search-fieldcontent">'+sanitizeText(i[l])+"</span>"):r[l]=i[l];if(r.context_key&&r.context_value){var c=Handlebars.templates.queue_searchchip(dictJSON);"tag"==r.context_key?c=c.replace(/(-icon)(.*)("><\/span>.*\n.*<p>)(.*)(<\/p>)/,"$1 search-chip-tag$3"+sanitizeText(r.context_value)+"$5"):"in"==r.context_key&&("favorites"==r.context_value?c=c.replace(/(-icon)(.*)("><\/span>.*\n.*<p>)(.*)(<\/p>)/,"$1 search-chip-favorite$3"+Templating.callTrans("queue.mainmenu_favorites")+"$5"):"shared"!=r.context_value&&(c=c.replace(/(-icon)(.*)("><\/span>.*\n.*<p>)(.*)(<\/p>)/,"$1 search-chip-contenttype$3"+e.deriveTagNameFromContentTypeFilter(r.context_value)+"$5"))),a=c+a}o.addClass("recentsearch-active").find("a").html(a).off("click").on("click",function(t){t.preventDefault(),e.clearSearchChips(),$(this).find(".search-chip").each(function(t){var n=$(this).find(".search-chip-icon").attr("class").match(/icon\s*search-chip-(.*)/);n&&n.length>1&&e.insertSearchChip($(this).find("p").text(),n[1])}),e.searchField.val($(this).find(".search-fieldcontent").text()),e.searchFieldEmptyState=!1,/Trident/.test(navigator.userAgent)&&(e.searchFieldPrevLength=$.trim(e.searchField.val()).length),$(".searchtoolbar_screen").removeClass("searchtoolbar_screen_active"),e.hideRecentSearchesList(),$(".searchnav-sortby-disabled").removeClass("searchnav-sortby-disabled"),$(".section-filter-disabled").removeClass("section-filter-disabled"),e.searchChipLength&&e.searchField.css("width",12*$.trim(e.searchField.val()).length+"px"),e.searchField.focus(),e.searchRecentSearch=!0,e.reloadList()}),0==s?(o.addClass("recentsearch-nochips").removeClass("recentsearch-wchips"),o.find(".search-fieldcontent").removeClass("search-fieldcontentlimited")):(o.removeClass("recentsearch-nochips").addClass("recentsearch-wchips"),o.find(".search-fieldcontent").addClass("search-fieldcontentlimited"))}}var u="nonpremium";this.premiumMode?(t.attr("class","search-instr-recent search-instr-premium"),u="premium"):t.attr("class","search-instr-recent"),t.addClass(boot.ExternalUserSettings.prevnewsearchstates?"search-"+u+"-prevsearches-"+boot.ExternalUserSettings.prevnewsearchstates:"search-"+u+"-prevsearches-0"),t.addClass("search-instr-recent-active")},"hideRecentSearchesList":function(){$(".search-instr-recent").removeClass("search-instr-recent-active")},"highlightItemMove":function(e){var t=$("#queue").find(".item").not(".removed");if(t.length){if(this.itemHighlight){this.itemHighlight.removeClass("item-highlight");var n=null;do this.itemHighlight&&this.itemHighlight.length&&!this.itemHighlight.hasClass("removed")&&(n=this.itemHighlight),this.itemHighlight=e?this.itemHighlight.next():this.itemHighlight.prev(),this.itemHighlight.length&&this.itemHighlight.hasClass("loadingRow")&&(this.itemHighlight=e?this.itemHighlight.next():this.itemHighlight.prev()),this.itemHighlight.length&&!this.itemHighlight.hasClass("item")&&(this.itemHighlight=[]);while(this.itemHighlight.length&&this.itemHighlight.hasClass("removed"));if(!this.itemHighlight.length||this.itemHighlight.hasClass("removed")){if(!n)return void this.resetHighlight();this.itemHighlight=n}}else this.itemHighlight=t.first();if(this.itemHighlight.addClass("item-highlight"),this.itemHighlight.find(".buttons").length||this.addButtonsToRow(this.itemHighlight),!this.preferredscrollcontainer){var i=$("body"),a=$("html"),s=i.scrollTop(),o=a.scrollTop();s?this.preferredscrollcontainer=i:o&&(this.preferredscrollcontainer=a)}var r=this.preferredscrollcontainer?this.preferredscrollcontainer:$("body,html"),l=r.scrollTop(),c=l,u=$(window).height()+l,d=this.itemHighlight.offset().top,h=this.itemHighlight.height(),p=20;d+p>u?r.animate({"scrollTop":l+(d-u+p+h)},300):c>d-p&&r.animate({"scrollTop":l-(c-d+p+h)},300)}},"highlightItemCheckDeletedMarked":function(){this.itemHighlight&&this.itemHighlight.length&&this.itemHighlight.hasClass("removed")&&this.highlightItemMove(this.itemHighlight.next(".item").not(".removed").length?!0:!1)},"resetHighlight":function(){this.itemHighlight&&this.itemHighlight.removeClass("item-highlight"),this.itemHighlight=null},"highlightItemAction":function(e){if(this.itemHighlight){if("open"==e){PocketAnalytics.action("open_original","interact","webapp",1);var t=this.itemHighlight.find(".item_link");t.hasClass("start_webview")?window.open(t.attr("href")):t.trigger("click")}if("mark"==e&&(this.itemHighlight.find(".action_mark a").trigger("click"),PocketAnalytics.action("archive","interact","webapp",1)),"favorite"==e&&(this.itemHighlight.find(".action_favorite a").trigger("click"),PocketAnalytics.action("favorite","interact","webapp",1)),"delete"==e&&this.itemHighlight.find(".action_delete a").trigger("click"),"browseropen"==e){var n=this.itemForItemID(queue.itemHighlight.attr("id").replace("i",""));if("string"==typeof n.item_id){var i=n.resolved_url?n.resolved_url:n.given_url;window.open(urlWithPocketRedirect(i))}PocketAnalytics.action("item_open","interact","webapp",1)}"tag"==e&&this.itemHighlight.find(".action_tag a").trigger("click")}},"editItemTags":function(e){var t=$(e).parents(".item").get(),n=$(t),i=n.find(".tags"),a=$(i).find(".tag"),s=[];if(a.length)for(var o=0;o<a.length;o++)s.push($.trim($(a.get(o)).text()));this.showBulkTagsDialog(!1,!1,s,this.premiumMode?[]:null,n)},"validateTags":function(e){if(e.length)for(var t=0;t<e.length;t++)if(e[t].length>25)return boot.showErrorNotification(Templating.callTrans("notification.tagsarelimited")+" "+sanitizeText(e[t])+'"'),!1;return!0},"updateItemTags":function(e,t,n){if(e&&t){var i=e.find(".tags").children(".tag_container"),a=!1;if("tags_replace"==n)a=t;else{for(var s=t,o=i.find("a"),r=[],l=0;l<o.length;l++)r.push($(o.get(l)).text());if("tags_add"==n&&t.length){a=r;for(var l=0;l<t.length;l++)-1==$.inArray(t[l],r)&&a.push(t[l])}else"tags_remove"==n&&r.length&&(a=$.grep(r,function(e){return-1==$.inArray(e,s)}))}a&&(a.sort(),i.html(listTags(a,!0,!0)),this.checkTileTagOverflow(e)),e.find(".tags").toggleClass("hasTags",0!=a);for(var c=this.itemsByID[e.attr("id").replace(/^i/,"")],u={},l=0;l<a.length;l++){var d=a[l];u[d]={"item_id":c.item_id,"tag":d}}c.tags=u}},"tagRenamed":function(e,t){var e=e,t=t;this.queueList.find(".tags .tag_container a").each(function(){var n=$(this);n.text()==e&&(n.text(t),n.attr("href",queue.baseTagUrlPrefix+encodeURIComponent(t)))})},"tagDeleted":function(e){this.queueList.find(".tags .tag_container").each(function(){if(-1!=this.innerHTML.indexOf(e,0)){for(var t=$(this),n=[],i=t.find("a"),a=0;a<i.length;a++){var s=$(i.get(a)).text();s!=e&&n.push($(i.get(a)).text())}t.html(listTags(n,!0,!0))}})},"scrolled":function(){if(this.isOpen&&!$(document.body).hasClass("editing")){this.contentEl=this.contentEl||document.getElementById("content");var e=$(window).scrollTop(),t=$(window).width(),n=this.contentEl.scrollHeight;n&&(e+t>=.8*n&&!this.loading&&!this.recommendedMode&&(!this.searchStateMode&&this.remaining||this.searchStateMode&&this.searchHasMore)&&this.reloadList({"append":!0}),e+t>=.8*n&&!this.loading&&this.recommendedMode&&this.recommendedRemaining&&(this.recommendedErrorCall?this.setRecommendedErrorState(!0):this.getRecommendedItems(!0)),this.recommendedMode&&this.sendRecommendImpressionsInView())}},"actionForName":function(e){var t,n;switch(e){case"mark":t="mark",n=!0;break;case"unmark":t="mark",n=!1;break;case"delete":t="delete",n=!0;break;case"favorite":t="favorite",n=!0;break;case"unfavorite":t="favorite",n=!1}return t?{"action":t,"on":n}:!1;

},"showBulkEdit":function(e){var t=this;if(e)this.bulkEditMode=!0,PocketAnalytics.action("bulk_edit_open","interact","webapp"),$("#page_queue").hasClass("page_queue_list")&&this.bulkEditContainer.addClass("container-bulkedit-listmode"),$(".notifications-shares").is(":visible")||this.queueList.addClass("queue_list_mode_bulkedit"),this.bulkEditContainer.addClass("container-bulkedit-active"),$(".pkt-nav").addClass("pkt-nav-bulkeditmode");else{if(this.bulkEditMode=!1,!this.bulkEditContainer.hasClass("container-bulkedit-active"))return;t.bulkEditContainer.removeClass("container-bulkedit-listmode"),t.bulkEditContainer.find(".bulkedit-status").children("p").text(""),this.queueList.removeClass("queue_list_mode_bulkedit"),this.bulkEditContainer.removeClass("container-bulkedit-active"),$(".pkt-nav").removeClass("pkt-nav-bulkeditmode"),this.queueList.children(".item").filter(".item_bulkeditselected").removeClass("item_bulkeditselected")}},"updateBulkEditWording":function(e){"object"!=typeof e&&(e=[]);var t=e.length,n=Templating.callTrans("queue.itemsselected");1==t&&(n=Templating.callTrans("queue.itemselected")),this.bulkEditContainer.find(".bulkedit-status").children("p").text(t+" "+n),0==t?$(".bulkedit-actions").addClass("bulkedit-actions-inactive"):$(".bulkedit-actions").removeClass("bulkedit-actions-inactive");var i=!0;e.length?e.each(function(e,t){$(t).find(".action_favorite").hasClass("selected")||(i=!1)}):i=!1,this.bulkEditUnfavoriteMode=i,this.bulkEditContainer.find(".bulkedit-favorite").find(".bulkedit-desc").text(Templating.callTrans(i?"queue.unfavorite":"queue.favorite")),this.bulkEditContainer.find(".bulkedit-archive").find(".bulkedit-desc").text(Templating.callTrans("archive"==this.state.section?"queue.readd":"queue.archive"));var a=this.bulkEditContainer.find(".bulkedit-archive");"archive"==this.state.section?a.addClass("bulkedit-archive-readd").find(".bulkedit-desc").attr("title",Templating.callTrans("queue.readd")).text(Templating.callTrans("queue.readd")):a.removeClass("bulkedit-archive-readd").find(".bulkedit-desc").attr("title",Templating.callTrans("queue.archive")).text(Templating.callTrans("queue.archive"))},"showBulkTagsDialog":function(e,t,n,i,a,s){function o(){e&&(h.find(".token-input-token").length?h.find(".button").removeClass("button-disabled"):h.find(".button").addClass("button-disabled"))}function r(){var e="|";$(".token-input-token").each(function(t,n){e+=$(n).find("p").text()+"|"});var t=$(".suggestedtag_detail").find(".token-suggestedtag-inactive");t.each(function(t,n){-1==e.indexOf("|"+$(n).text()+"|")&&$(n).removeClass("token-suggestedtag-inactive")})}function l(){var e="|";$(".token-input-token").each(function(t,n){e+=$(n).find("p").text()+"|"});var t=$(".token-suggestedtag").not(".token-suggestedtag-inactive");t.each(function(t,n){e.indexOf("|"+$(n).text()+"|")>-1&&$(n).addClass("token-suggestedtag-inactive")})}var c,u=this;if(e?(c+="Add tags <span>("+s+(1==s?" item":" items")+")</span>",dictJSON.manual.tags_count=s,dictJSON.manual.items_singular=1==s,c=Handlebars.templates.queue_bulktagdialog(dictJSON)):(dictJSON.manual.suggestedtags=i?1:null,c=Handlebars.templates.tag_edittagdialog(dictJSON)),OverlayScreen.setDetail(c),OverlayScreen.show(),this.tagListBuilt||queue.data.getTags({"delegate":queue,"doneSelector":"tagsReady"}),i)if($(".suggestedtag_detail").on("click",".token-suggestedtag",function(e){e.preventDefault();var t=$(e.target);$("#edit-tags-input").tokenInput("add",{"id":h.find(".token-input-token").length,"name":t.text()}),t.addClass("token-suggestedtag-inactive"),$(".token-input-input-token input").focus()}),i.length)u.fillSuggestedTags(i);else{$(".suggestedtag_detail").addClass("suggestedtag_detail_loading");var d=a;t||(d=u.itemsByID[a.attr("id").replace(/^i/,"")]),boot.data.get("getSuggestedTags",{"data":{"url":d.given_url},"delegate":u,"doneSelector":"suggestedTagsCallback","errorSelector":"suggestedTagsError"})}var h=$(".overlay_detail");h.find(".close").click(function(e){e.preventDefault(),OverlayScreen.hide(),$("body").off("keydown.tags"),PocketAnalytics.action("bulk_edit_tag_exit","interact","webapp")}),h.find(".button").click(function(n){if(n.preventDefault(),!($(this).hasClass("button-disabled")||f&&Date.now()-f<250)){if(e)u.commitBulkEdit("tags");else{for(var i=$(".overlay_detail .token-input-token"),s=[],o=0;o<i.length;o++){var r=i.eq(o).text();r.length>1&&s.push(r.substring(0,r.length-1))}if(u.validateTags(s)){if(t){s?(reader.layout.tags.find(".tag_container").html(listTags(s.sort(),!0,!0)),reader.layout.tags.addClass("hasTags")):reader.layout.tags.removeClass("hasTags"),reader.item.tags=s;var l=$("#i"+a.item_id);l.length&&u.updateItemTags(l,s,"tags_replace"),u.data.updateItemTags(a.item_id,s)}else{u.updateItemTags(a,s,"tags_replace");var c=u.itemsByID[a.attr("id").replace(/^i/,"")];u.data.updateItemTags(c.item_id,s)}$(".token-input-dropdown").data("modified")&&sharedToast.show($(".token-input-dropdown").data("manualadd")?Templating.callTrans("tag.itemtagged"):Templating.callTrans("tag.itemtagsremoved"))}}OverlayScreen.hide(),$("body").off("keydown.tags")}});var p=0,f=0;$("#edit-tags-input").tokenInput([],{"searchDelay":200,"minChars":1,"animateDropdown":!1,"noResultsHideDropdown":!0,"search_function":function(e,t){searching=!0,u.tagSearch(e,t),$(".token-input-dropdown-fortag").data("init")||$(".token-input-dropdown-fortag").css("width",$(".token-input-list").outerWidth()-2+"px").data("init")},"textToData":function(e){return $.trim(e).length>25||!$.trim(e).length?($.trim(e).length>25&&(sharedToast.show(Templating.callTrans("notification.tagsarelimited")),p=Date.now(),f=Date.now()),null):{"name":sanitizeText(e.toLowerCase())}},"onReady":function(){$(".token-input-dropdown").addClass("token-input-dropdown-fortag"),$(".token-input-list").addClass("token-input-list-webapp"),setTimeout(function(){if(!e&&"object"==typeof n){var t=boot.ExternalUserSettings.recentlyaccessedtags;"object"!=typeof t&&(t=[]);for(var i=0;i<n.length;i++)$("#edit-tags-input").tokenInput("add",{"id":i,"name":htmlEntities(n[i])}),-1==$.inArray(n[i],t)&&t.push(n[i]);t.sort(),boot.ExternalUserSettings.recentlyaccessedtags=t,boot.saveExternalUserSettings()}$(".token-input-dropdown").data("modified",!1),$(".token-input-dropdown").data("manualadd",!1)},10),$("body").on("keydown.tags",function(e){if($(e.target).hasClass("page-queue")){var t=e.keyCode||e.which;if(8==t){e.preventDefault(),e.stopImmediatePropagation();var n=$(".token-input-selected-token");n.length&&$("#edit-tags-input").tokenInput("remove",{"name":n.find("p").text()})}}})},"onAdd":function(){o(),p=Date.now(),$(".token-input-dropdown").data("modified",!0),$(".token-input-dropdown").data("manualadd",!0),i&&l()},"onDelete":function(){o(),p=Date.now(),$(".token-input-dropdown").data("modified",!0),i&&r()}}),setTimeout(function(){h.find(".token-input-input-token").children("input").focus()},500),$(".token-input-list").keypress(function(e){13==e.which&&Date.now()-p>250&&(e.preventDefault(),h.find(".button").trigger("click"))})},"tagSearch":function(e,t){var n=[];if(e.length){if(!this.tagList)return;this.tagList.sort();for(var i=15,a=new RegExp("^"+e),s=0;s<this.tagList.length;s++)a.test(this.tagList[s])&&i>0&&(n.push({"name":this.tagList[s]}),i--)}else{var o=boot.ExternalUserSettings.recentlyaccessedtags;if("object"==typeof o)for(var s=0;s<o.lenght;s++)n.push({"name":o[s]})}n.length||(n=null),t(n)},"fillSuggestedTags":function(e){for(var t='<ul class="clearfix">',n=0;n<e.length;n++)t+='<li><a href="#" class="token-suggestedtag">'+e[n]+"</a></li>";t+="</ul>",$(".suggestedtag_detail").append(t),$(".suggestedtag_detail").removeClass("suggestedtag_detail_loading").height($(".suggestedtag_detail").height())},"suggestedTagsCallback":function(e){if(e.status)if(e.suggested_tags.length){for(var t=[],n=0;n<e.suggested_tags.length;n++)t.push(e.suggested_tags[n].tag);this.fillSuggestedTags(t)}else $(".suggestedtag_detail").removeClass("suggestedtag_detail_loading").append('<p class="suggestedtag_msg">'+Templating.callTrans("tag.suggestedtagserror")+"</p>");else this.suggestedTagsError(e)},"suggestedTagsError":function(e){var t=Templating.callTrans("tag.suggestedtagserror");e&&e.error_msg&&(t=e.error_msg),$(".suggestedtag_detail").removeClass("suggestedtag_detail_loading").append('<p class="suggestedtag_msg">'+t+"</p>")},"checkBulkEditLogic":function(){var e=this.queueList.children(".item").filter(".item_bulkeditselected").not(".removed");e.length&&this.showBulkEdit(!0),this.updateBulkEditWording(e)},"commitBulkEdit":function(e){var t="tags_add",n=[],i=null;if("tags"==e){i=[];for(var a=$(".overlay_detail .token-input-token"),s=0;s<a.length;s++){var o=a.eq(s).text();o.length>1&&i.push(o.substring(0,o.length-1))}if(!this.validateTags(i))return;n=i.join(",")}var r={"action":e,"on":!0};("mark"==e&&"archive"==this.state.section||"favorite"==e&&this.bulkEditUnfavoriteMode)&&(r.on=!1),"tags"==e&&(r=!1),this.batch=!0;var l=[],c=this.queueList.children(".item").filter(".item_bulkeditselected").not(".removed");if(c.length){for(var s=0;s<c.length;s++)l.push(c[s].id.replace(/^i/,"")),1!=r&&this.takeActionOnItem(r.action,r.on,$(c[s]).attr("id").replace(/^i/,""),void 0,!0),i&&this.updateItemTags($(c[s]),i,t);this.batch=!1,this.reflowTiles(),this.data.bulkEdit({"data":{"items":l,"status":r.action,"on":r.on,"tagType":t,"tags":n}});var u=c.length;u+=c.length>1?" Items ":" Item ","favorite"==e&&this.bulkEditUnfavoriteMode?(u+=" "+Templating.callTrans("notification.unfavorited"),PocketAnalytics.action("bulk_edit_favorite","interact","webapp")):"favorite"==e?(u+=" "+Templating.callTrans("notification.favorited"),PocketAnalytics.action("bulk_edit_favorite","interact","webapp")):"mark"==e&&"archive"==this.state.section?u+=" "+Templating.callTrans("notification.savedtolist"):"mark"==e?(u+=" "+Templating.callTrans("notification.archived"),PocketAnalytics.action("bulk_edit_archive","interact","webapp")):"delete"==e?(u+=" "+Templating.callTrans("notification.deleted"),PocketAnalytics.action("bulk_edit_delete","interact","webapp")):(u+=" "+Templating.callTrans("notification.tagged"),PocketAnalytics.action("bulk_edit_tag_save","interact","webapp")),sharedToast.show(u),this.showBulkEdit(!1),this.checkIfRunningLow()}},"commitMassTagChange":function(e,t,n){function i(t,n){e.find(".itemtext").text(sanitizeText(n)),e.attr("href",e.attr("href").replace(encodeURIComponent(sanitizeText(t)),encodeURIComponent(sanitizeText(n)))),e.attr("val",encodeURIComponent(sanitizeText(n))),queue.data.renameTag({"data":{"oldTag":t,"newTag":n}});for(var i=!1,s=0;s<a.tagList.length;s++)a.tagList[s]==t&&(a.tagList.splice(s,1),s--),a.tagList[s]==n&&(i=!0);i||(a.tagList.push(n),a.tagList.sort()),a.buildPopoverTagList(a.tagList),queue.tagRenamed(t,n),a.massTagChanging=!1,sharedToast.show(Templating.callTrans("tag.tagrenamedfrom").replace("xxxxx",t).replace("yyyyy",n)),t==tagSidebar.selectedTag&&setTimeout(function(){var e=$("#pagenav_tagfilter li").filter("[val='"+encodeURIComponent(sanitizeText(n))+"']");e.length&&boot.loadStateFromUrl(e.children("a").attr("href"))},1e3)}var a=this;this.massTagChanging=!0;var s=t;if(t=$.trim(t),n=$.trim(n),n.length&&t!=n&&a.validateTags([n])){for(var o=$("#pagenav_tagfilter ul"),r=o.children(),l=!1,c=0;c<r.length;c++)if(r.eq(c).text()==n){l=!0;break}l?a.showConfirmDialog(Templating.callTrans("tag.tagalreadyexists"),Templating.callTrans("tag.tagexistswouldyoulikemerge",["<strong>","<strong>","<strong>"],["</strong>","</strong>","</strong>"]).replace("xxxxx",sanitizeText(n)).replace("yyyyy",t).replace("zzzzz",sanitizeText(n)),Templating.callTrans("cta.merge"),function(){i(s,n)},function(){a.massTagChanging=!1}):i(s,n)}else e.find(".itemtext").text(s),a.massTagChanging=!1;e.find(".deletetag").removeClass("deletetag_active"),e.parent().find(".edittaginput").remove(),e.removeClass("editmode"),e.find(".itemtext").show()},"commitMassTagDelete":function(e,t){var n=this;this.massTagChanging=!0,this.showConfirmDialog(Templating.callTrans("tag.deletetag"),Templating.callTrans("tag.thiswillremove",null,null,"<strong>"+sanitizeText(t)+"</strong>"),Templating.callTrans("cta.delete"),function(){e.remove(),queue.data.deleteTag({"data":{"tag":t}}),queue.tagDeleted(t),n.massTagChanging=!1,sharedToast.show("Tag '"+t+"' deleted"),t==tagSidebar.selectedTag&&setTimeout(function(){boot.loadStateFromUrl(queue.tagUrlPrefix)},500)},function(){n.massTagChanging=!1})},"checkForMessages":function(){},"showInbox":function(e){if("undefined"!=typeof e){if("undefined"==typeof this.inboxPopover){var e=$("#pagenav_inbox");$(window).width()<queue.BREAK_ITEM_HEADER_WIDE&&(e=$("#page")),this.inboxView=new InboxView($("<div class='inbox'></div>"),this.notifications,this.unconfirmedNotifications),this.inboxPopover=new PopOver("notifications_list",this.inboxView.view,e,{"disableHideOnScroll":!0,"xOffset":-44,"onShow":function(){var e=$("#notifications_list");e.hasClass("popover-new-bottom")?$("#notifications_list").css(Modernizr.flexbox?{"left":"-142px","top":"23px"}:{"left":"-142px","top":"53px"}):e.hasClass("popover-new-centered")||$("#notifications_list").css(Modernizr.flexbox?{"left":"-292px","top":"23px"}:{"left":"-292px","top":"53px"})},"positions":["bottomleft"],"headerTitle":Templating.callTrans("notification.inbox")})}return this.inboxView.reloadData(this.notifications,this.unconfirmedNotifications),void this.inboxPopover.show(e)}this.inboxPopover.show(!1)},"setInboxNotification":function(e){e&&0!=e?(e>9&&$(".inbox_badge").addClass("inbox_badge_wide"),e>99?$(".inbox_badge").removeClass("inbox_badge_wide").addClass("inbox_badge_superwide").text("99+"):$(".inbox_badge").text(e),$(".inbox_badge").addClass("inbox_badge_active")):$(".inbox_badge").removeClass("inbox_badge_active inbox_badge_wide inbox_badge_superwide")},"setQueueRecommendMode":function(e,t){var n=this,i=Modernizr.csstransitions&&!n.initialView&&n.syncedSince;if(!this.preferredscrollcontainer){var a=$("body"),s=$("html"),o=a.scrollTop(),r=s.scrollTop();o?this.preferredscrollcontainer=a:r&&(this.preferredscrollcontainer=s)}var l=this.preferredscrollcontainer?this.preferredscrollcontainer:$("body,html");if(e){if(n.recommendedMode)return;n.recommendedMode=!0,$(".popover-new").removeClass("popover-active"),"object"==typeof n.gsftooltip&&n.gsftooltip.show(!1),boot.ExternalUserSettings.recommendedmodeupsell||(boot.ExternalUserSettings.recommendedmodeupsell=!0,boot.saveExternalUserSettings()),$(".queue_togglesection_optionselected").removeClass("queue_togglesection_optionselected"),$(".queue_togglesection_recommended").addClass("queue_togglesection_optionselected"),$(".queue_list_main,.queue_secondarynav_main").addClass("queue_inactive"),$(".side-nav").find(".nav-selected").removeClass("nav-selected"),$(".section-recommended").addClass("nav-selected"),i?($(".side-nav").removeClass("side-nav-immediateshift").addClass("side-nav-recommend"),$(".queue_list_main").on("webkitTransitionEnd transitionend msAnimiationEnd oTransitionEnd",function(){$(".queue_list_main").off("webkitTransitionEnd transitionend msAnimiationEnd oTransitionEnd"),$(".queue_list_main,.queue_secondarynav_main").addClass("queue_inactivehide"),$(".queue_list_recommend,.queue_secondarynav_recommend").removeClass("queue_inactivehide"),setTimeout(function(){l.scrollTop(0),$(".queue_list_recommend,.queue_secondarynav_recommend").removeClass("queue_inactive"),"function"==typeof t&&t()},0)})):(l.scrollTop(0),$(".side-nav").addClass("side-nav-immediateshift"),$(".queue_list_main,.queue_secondarynav_main").addClass("queue_inactivehide"),$(".queue_list_recommend,.queue_secondarynav_recommend").removeClass("queue_inactive queue_inactivehide"),"function"==typeof t&&t()),$(".side-nav").addClass("side-nav-recommend")}else{if(!n.recommendedMode)return;n.recommendedMode=!1,$(".popover-new").removeClass("popover-active"),$(".queue_togglesection_optionselected").removeClass("queue_togglesection_optionselected"),$(".queue_togglesection_home").addClass("queue_togglesection_optionselected"),$(".queue_list_recommend,.queue_secondarynav_recommend").addClass("queue_inactive"),i?($(".side-nav").removeClass("side-nav-immediateshift"),$(".queue_list_recommend").on("webkitTransitionEnd transitionend msAnimiationEnd oTransitionEnd",function(){$(".queue_list_recommend").off("webkitTransitionEnd transitionend msAnimiationEnd oTransitionEnd"),$(".queue_list_recommend,.queue_secondarynav_recommend").addClass("queue_inactivehide"),$(".queue_list_main,.queue_secondarynav_main").removeClass("queue_inactivehide"),setTimeout(function(){l.scrollTop(0),$(".queue_list_main,.queue_secondarynav_main").removeClass("queue_inactive"),$(".side-nav").removeClass("side-nav-recommend"),"function"==typeof t&&t(),boot.GSFStatus.active&&"object"==typeof boot.GSFStatus.saveditems&&n.gsfCheckLogic()},0)})):(l.scrollTop(0),$(".side-nav").addClass("side-nav-immediateshift"),$(".queue_list_recommend,.queue_secondarynav_recommend").addClass("queue_inactivehide"),$(".queue_list_main,.queue_secondarynav_main").removeClass("queue_inactive queue_inactivehide"),$(".side-nav").removeClass("side-nav-recommend"),"function"==typeof t&&t(),boot.GSFStatus.active&&"object"==typeof boot.GSFStatus.saveditems&&n.gsfCheckLogic())}},"getRecommendedItems":function(e,t){if(!(!e&&this.recommendedSyncedSince&&Date.now()-this.recommendedSyncedSince<12e4)){e||(this.recommendedOffset=0,this.recommendedOffsetId=null,this.recommendedRemaining=!0,this.recommendedLocation=0);var n;n=this.recommendedLocation-this.recommendedOffset,this.recommendedOffset=0,this.loading=!0,this.queueList.parent().removeClass("loading"),t||this.recommendedList.addClass("queue_list_loading");var i={"version":4,"count":this.pageSize,"offset":n};this.data.getRecommended({"o":{"append":e?!0:!1},"data":i,"delegate":this,"doneSelector":"recommendedItemsCallback","errorSelector":"recommendedItemsError"}),this.recommendedLocation=n+this.pageSize}},"recommendedItemsCallback":function(e,t){if("object"!=typeof e||"number"!=typeof e.status||!e.status)return this.loading=!1,this.recommendedList.removeClass("queue_list_loading"),void this.setRecommendedErrorState(t.o.append);this.recommendedSyncedSince=Date.now(),this.recommendedErrorCall=!1;var n=e.feed[e.feed.length-1];"object"==typeof n&&(this.recommendedOffsetId=n.feed_item_id),e.feed=e.feed.sort(function(e,t){return e.sort_id<t.sort_id?-1:e.sort_id>t.sort_id?1:0}),this.rebuildRecommendedList(e.feed,t)},"recommendedItemsError":function(e,t){this.loading=!1,this.recommendedList.removeClass("queue_list_loading"),this.setRecommendedErrorState(e.o.append)},"setRecommendedErrorState":function(e){var t=this;this.recommendedErrorCall=!0,e?(boot.showErrorNotification(Handlebars.templates.queue_recommendedappenderror(dictJSON),!1,!0),$(".recommended_refreshqueueappend").off("click").on("click",function(e){e.preventDefault(),$(".notifications-error").addClass("notifications-inactive"),setTimeout(function(){$(".notifications-error").removeClass("notifications-active notifications-inactive")},0),t.recommendedErrorCall=!1,t.getRecommendedItems(!0)})):(this.recommendedList.empty(),this.recommendedList.append($(Handlebars.templates.queue_recommendedemptyerror(dictJSON))),PocketAnalytics.action("recommended_emptyerror","view","webapp"),$(".recommend_refreshqueue").click(function(e){e.preventDefault(),$(this).hasClass("button-disabled")||(PocketAnalytics.action("click_recommendedemptyrefresh","click","webapp"),$(this).addClass("button-disabled"),$(".recommended_loading").removeClass("recommended_loading_inactive"),t.getRecommendedItems(!1,!0))}))},"setSponsorTracking":function(e,t){var n=e.hasClass("item_recommend")?"feed":"list",i={"cxt_impression_id":t,"cxt_view":n,"cxt_feed_item":e.data("feeditemid"),"cxt_index":e.data("contextIndex")};e.data("postid")&&(i.cxt_post_id=e.data("postid")),queue.data.itemAction({"data":{"action":"sp_impression_loaded","context":i}});var a=new OpenAdViewability;a.checkViewability(e[0],function(e){e.viewabiltyStatus&&queue.data.itemAction({"data":{"action":"sp_impression_viewed","context":i}})}),e.find(".item_link").on("click",function(){queue.data.itemAction({"data":{"action":"sp_impression_clicked","context":i}})})},"setItemActions":function(e,t){var n=this,i=e.find(".item_link"),a=e.find(".item_content_save"),s=e.find(".item_content_overflow"),o=e.find(".spoc_educate_trigger"),r=e.find(".spoc_educate_hide"),l=e.data("impressionid")||"";i.click(function(t){PocketAnalytics.logAction(n.stateSelector.value,e.data("feeditemid"),e.data("contextIndex"),l)}),a.click(function(e){e.preventDefault();var t=$(this),i=t.data("saveurl"),a=t.parents(".item"),s=a.data("impressionid");if(!t.hasClass("item_content_saved")&&!t.hasClass("item_content_saving")&&"string"==typeof i){var o={};o.cxt_view=PocketAnalytics.convertContextView(n.stateSelector.value),o.cxt_feed_item=a.data("feeditemid"),o.cxt_index=a.data("contextIndex"),s&&(o.cxt_impression_id=s),t.attr("title",Templating.callTrans("cta.saving")).addClass("item_content_saving"),queue.addURL(i,function(){t.addClass("item_content_saved"),t.find(".item_content_savetext").text(Templating.callTrans("cta.saved")),queue.getGamifyStatus()&&!queue.getGamifyStatus().completedSteps.recommendedSave&&(queue.registerGamifyCompletedStep("recommendedSave"),queue.showGamifyStyleTooltip({"anchor":$(".queue_togglesection_home"),"directions":["bottomright"],"offset":4,"wording":Templating.callTrans("gamify.nicesaverecommend"),"checkbox":!0,"fixed":!0}))},o)}}),s.click(function(e){e.preventDefault(),n.showItemOverflowMenu(this)}),o.length&&o.click(function(t){t.preventDefault(),e.toggleClass("show_education")}),r.length&&r.click(function(t){e.toggleClass("show_education")})},"rebuildRecommendedList":function(e,t){function n(e){var t=e;return e>=queue.BREAK_ITEM_COLUMNS_TWO&&(t=Math.ceil(e/2)-3*queue.ITEM_MARGIN),e>=queue.BREAK_ITEM_COLUMNS_THREE&&(t=Math.ceil(e/3)-Math.ceil(8/3*queue.ITEM_MARGIN)),e>=queue.BREAK_ITEM_COLUMNS_FOUR&&(t=Math.ceil(e/4)-Math.ceil(2.5*queue.ITEM_MARGIN)),t}e=e||this.recommendedItems,t=t||{};{var a=this;"grid"==this.selectedView&&$(window).width()>=this.BREAK_ITEM_COLUMNS_TWO}t.o.append||(this.recommendedList.empty(),this.recommendedItems=[],this.gamifyCheckLogic(),boot.ExternalUserSettings.seenrecommendedmessage||(this.showRecommendedInfoMessage(),boot.ExternalUserSettings.seenrecommendedmessage=!0,boot.saveExternalUserSettings()));var s,o,r,l,c=$(window).width(),u=[],d=this.recommendedItems.length;for(i in e){l=e[i],s=l.item,format=e[i].format||0,formatImage=e[i].image||0,dictJSON.manual.recommend_title=s.title;var h=s.resolved_url?s.resolved_url:s.given_url;if(dictJSON.manual.recommend_url=urlWithPocketRedirect(h),dictJSON.manual.recommend_saveurl=sanitizeText(h),dictJSON.manual.recommend_domain=sanitizeText(domainForURL(h))||"",dictJSON.manual.recommend_excerpt="",dictJSON.manual.recommend_itemid=s.resolved_id,dictJSON.manual.recommend_feeditemid=e[i].feed_item_id,dictJSON.manual.recommend_showexcerpt=0,dictJSON.manual.formatTitle=format?format.tile_header.text:0,dictJSON.manual.sponsored=l.impression_info?"spoc":"",dictJSON.sponsor={},l.impression_info){var p=l.impression_info,f=l,m=l.item;dictJSON.sponsor={"isSponsored":1,"label":p.display.format.header.right_label,"itemid":m.resolved_id,"feeditemid":f.feed_item_id,"brand_avatar":f.post.profile.avatar_url,"brand_domain":p.display.domain,"brand_name":f.post.profile.name,"brand_profile":f.post.profile.username,"item_url":m.given_url,"item_title":m.title,"impressionid":p.impression_id,"track":p.track,"post_id":f.post.post_id},dictJSON.manual.recommend_url=sanitizeText(m.redirect_url),dictJSON.manual.recommend_saveurl=sanitizeText(m.given_url),dictJSON.manual.recommend_imagesrc=p.display.image.src,dictJSON.manual.recommend_domain=p.display.domain||"",s.image={"src":p.display.image.src,"width":0,"height":0,"feed_item_id":f.feed_item_id}}formatImage?(dictJSON.manual.recommend_tileclass="recommend",dictJSON.manual.recommend_imagesrc=formatImage.src,o=n(c)):s.image&&s.image.src?(dictJSON.manual.recommend_tileclass="recommend",dictJSON.manual.recommend_imagesrc=s.image.src,o=n(c)):s.excerpt&&s.excerpt.length>25?(dictJSON.manual.recommend_tileclass="recommend_excerpt",dictJSON.manual.recommend_excerpt=s.excerpt,dictJSON.manual.recommend_showexcerpt=1):(o=!1,dictJSON.manual.recommend_tileclass="recommend_only_title");var g=$(Handlebars.templates.queue_recommendeditemshell(dictJSON));g.data("tileType",dictJSON.manual.recommend_tileclass),g.data("contextIndex",parseInt(i)+d+1),l.impression_info&&(g.data("postid",f.post.post_id),a.setSponsorTracking(g,p.impression_id)),u.push(g),this.recommendedItems.push(g);var v=window.devicePixelRatio||1,_=v>1;if(s.image&&s.image.src||formatImage&&formatImage.src){var b=s.image?getImageCacheUrl(s.image.src,"w"+Math.round(o*v)+(Math.round(r*v)?"-h"+Math.round(r*v):""),"t",_):void 0;b=formatImage?formatImage.src:b,thumb=g.find(".thumb"),thumb.addClass("lazy-load"),thumb.attr("data-lazy-type","thumbnail"),thumb.attr("data-lazy-key",dictJSON.manual.recommend_itemid),thumb.attr("data-thumburl",b),thumb.data("variant",this.THUMB_VARIANT_RECOMMENDED)}}$.each(u,function(e,t){a.setItemActions(t),a.recommendedList.append(u)}),this.recommendedLoadMoreRow||(this.recommendedLoadMoreRow=$('<li class="item_recommend_loading"></li>'),this.recommendedList.append(this.recommendedLoadMoreRow)),u.length<1?(this.recommendedRemaining=!1,this.recommendedLoadMoreRow.hide()):(this.recommendedRemaining=!0,this.recommendedLoadMoreRow.show()),this.loading=!1,this.recommendedList.removeClass("queue_list_loading"),setTimeout(function(){this.adjustRecommendedTiles(),this.processLazyLoadScroll(),this.sendRecommendImpressionsInView()}.bind(this),50)},"showRecommendedHideActions":function(e,t,n){dialog=Handlebars.templates.queue_recommendedreportitem(dictJSON),OverlayScreen.setDetail(dialog),OverlayScreen.show(),PocketAnalytics.action("view_reportproblem","view","webapp");var i=OverlayScreen.overlayScreen;i.find(".close").click(function(e){e.preventDefault(),OverlayScreen.hide()}),i.find("input").change(function(e){i.find(".button").removeClass("button-disabled")}),i.find(".button-hide").click(function(a){if(a.preventDefault(),!$(this).hasClass("button-disabled")){PocketAnalytics.action("submit_reportproblem","interact","webapp"),$(this).addClass("button-disabled"),$(".overlay_detail_reportitemprocessing").addClass("overlay_detail_reportitemprocessingactive");var s=i.find("input").eq(0).prop("checked")?i.find("input").eq(0).val():i.find("input").eq(1).val(),o={"sourceCheck":PocketAnalytics.sourceCheck.toString(),"sourceTime":PocketAnalytics.sourceTime,"itemId":t,"feed_item_id":n,"reason":s,"formCheck":formCheck};$.ajax({"url":"/a/x/feedItemReport.php","type":"POST","dataType":"json","data":o,"success":function(t){"number"==typeof t.status&&1==t.status?(OverlayScreen.hide(),sharedToast.show(Templating.callTrans("recommended.itemhidden")),Modernizr.csstransitions?e.on("webkitTransitionEnd transitionend msTransitionEnd oTransitionEnd",function(t){e.hide()}):e.hide(),e.addClass("removed item-column-hidden"),PocketAnalytics.action("reportitem_close","interact","webapp")):(OverlayScreen.hide(),boot.showErrorNotification(Templating.callTrans("notification.unexpectederror")),PocketAnalytics.action("reportitem_error","interact","webapp"))},"error":function(e,t){OverlayScreen.hide(),boot.showErrorNotification(Templating.callTrans("notification.unexpectederror")),PocketAnalytics.action("reportitem_close","interact","webapp")}})}})},"showItemOverflowMenu":function(e){var t=this;if(e){if(!t.overflowMenu){var n=Handlebars.templates.queue_recommendedoverflow(dictJSON);t.overflowMenu=new PopOver("overflowMenu",n,$("#container"),{"hideOnClickInPopover":!0,"xOffset":10,"yOffset":10,"positions":["bottom","bottomright","bottomleft","top","topleft","topright"],"beforeShow":function(e){var t=$(e).closest(".item");this.object.removeClass("spoc"),t.hasClass("spoc")&&this.object.addClass("spoc")},"onShow":function(e){var n=$(e).closest(".item"),i=n.hasClass("item_recommend")?"feed":"list";t.recOverflow={"item":n,"itemID":n.attr("id").replace(/^i/,""),"itemurl":n.data("itemurl"),"feedItemID":n.data("feeditemid"),"sponsored":n.hasClass("spoc"),"context":{"cxt_view":i,"cxt_feed_item":n.data("feeditemid"),"cxt_index":n.data("contextIndex")}},n.data("postid")&&(t.recOverflow.context.cxt_post_id=n.data("postid")),n.data("impressionid")&&(t.recOverflow.context.cxt_impression_id=n.data("impressionid"))},"onHide":function(){this.object.removeClass("spoc")},"onInit":function(){$(".rec-overflow-hide-this").on("click",function(e){if(e.preventDefault(),t.recOverflow.sponsored){var n={"sourceCheck":PocketAnalytics.sourceCheck.toString(),"sourceTime":PocketAnalytics.sourceTime,"itemId":t.recOverflow.itemID,"feed_item_id":t.recOverflow.feedItemID,"context":t.recOverflow.context,"formCheck":formCheck};$.ajax({"url":"/a/x/feedItemReport.php","type":"POST","dataType":"json","data":n,"success":function(e){"number"==typeof e.status&&1==e.status?(sharedToast.show(Templating.callTrans("recommended.itemhidden")),Modernizr.csstransitions?t.recOverflow.item.on("webkitTransitionEnd transitionend msTransitionEnd oTransitionEnd",function(e){t.recOverflow.item.hide()}):t.recOverflow.item.hide(),t.recOverflow.item.addClass("removed item-column-hidden"),PocketAnalytics.action("reportitem_close","interact","webapp")):(boot.showErrorNotification(Templating.callTrans("notification.unexpectederror")),PocketAnalytics.action("reportitem_error","interact","webapp"))},"error":function(e,t){boot.showErrorNotification(Templating.callTrans("notification.unexpectederror")),PocketAnalytics.action("reportitem_error","interact","webapp")}})}else t.showRecommendedHideActions(t.recOverflow.item,t.recOverflow.itemID,t.recOverflow.feedItemID)}),$(".rec-overflow-copy-url").on("click",function(e){e.preventDefault(),copyTextToClipboard(t.recOverflow.itemurl,{"success":function(){sharedToast.show(Templating.callTrans("recommended.copysuccess"))},"error":function(){sharedToast.show(Templating.callTrans("recommended.copyerror"))}})})}})}t.overflowMenu.show($(e))}},"adjustRecommendedTiles":function(){var e=this.recommendedList.children(".item").not(".adjusted,.item_placeholder,.item_placeholder_gamify,.item_placeholder_gamifyempty");if(e.length){if($(window).width()<this.BREAK_ITEM_COLUMNS_TWO)return void e.addClass("adjusted");var t={},n={},i=null,a=null;$.each(e,function(e,s){var o=$(s),r=o.attr("id"),l=o.data("tileType");if(i||(i=o.find(".item_content").outerHeight()),"recommend"==l){var c=o.find(".item_content_text").outerHeight();t[r]=i-c}else{a||(a=o.find(".item_content_actions").outerHeight());var u=o.find(".title").outerHeight()+o.find(".domain").outerHeight()+a+10;n[r]=i-u}}),$.each(e,function(e,i){var a=$(i);a.addClass("adjusted");var s=a.attr("id"),o=a.data("tileType");if("recommend"==o){var r=t[s];"undefined"!=typeof r&&a.find(".thumb").css("height",r)}else{var l=n[s];"undefined"!=typeof l&&(l=21*Math.floor(l/21),a.find(".excerpt").css("height",l))}})}},"sendRecommendImpressionsInView":function(){var e=this,t=$("body").scrollTop()?$("body").scrollTop():$("html").scrollTop(),n=t+$(window).height(),i=e.recommendedList.children(".item").not(".item_recommend_msg,.item_recommend_impressioned,.item_placeholder_gamify"),a=[],s=[],o=this.tilesPerRow+1;$.each(i,function(t,i){var r=$(i),l=r.find(".title"),c=l.offset().top+l.height()/2;if(c>n){if(0==o)return!1;o--}n>=c&&(a.push({"cxt_view":e.stateSelector.value,"cxt_feed_item":r.data("feeditemid"),"cxt_index":r.data("contextIndex")}),s.push(r))}),$.each(s,function(e,t){t.addClass("item_recommend_impressioned")}),a.length&&PocketAnalytics.feedItemImpression(a)},"showRecommendedInfoMessage":function(){$(".item_recommend_msg").length||(dictJSON.manual.recommendedmsg_english="en-US"==ServerSettings.language?1:0,dictJSON.manual.recommendedmsg_existing=boot.ExternalUserSettings.existingprerecommend?1:0,dictJSON.manual.recommendedmsg_howtosave=Templating.callTrans("recommended.clickpocketbuttondetail").replace("xxxxx",'<span class="item_recommend_msgsavelogo"></span>').replace("yyyyy",'<span class="item_recommend_msgsavearrow"></span>'),
dictJSON.manual.recommendedmsg_gamifymode=this.getGamifyStatus()?1:null,$(".queue_list_recommend").find(".item_placeholder_gamify").length?$(".queue_list_recommend .item_placeholder_gamify").after(Handlebars.templates.queue_recommendedmessagenew(dictJSON)):$(".queue_list_recommend").prepend(Handlebars.templates.queue_recommendedmessagenew(dictJSON)),$(".item_recommend_msgclose").click(function(e){e.preventDefault();var t=$(".item_recommend_msg");Modernizr.csstransitions?t.on("webkitTransitionEnd transitionend msTransitionEnd oTransitionEnd",function(e){t.hide()}):t.hide(),t.addClass("removed item-column-hidden"),PocketAnalytics.action("recommendmsg_close","interact","webapp")}),PocketAnalytics.action("recommendmsg_show","view","webapp"))}};var InboxView=function(e,t,n){this.view=e,this.notifications=t,this.unconfirmedNotifications=n};InboxView.prototype.reloadData=function(e,t){this.unconfirmedNotifications=t,this.notifications=e,this.view.find(".notification").remove();var n=0;for(var i in this.unconfirmedNotifications){var a=this.unconfirmedNotifications[i],s=this.cellForUnconfirmedNotification(a);this.view.append(s),s.css("height",s.height()+50),n+=s.height()+50}for(var o=0;o<this.notifications.length;o++){var a=this.notifications[o],s=this.cellForNotification(a);this.view.append(s),s.css("height",s.height()+50),n+=s.height()+50}if(0==this.notifications.length&&0==this.unconfirmedNotifications){var s=this.cellForEmptyState();this.view.append(s)}setTimeout(function(){this.view.find(".notification").addClass("canAnimate"),n>parseInt(this.view.css("maxHeight"))?(this.view.addClass("inbox_scroll_mode"),$("#notifications_list").addClass("notifications_list_scrollmode")):(this.view.removeClass("inbox_scroll_mode"),$("#notifications_list").removeClass("notifications_list_scrollmode"))}.bind(this),1)},InboxView.prototype.cellForUnconfirmedNotification=function(e){var t=$("<div class='unconfirmed notification'></div>"),n=$("<div class='item'></div>"),i=$("<div class='title'></div>");i.text(Templating.callTrans("queue.confirmyouremail"));var a=$("<div class='description'></div>");a.text(""+(e.name||Templating.callTrans("queue.afriend"))+" "+Templating.callTrans("queue.hassharedconfirm")+" "+e.email);var s=$("<div class='buttons'></div>"),o=$("<a class='resend button'>"+Templating.callTrans("queue.resendconfirmation")+"</a>");return o.click(function(n){return boot.helper.sync.makeAPIRequest("resendEmailConfirmation",{"email":e.email}).done(function(n){delete queue.unconfirmedNotifications[e.email],queue.receivedNotifications(queue.notifications,queue.unconfirmedNotifications),t.addClass("hidden");var i=!1;for(var a in queue.unconfirmedNotifications){i=!0;break}0!==queue.notifications.length||i||queue.inboxPopover.show(!1),sharedToast.show(Templating.callTrans("notification.sent"))}).fail(function(e){200!=e.status?alert(Templating.callTrans("queue.couldntresend")):e.success()}),n.preventDefault(),!1}),n.append(i).append(a),s.append(o),t.append(n).append(s),t},InboxView.prototype.cellForEmptyState=function(){var e=$('<div class="notification notification_empty"><h3>'+Templating.callTrans("notification.inboxempty")+"</h3><p>"+Templating.callTrans("notification.inboxempty_intro")+"</p><p>"+Templating.callTrans("notification.inboxempty_introtwo")+"</p></div>");return e};var attributionForShare=InboxView.prototype.cellForNotification=function(e,t,n,i){t=t||e.item,n=n||!1;var a=t.resolved_url?t.resolved_url:t.given_url,s=e.from_friend;s||(s=queue.friends[e.from_friend_id]);var o=a,r=$("<div class='notification'></div>"),l=$("<div class='attribution'></div>"),c=$("<div class='avatar'></div>"),u=(window.devicePixelRatio||1)>1?"-2x":"-1x",d=s&&s.avatar_url?getImageCacheUrl(s.avatar_url,"w90-h90-nc"):"/a/i/empty_avatar"+u+".png";c.css("backgroundImage","url("+d+")");var h=$("<div class='full_name'></div>");h.text(s&&s.name?s.name:"A friend");var p=$("<div class='time_since'></div>");"string"==typeof e.time_shared&&(e.time_shared=new Date(1e3*parseInt(e.time_shared,10)));var f=e.time_shared;p.text(""+relativeDateString(f));var m=$();e.comment&&e.comment.length&&(m=$("<div class='comment'></div>"),m.text(e.comment));var g=$();if(e.quote&&e.quote.length>0&&(g=$("<div class='quote'></div>"),g.text(e.quote)),!i){var v=$("<div class='caret'></div>"),_=$("<div class='item'></div>"),b=$("<div class='title'></div>"),y=$('<a class="title_link" target="_blank">');y.attr("href",o),y.text(t.resolved_title),b.append(y);var S=$("<div class='domain'></div>");S.text(domainForURL(a));var w=$("<div class='buttons'></div>"),T=$("<div class='ignore button button-secondary button-mini'>"+Templating.callTrans("cta.ignore")+"</div>"),k=$("<div class='addToList button button-important button-mini'>"+Templating.callTrans("cta.addtolist")+"</div>");k.text().length>13&&k.text(Templating.callTrans("cta.add"));var x=function(){queue.notifications.splice(queue.notifications.indexOf(e),1),queue.receivedNotifications(queue.notifications,queue.unconfirmedNotifications),r.addClass("hidden"),0===queue.notifications.length&&queue.inboxPopover.show(!1)};T.click(function(n){return n.preventDefault(),t=queue.itemsByID[e.item_id]||e.item,t.shares=t.shares||{},e.item=void 0,"string"==typeof e.time_shared&&(e.time_shared=new Date(1e3*parseInt(e.time_shared,10))),e.status="2",t.shares[e.share_id]=e,queue.data.itemAction({"data":{"action":"share_ignored","share_id":e.share_id,"itemId":e.item_id,"item":t}}),x(),!1}),k.click(function(n){n.preventDefault(),t=queue.itemsByID[e.item_id]||e.item,t.shares=t.shares||{},e.item=void 0,"string"==typeof e.time_shared&&(e.time_shared=new Date(1e3*parseInt(e.time_shared,10))),e.status="1",t.shares[e.share_id]=e;var i=queue.items.indexOf(t);return i>=0&&queue.items.splice(i,1),queue.data.itemAction({"data":{"action":"share_added","share_id":e.share_id,"itemId":e.item_id,"item":t}}),queue.items.splice(0,0,t),queue.itemsByID[t.item_id]=t,queue.rebuildList(void 0,{"o":{"append":!1}}),x(),!1})}return l.append(c).append(h).append(p).append(m),r.append(l),i?l.append(g):(l.append(v),_.append(b).append(S).append(g),w.append(T).append(k),r.append(_).append(w)),r};imgScale=1;try{imgScale=window.devicePixelRatio?window.devicePixelRatio:1}catch(e){}var queue=new Queue;boot.pages.queue=queue,PocketAnalytics={"sourceCheck":null,"sourceTime":null,"prevAction":null,"openContext":{},"impressionIds":{},"init":function(e,t){"number"==typeof e&&(this.sourceTime=e),"string"==typeof t&&(this.sourceCheck=t)},"action":function(e,t,n,i,a,s){if(this.sourceCheck&&this.sourceTime){this.prevAction=e;var o={"view":"web","type_id":t,"section":n,"page":this.getPage(),"identifier":e,"extra_int_data":i};"string"==typeof s&&(o.page=s),this.actionSend(o,a)}},"actionWithExtraString":function(e,t,n,i,a){if(this.sourceCheck&&this.sourceTime){this.prevAction=e;var s={"view":"web","type_id":t,"section":n,"page":this.getPage(),"identifier":e,"extra_content":i};this.actionSend(s,a)}},"actionSend":function(e,t){var n={"sourceCheck":this.sourceCheck.toString(),"sourceTime":this.sourceTime,"actions":JSON.stringify([e])};$.ajax({"url":"/web/x/pv.php","type":"POST","dataType":"json","data":n,"complete":function(e,n){"function"==typeof t&&t()}})},"convertContextView":function(e){return"string"!=typeof e?"":"recommended"==e?"feed":"queue"==e||"archive"==e||"favorites"==e?"list":e},"setOpenContext":function(e,t,n){this.openContext={"cxt_view":this.convertContextView(e),"cxt_feed_item":t,"cxt_index":n}},"feedItemImpression":function(e){if($.isArray(e)&&e.length){var t={"sourceCheck":this.sourceCheck.toString(),"sourceTime":this.sourceTime,"contexts":[]};for(var n in e){var i=e[n];"string"==typeof i.cxt_view&&(i.cxt_view=this.convertContextView(i.cxt_view)),this.impressionIds[i.cxt_feed_item]||(this.impressionIds[i.cxt_feed_item]=!0,t.contexts.push(i))}$.ajax({"url":"/a/x/feedItemImpression.php","type":"POST","dataType":"json","data":t})}},"logAction":function(e,t,n,i){var a={"sourceCheck":this.sourceCheck.toString(),"sourceTime":this.sourceTime,"actions":[{"action":"opened_web","context":{"cxt_view":this.convertContextView(e),"cxt_feed_item":t,"cxt_index":n,"cxt_impression_id":i}}]};$.ajax({"url":"/web/x/la.php","type":"POST","dataType":"json","data":a})},"bindActions":function(){var e=$("body").attr("class");if("string"==typeof e){var t=this;if(e.indexOf("page-home")>-1&&$("#video_prompt").click(function(e){t.action("cta_video","click","core")}),e.indexOf("page-login")>-1){var n=$(".textbox"),i=n.filter('[name="feed_id"]'),a=n.filter("#password_input"),s=/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,6}$/i;i.blur(function(){t.action("blur_username","interact","core")}),a.blur(function(){t.action("blur_password","interact","core")});var o=!1,r=!1,l=!1;i.keypress(function(){o||(o=!0,t.action("modify_username","interact","core")),!r&&s.test($(this).val())&&(r=!0,t.action("modify_usernamewemail","interact","core"))}),a.keypress(function(){l||(l=!0,t.action("modify_password","interact","core"))})}e.indexOf("page-app")>-1&&($("#container").delegate("#bulk_edit_toggle_button","click",function(){t.action("cta_bulkedittoggle","click","webapp")}),$("#container").delegate("#sort_selector","click",function(){t.action("cta_sortselector","click","webapp")}),$("#container").delegate(".segmentControl .article","click",function(){t.action("cta_segmentarticle","click","webapp")}),$("#container").delegate(".segmentControl .video","click",function(){t.action("cta_segmentvideo","click","webapp")}),$("#container").delegate(".segmentControl .image","click",function(){t.action("cta_segmentimage","click","webapp")}),$("#container").delegate(".tag","click",function(){$(this).hasClass("toolbarButton")&&t.action("cta_tagsidebartoggle","click","webapp")}),$("#container").delegate(".buttonItem","click",function(){"bedit_save_button"==$(this).attr("id")?$(this).find(".highlight").length?t.action("cta_bulkeditcommitsuccess","click","webapp"):t.action("cta_bulkeditcommitfail","click","webapp"):t.action("cta_bulkeditcancel","click","webapp")})),e.indexOf("page-welcome")>-1&&$(".btn,.button").click(function(){t.action("cta_installbutton","click","core")})}},"formattedHrefParams":function(e){return"string"==typeof e?-1==e.indexOf("?")?"":e.slice(e.indexOf("?")+1):void 0},"getQueryVariable":function(e){for(var t=window.location.search.substring(1),n=t.split("&"),i=0;i<n.length;i++){var a=n[i].split("=");if(decodeURIComponent(a[0])==e)return decodeURIComponent(a[1])}return!1},"getPage":function(){var e=document.location.pathname;return e.length>1&&"/"==e.charAt(e.length-1)?e.slice(0,-1):e}},$(function(){PocketAnalytics.bindActions()}),PocketUserApps={"sourceCheck":null,"sourceTime":null,"ready":!1,"appTypes":null,"userId":null,"init":function(e,t){"number"==typeof e&&(this.sourceTime=e),"string"==typeof t&&(this.sourceCheck=t),this.poll()},"poll":function(){var e=this,t={"sourceTime":this.sourceTime,"sourceCheck":this.sourceCheck,"type":"summary"};$.ajax({"url":"/web/x/getuserapps.php","type":"POST","dataType":"json","data":t,"complete":function(){e.ready=!0},"success":function(t){"object"==typeof t.app_types&&(e.appTypes=t.app_types)}})},"installedExtension":function(){return this.appTypes&&"number"==typeof this.appTypes.pocket_extension},"installedMobile":function(){return this.appTypes&&"number"==typeof this.appTypes.pocket_mobile}};