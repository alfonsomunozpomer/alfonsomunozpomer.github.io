var sierpinski=webpackJsonp_name_([0],{185:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){if(Array.isArray(e)){for(var t=0,s=Array(e.length);t<e.length;t++)s[t]=e[t];return s}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0});var f=function(){function e(e,t){for(var s=0;s<t.length;s++){var n=t[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,s,n){return s&&e(t.prototype,s),n&&e(t,n),t}}(),l=s(32),h=n(l),u=s(84),c=n(u),d=Math.sin(Math.PI/3),p=function(e,t,s){var n=d*s;return[[e-s/2,t+n/3],[e,t-2*n/3],[e+s/2,t+n/3]]},v=function(e,t,s){var n=(p(e,t,s),d*s);return[[e-s/4,t+(n/3-n/6),s/2],[e+s/4,t+(n/3-n/6),s/2],[e,t-n/3,s/2]]},_=function(e,t,s){var n=p(e,t,s),a=new Path2D;return a.moveTo.apply(a,i(n[0])),a.lineTo.apply(a,i(n[1])),a.lineTo.apply(a,i(n[2])),a},y=function(e,t,s,n){return function e(t){return t[0][2]<n?t:e(t.reduce(function(e,t){return e.concat(v.apply(void 0,i(t)))},[]))}([[e,t,s]])},w=function(e){function t(e){a(this,t);var s=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return s.state={scale:s.props.scale,offsetX:s.props.offsetX,offsetY:s.props.offsetY,drag:!1,dragX:0,dragY:0},s._handleKeyPress=s._handleKeyPress.bind(s),s._handleOnWheel=s._handleOnWheel.bind(s),s._handleOnMouseDown=s._handleOnMouseDown.bind(s),s._handleOnMouseUp=s._handleOnMouseUp.bind(s),s._handleOnMouseMove=s._handleOnMouseMove.bind(s),s._draw=s._draw.bind(s),s}return r(t,e),f(t,[{key:"render",value:function(){var e=this;return h.default.createElement("div",null,h.default.createElement("canvas",{ref:function(t){e.canvasRef=t,e.canvasContext=t.getContext("2d")},width:this.props.width,height:this.props.width,tabIndex:0,style:{border:"1px solid black"},onKeyPress:this._handleKeyPress,onWheel:this._handleOnWheel,onMouseDown:this._handleOnMouseDown,onMouseUp:this._handleOnMouseUp,onMouseMove:this._handleOnMouseMove,onMouseOut:this._handleOnMouseUp}),h.default.createElement("p",null,"Use WASD or drag with left mouse button to pan, E/Q or mouse wheel to zoom in and out, X to reset view"))}},{key:"_handleOnWheel",value:function(e){e.preventDefault(),this._draw({scale:this.state.scale+.001*e.deltaY,offsetX:this.state.offsetX,offsetY:this.state.offsetY})}},{key:"_handleOnMouseDown",value:function(e){this.setState({drag:!0,dragX:e.clientX,dragY:e.clientY})}},{key:"_handleOnMouseUp",value:function(e){this.setState({drag:!1})}},{key:"_handleOnMouseMove",value:function(e){if(this.state.drag){var t=e.clientX-this.state.dragX,s=e.clientY-this.state.dragY;this.setState({dragX:e.clientX,dragY:e.clientY}),this._draw({scale:this.state.scale,offsetX:this.state.offsetX+t,offsetY:this.state.offsetY+s})}}},{key:"_handleKeyPress",value:function(e){e.preventDefault(),"e"===e.key?this._draw({scale:this.state.scale+.25,offsetX:this.state.offsetX,offsetY:this.state.offsetY}):"q"===e.key?this._draw({scale:this.state.scale-.25,offsetX:this.state.offsetX,offsetY:this.state.offsetY}):"w"===e.key?this._draw({scale:this.state.scale,offsetX:this.state.offsetX,offsetY:this.state.offsetY+100}):"s"===e.key?this._draw({scale:this.state.scale,offsetX:this.state.offsetX,offsetY:this.state.offsetY-100}):"a"===e.key?this._draw({scale:this.state.scale,offsetX:this.state.offsetX+100,offsetY:this.state.offsetY}):"d"===e.key?this._draw({scale:this.state.scale,offsetX:this.state.offsetX-100,offsetY:this.state.offsetY}):"x"===e.key&&this._draw({scale:1,offsetX:0,offsetY:0})}},{key:"_draw",value:function(e){var t=this,s=e.scale<.025?.025:e.scale,n=(s-this.state.scale)/5,a=(e.offsetX-this.state.offsetX)/5,o=(e.offsetY-this.state.offsetY)/5,r=this.state.scale,f=this.state.offsetX,l=this.state.offsetY,h=0;Math.round(10/s)!==Math.round(10/this.state.scale)&&(this.sierpinskiTriangles=y(this.props.width/2,2*d*this.props.width/3,this.props.width-50,Math.round(10/s)).map(function(e){return _.apply(void 0,i(e))}));!function e(){r+=n,f+=a,l+=o,t.canvasContext.clearRect(0,0,t.props.width,t.props.width),t.canvasContext.setTransform(r,0,0,r,f,l),t.sierpinskiTriangles.forEach(function(e){return t.canvasContext.fill(e)}),t.canvasContext.setTransform(1,0,0,1,0,0),(h+=1)<5&&window.requestAnimationFrame(e)}(),this.setState({scale:s,offsetX:e.offsetX,offsetY:e.offsetY})}},{key:"shouldComponentUpdate",value:function(){return!1}},{key:"componentWillReceiveProps",value:function(e){e.scale===this.props.scale&&e.offsetX===this.props.offsetX&&e.offsetY===this.props.offsetY||this._draw(e)}},{key:"componentDidMount",value:function(){var e=this;this.sierpinskiTriangles=y(this.props.width/2,2*d*this.props.width/3,this.props.width-50,Math.round(10/this.props.scale)).map(function(e){return _.apply(void 0,i(e))}),this.canvasContext.clearRect(0,0,this.props.width,this.props.width),this.canvasContext.scale(this.props.scale,this.props.scale),this.canvasContext.translate(this.props.offsetX,this.props.offsetY),this.sierpinskiTriangles.forEach(function(t){return e.canvasContext.fill(t)}),this.canvasContext.setTransform(1,0,0,1,0,0)}}]),t}(h.default.Component);w.propTypes={scale:c.default.number,offsetX:c.default.number,offsetY:c.default.number,width:c.default.number},w.defaultProps={scale:1,offsetX:0,offsetY:0,width:600},t.default=w},85:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.render=t.default=void 0;var a=s(32),o=n(a),r=s(58),i=n(r),f=s(185),l=n(f),h=function(e,t){i.default.render(o.default.createElement(l.default,e),document.getElementById(t))};t.default=l.default,t.render=h}},[85]);